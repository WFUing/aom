(()=>{var HN=Object.create;var iu=Object.defineProperty;var WN=Object.getOwnPropertyDescriptor;var GN=Object.getOwnPropertyNames;var BN=Object.getPrototypeOf,KN=Object.prototype.hasOwnProperty;var rp=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var zN=(e,t)=>()=>(e&&(t=e(e=0)),t);var P=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),VN=(e,t)=>{for(var r in t)iu(e,r,{get:t[r],enumerable:!0})},yT=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of GN(t))!KN.call(e,i)&&i!==r&&iu(e,i,{get:()=>t[i],enumerable:!(n=WN(t,i))||n.enumerable});return e};var Ne=(e,t,r)=>(r=e!=null?HN(BN(e)):{},yT(t||!e||!e.__esModule?iu(r,"default",{value:e,enumerable:!0}):r,e)),np=e=>yT(iu({},"__esModule",{value:!0}),e);var Zo=P(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.stringArray=tr.array=tr.func=tr.error=tr.number=tr.string=tr.boolean=void 0;function YN(e){return e===!0||e===!1}tr.boolean=YN;function RT(e){return typeof e=="string"||e instanceof String}tr.string=RT;function XN(e){return typeof e=="number"||e instanceof Number}tr.number=XN;function JN(e){return e instanceof Error}tr.error=JN;function QN(e){return typeof e=="function"}tr.func=QN;function bT(e){return Array.isArray(e)}tr.array=bT;function ZN(e){return bT(e)&&e.every(t=>RT(t))}tr.stringArray=ZN});var Ap=P(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Message=oe.NotificationType9=oe.NotificationType8=oe.NotificationType7=oe.NotificationType6=oe.NotificationType5=oe.NotificationType4=oe.NotificationType3=oe.NotificationType2=oe.NotificationType1=oe.NotificationType0=oe.NotificationType=oe.RequestType9=oe.RequestType8=oe.RequestType7=oe.RequestType6=oe.RequestType5=oe.RequestType4=oe.RequestType3=oe.RequestType2=oe.RequestType1=oe.RequestType=oe.RequestType0=oe.AbstractMessageSignature=oe.ParameterStructures=oe.ResponseError=oe.ErrorCodes=void 0;var Ro=Zo(),ip;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(ip||(oe.ErrorCodes=ip={}));var op=class e extends Error{constructor(t,r,n){super(r),this.code=Ro.number(t)?t:ip.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};oe.ResponseError=op;var Ar=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};oe.ParameterStructures=Ar;Ar.auto=new Ar("auto");Ar.byPosition=new Ar("byPosition");Ar.byName=new Ar("byName");var Ye=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Ar.auto}};oe.AbstractMessageSignature=Ye;var sp=class extends Ye{constructor(t){super(t,0)}};oe.RequestType0=sp;var ap=class extends Ye{constructor(t,r=Ar.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.RequestType=ap;var cp=class extends Ye{constructor(t,r=Ar.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.RequestType1=cp;var up=class extends Ye{constructor(t){super(t,2)}};oe.RequestType2=up;var lp=class extends Ye{constructor(t){super(t,3)}};oe.RequestType3=lp;var fp=class extends Ye{constructor(t){super(t,4)}};oe.RequestType4=fp;var dp=class extends Ye{constructor(t){super(t,5)}};oe.RequestType5=dp;var pp=class extends Ye{constructor(t){super(t,6)}};oe.RequestType6=pp;var hp=class extends Ye{constructor(t){super(t,7)}};oe.RequestType7=hp;var mp=class extends Ye{constructor(t){super(t,8)}};oe.RequestType8=mp;var gp=class extends Ye{constructor(t){super(t,9)}};oe.RequestType9=gp;var yp=class extends Ye{constructor(t,r=Ar.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.NotificationType=yp;var vp=class extends Ye{constructor(t){super(t,0)}};oe.NotificationType0=vp;var Tp=class extends Ye{constructor(t,r=Ar.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.NotificationType1=Tp;var xp=class extends Ye{constructor(t){super(t,2)}};oe.NotificationType2=xp;var Rp=class extends Ye{constructor(t){super(t,3)}};oe.NotificationType3=Rp;var bp=class extends Ye{constructor(t){super(t,4)}};oe.NotificationType4=bp;var _p=class extends Ye{constructor(t){super(t,5)}};oe.NotificationType5=_p;var Sp=class extends Ye{constructor(t){super(t,6)}};oe.NotificationType6=Sp;var kp=class extends Ye{constructor(t){super(t,7)}};oe.NotificationType7=kp;var wp=class extends Ye{constructor(t){super(t,8)}};oe.NotificationType8=wp;var Cp=class extends Ye{constructor(t){super(t,9)}};oe.NotificationType9=Cp;var _T;(function(e){function t(i){let o=i;return o&&Ro.string(o.method)&&(Ro.string(o.id)||Ro.number(o.id))}e.isRequest=t;function r(i){let o=i;return o&&Ro.string(o.method)&&i.id===void 0}e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Ro.string(o.id)||Ro.number(o.id)||o.id===null)}e.isResponse=n})(_T||(oe.Message=_T={}))});var Np=P(Ai=>{"use strict";var ST;Object.defineProperty(Ai,"__esModule",{value:!0});Ai.LRUCache=Ai.LinkedMap=Ai.Touch=void 0;var rr;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(rr||(Ai.Touch=rr={}));var ou=class{constructor(){this[ST]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=rr.None){let n=this._map.get(t);if(n)return r!==rr.None&&this.touch(n,r),n.value}set(t,r,n=rr.None){let i=this._map.get(t);if(i)i.value=r,n!==rr.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case rr.None:this.addItemLast(i);break;case rr.First:this.addItemFirst(i);break;case rr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(ST=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==rr.First&&r!==rr.Last)){if(r===rr.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===rr.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Ai.LinkedMap=ou;var Ep=class extends ou{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=rr.AsNew){return super.get(t,r)}peek(t){return super.get(t,rr.None)}set(t,r){return super.set(t,r,rr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ai.LRUCache=Ep});var wT=P(su=>{"use strict";Object.defineProperty(su,"__esModule",{value:!0});su.Disposable=void 0;var kT;(function(e){function t(r){return{dispose:r}}e.create=t})(kT||(su.Disposable=kT={}))});var Ei=P(Ip=>{"use strict";Object.defineProperty(Ip,"__esModule",{value:!0});var Pp;function Dp(){if(Pp===void 0)throw new Error("No runtime abstraction layer installed");return Pp}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Pp=r}e.install=t})(Dp||(Dp={}));Ip.default=Dp});var ts=P(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.Emitter=es.Event=void 0;var eP=Ei(),CT;(function(e){let t={dispose(){}};e.None=function(){return t}})(CT||(es.Event=CT={}));var Op=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],t))}catch(a){(0,eP.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},au=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Op),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};es.Emitter=au;au._noop=function(){}});var lu=P(rs=>{"use strict";Object.defineProperty(rs,"__esModule",{value:!0});rs.CancellationTokenSource=rs.CancellationToken=void 0;var tP=Ei(),rP=Zo(),Lp=ts(),cu;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Lp.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Lp.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||rP.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(cu||(rs.CancellationToken=cu={}));var nP=Object.freeze(function(e,t){let r=(0,tP.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),uu=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?nP:(this._emitter||(this._emitter=new Lp.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Mp=class{get token(){return this._token||(this._token=new uu),this._token}cancel(){this._token?this._token.cancel():this._token=cu.Cancelled}dispose(){this._token?this._token instanceof uu&&this._token.dispose():this._token=cu.None}};rs.CancellationTokenSource=Mp});var AT=P(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.SharedArrayReceiverStrategy=ns.SharedArraySenderStrategy=void 0;var iP=lu(),Ia;(function(e){e.Continue=0,e.Cancelled=1})(Ia||(Ia={}));var $p=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Ia.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Ia.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};ns.SharedArraySenderStrategy=$p;var Fp=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Ia.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},qp=class{constructor(t){this.token=new Fp(t)}cancel(){}dispose(){}},jp=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new iP.CancellationTokenSource:new qp(r)}};ns.SharedArrayReceiverStrategy=jp});var Hp=P(fu=>{"use strict";Object.defineProperty(fu,"__esModule",{value:!0});fu.Semaphore=void 0;var oP=Ei(),Up=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,oP.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};fu.Semaphore=Up});var NT=P(Ni=>{"use strict";Object.defineProperty(Ni,"__esModule",{value:!0});Ni.ReadableStreamMessageReader=Ni.AbstractMessageReader=Ni.MessageReader=void 0;var Gp=Ei(),is=Zo(),Wp=ts(),sP=Hp(),ET;(function(e){function t(r){let n=r;return n&&is.func(n.listen)&&is.func(n.dispose)&&is.func(n.onError)&&is.func(n.onClose)&&is.func(n.onPartialMessage)}e.is=t})(ET||(Ni.MessageReader=ET={}));var du=class{constructor(){this.errorEmitter=new Wp.Emitter,this.closeEmitter=new Wp.Emitter,this.partialMessageEmitter=new Wp.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${is.string(t.message)?t.message:"unknown"}`)}};Ni.AbstractMessageReader=du;var Bp;(function(e){function t(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)s.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Gp.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}e.fromOptions=t})(Bp||(Bp={}));var Kp=class extends du{constructor(t,r){super(),this.readable=t,this.options=Bp.fromOptions(r),this.buffer=(0,Gp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new sP.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gp.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};Ni.ReadableStreamMessageReader=Kp});var LT=P(Pi=>{"use strict";Object.defineProperty(Pi,"__esModule",{value:!0});Pi.WriteableStreamMessageWriter=Pi.AbstractMessageWriter=Pi.MessageWriter=void 0;var PT=Ei(),Oa=Zo(),aP=Hp(),DT=ts(),cP="Content-Length: ",IT=`\r
`,OT;(function(e){function t(r){let n=r;return n&&Oa.func(n.dispose)&&Oa.func(n.onClose)&&Oa.func(n.onError)&&Oa.func(n.write)}e.is=t})(OT||(Pi.MessageWriter=OT={}));var pu=class{constructor(){this.errorEmitter=new DT.Emitter,this.closeEmitter=new DT.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Oa.string(t.message)?t.message:"unknown"}`)}};Pi.AbstractMessageWriter=pu;var zp;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,PT.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,PT.default)().applicationJson.encoder}}e.fromOptions=t})(zp||(zp={}));var Vp=class extends pu{constructor(t,r){super(),this.writable=t,this.options=zp.fromOptions(r),this.errorCount=0,this.writeSemaphore=new aP.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(cP,n.byteLength.toString(),IT),i.push(IT),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};Pi.WriteableStreamMessageWriter=Vp});var MT=P(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.AbstractMessageBuffer=void 0;var uP=13,lP=10,fP=`\r
`,Yp=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case uP:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case lP:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(fP);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let h=c[u],g=h.indexOf(":");if(g===-1)throw new Error(`Message header must separate key and value using ':'
${h}`);let T=h.substr(0,g),R=h.substr(g+1).trim();a.set(t?T.toLowerCase():T,R)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);r.set(s,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};hu.AbstractMessageBuffer=Yp});var UT=P(Te=>{"use strict";Object.defineProperty(Te,"__esModule",{value:!0});Te.createMessageConnection=Te.ConnectionOptions=Te.MessageStrategy=Te.CancellationStrategy=Te.CancellationSenderStrategy=Te.CancellationReceiverStrategy=Te.RequestCancellationReceiverStrategy=Te.IdCancellationReceiverStrategy=Te.ConnectionStrategy=Te.ConnectionError=Te.ConnectionErrors=Te.LogTraceNotification=Te.SetTraceNotification=Te.TraceFormat=Te.TraceValues=Te.Trace=Te.NullLogger=Te.ProgressType=Te.ProgressToken=void 0;var $T=Ei(),st=Zo(),de=Ap(),FT=Np(),La=ts(),Xp=lu(),Fa;(function(e){e.type=new de.NotificationType("$/cancelRequest")})(Fa||(Fa={}));var Jp;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}e.is=t})(Jp||(Te.ProgressToken=Jp={}));var Ma;(function(e){e.type=new de.NotificationType("$/progress")})(Ma||(Ma={}));var Qp=class{constructor(){}};Te.ProgressType=Qp;var Zp;(function(e){function t(r){return st.func(r)}e.is=t})(Zp||(Zp={}));Te.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Oe;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Oe||(Te.Trace=Oe={}));var qT;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(qT||(Te.TraceValues=qT={}));(function(e){function t(n){if(!st.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Oe||(Te.Trace=Oe={}));var Hr;(function(e){e.Text="text",e.JSON="json"})(Hr||(Te.TraceFormat=Hr={}));(function(e){function t(r){return st.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(Hr||(Te.TraceFormat=Hr={}));var eh;(function(e){e.type=new de.NotificationType("$/setTrace")})(eh||(Te.SetTraceNotification=eh={}));var mu;(function(e){e.type=new de.NotificationType("$/logTrace")})(mu||(Te.LogTraceNotification=mu={}));var $a;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})($a||(Te.ConnectionErrors=$a={}));var os=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};Te.ConnectionError=os;var th;(function(e){function t(r){let n=r;return n&&st.func(n.cancelUndispatched)}e.is=t})(th||(Te.ConnectionStrategy=th={}));var gu;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&st.func(n.createCancellationTokenSource)&&(n.dispose===void 0||st.func(n.dispose))}e.is=t})(gu||(Te.IdCancellationReceiverStrategy=gu={}));var rh;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&st.func(n.createCancellationTokenSource)&&(n.dispose===void 0||st.func(n.dispose))}e.is=t})(rh||(Te.RequestCancellationReceiverStrategy=rh={}));var yu;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new Xp.CancellationTokenSource}});function t(r){return gu.is(r)||rh.is(r)}e.is=t})(yu||(Te.CancellationReceiverStrategy=yu={}));var vu;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Fa.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&st.func(n.sendCancellation)&&st.func(n.cleanup)}e.is=t})(vu||(Te.CancellationSenderStrategy=vu={}));var Tu;(function(e){e.Message=Object.freeze({receiver:yu.Message,sender:vu.Message});function t(r){let n=r;return n&&yu.is(n.receiver)&&vu.is(n.sender)}e.is=t})(Tu||(Te.CancellationStrategy=Tu={}));var xu;(function(e){function t(r){let n=r;return n&&st.func(n.handleMessage)}e.is=t})(xu||(Te.MessageStrategy=xu={}));var jT;(function(e){function t(r){let n=r;return n&&(Tu.is(n.cancellationStrategy)||th.is(n.connectionStrategy)||xu.is(n.messageStrategy))}e.is=t})(jT||(Te.ConnectionOptions=jT={}));var pn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(pn||(pn={}));function dP(e,t,r,n){let i=r!==void 0?r:Te.NullLogger,o=0,s=0,a=0,c="2.0",u,h=new Map,g,T=new Map,R=new Map,C,A=new FT.LinkedMap,O=new Map,w=new Set,p=new Map,d=Oe.Off,_=Hr.Text,q,X=pn.New,Se=new La.Emitter,Le=new La.Emitter,Ut=new La.Emitter,_t=new La.Emitter,G=new La.Emitter,L=n&&n.cancellationStrategy?n.cancellationStrategy:Tu.Message;function Q(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function z(l){return l===null?"res-unknown-"+(++a).toString():"res-"+l.toString()}function be(){return"not-"+(++s).toString()}function ue(l,b){de.Message.isRequest(b)?l.set(Q(b.id),b):de.Message.isResponse(b)?l.set(z(b.id),b):l.set(be(),b)}function ce(l){}function it(){return X===pn.Listening}function Ve(){return X===pn.Closed}function xe(){return X===pn.Disposed}function er(){(X===pn.New||X===pn.Listening)&&(X=pn.Closed,Le.fire(void 0))}function ln(l){Se.fire([l,void 0,void 0])}function yo(l){Se.fire(l)}e.onClose(er),e.onError(ln),t.onClose(er),t.onError(yo);function Cn(){C||A.size===0||(C=(0,$T.default)().timer.setImmediate(()=>{C=void 0,wi()}))}function Lt(l){de.Message.isRequest(l)?Ht(l):de.Message.isNotification(l)?Mt(l):de.Message.isResponse(l)?zr(l):Kt(l)}function wi(){if(A.size===0)return;let l=A.shift();try{let b=n?.messageStrategy;xu.is(b)?b.handleMessage(l,Lt):Lt(l)}finally{Cn()}}let mt=l=>{try{if(de.Message.isNotification(l)&&l.method===Fa.type.method){let b=l.params.id,N=Q(b),F=A.get(N);if(de.Message.isRequest(F)){let ie=n?.connectionStrategy,he=ie&&ie.cancelUndispatched?ie.cancelUndispatched(F,ce):void 0;if(he&&(he.error!==void 0||he.result!==void 0)){A.delete(N),p.delete(b),he.id=F.id,hr(he,l.method,Date.now()),t.write(he).catch(()=>i.error("Sending response for canceled message failed."));return}}let ae=p.get(b);if(ae!==void 0){ae.cancel(),ei(l);return}else w.add(b)}ue(A,l)}finally{Cn()}};function Ht(l){if(xe())return;function b(V,le,ee){let Re={jsonrpc:c,id:l.id};V instanceof de.ResponseError?Re.error=V.toJson():Re.result=V===void 0?null:V,hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function N(V,le,ee){let Re={jsonrpc:c,id:l.id,error:V.toJson()};hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function F(V,le,ee){V===void 0&&(V=null);let Re={jsonrpc:c,id:l.id,result:V};hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}Ci(l);let ae=h.get(l.method),ie,he;ae&&(ie=ae.type,he=ae.handler);let me=Date.now();if(he||u){let V=l.id??String(Date.now()),le=gu.is(L.receiver)?L.receiver.createCancellationTokenSource(V):L.receiver.createCancellationTokenSource(l);l.id!==null&&w.has(l.id)&&le.cancel(),l.id!==null&&p.set(V,le);try{let ee;if(he)if(l.params===void 0){if(ie!==void 0&&ie.numberOfParams!==0){N(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${l.method} defines ${ie.numberOfParams} params but received none.`),l.method,me);return}ee=he(le.token)}else if(Array.isArray(l.params)){if(ie!==void 0&&ie.parameterStructures===de.ParameterStructures.byName){N(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,me);return}ee=he(...l.params,le.token)}else{if(ie!==void 0&&ie.parameterStructures===de.ParameterStructures.byPosition){N(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,me);return}ee=he(l.params,le.token)}else u&&(ee=u(l.method,l.params,le.token));let Re=ee;ee?Re.then?Re.then(Ee=>{p.delete(V),b(Ee,l.method,me)},Ee=>{p.delete(V),Ee instanceof de.ResponseError?N(Ee,l.method,me):Ee&&st.string(Ee.message)?N(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Ee.message}`),l.method,me):N(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,me)}):(p.delete(V),b(ee,l.method,me)):(p.delete(V),F(ee,l.method,me))}catch(ee){p.delete(V),ee instanceof de.ResponseError?b(ee,l.method,me):ee&&st.string(ee.message)?N(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${ee.message}`),l.method,me):N(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,me)}}else N(new de.ResponseError(de.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,me)}function zr(l){if(!xe())if(l.id===null)l.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let b=l.id,N=O.get(b);if(Na(l,N),N!==void 0){O.delete(b);try{if(l.error){let F=l.error;N.reject(new de.ResponseError(F.code,F.message,F.data))}else if(l.result!==void 0)N.resolve(l.result);else throw new Error("Should never happen.")}catch(F){F.message?i.error(`Response handler '${N.method}' failed with message: ${F.message}`):i.error(`Response handler '${N.method}' failed unexpectedly.`)}}}}function Mt(l){if(xe())return;let b,N;if(l.method===Fa.type.method){let F=l.params.id;w.delete(F),ei(l);return}else{let F=T.get(l.method);F&&(N=F.handler,b=F.type)}if(N||g)try{if(ei(l),N)if(l.params===void 0)b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==de.ParameterStructures.byName&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but received none.`),N();else if(Array.isArray(l.params)){let F=l.params;l.method===Ma.type.method&&F.length===2&&Jp.is(F[0])?N({token:F[0],value:F[1]}):(b!==void 0&&(b.parameterStructures===de.ParameterStructures.byName&&i.error(`Notification ${l.method} defines parameters by name but received parameters by position`),b.numberOfParams!==l.params.length&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but received ${F.length} arguments`)),N(...F))}else b!==void 0&&b.parameterStructures===de.ParameterStructures.byPosition&&i.error(`Notification ${l.method} defines parameters by position but received parameters by name`),N(l.params);else g&&g(l.method,l.params)}catch(F){F.message?i.error(`Notification handler '${l.method}' failed with message: ${F.message}`):i.error(`Notification handler '${l.method}' failed unexpectedly.`)}else Ut.fire(l)}function Kt(l){if(!l){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);let b=l;if(st.string(b.id)||st.number(b.id)){let N=b.id,F=O.get(N);F&&F.reject(new Error("The received response has neither a result nor an error property."))}}function Fe(l){if(l!=null)switch(d){case Oe.Verbose:return JSON.stringify(l,null,4);case Oe.Compact:return JSON.stringify(l);default:return}}function pr(l){if(!(d===Oe.Off||!q))if(_===Hr.Text){let b;(d===Oe.Verbose||d===Oe.Compact)&&l.params&&(b=`Params: ${Fe(l.params)}

`),q.log(`Sending request '${l.method} - (${l.id})'.`,b)}else mr("send-request",l)}function jr(l){if(!(d===Oe.Off||!q))if(_===Hr.Text){let b;(d===Oe.Verbose||d===Oe.Compact)&&(l.params?b=`Params: ${Fe(l.params)}

`:b=`No parameters provided.

`),q.log(`Sending notification '${l.method}'.`,b)}else mr("send-notification",l)}function hr(l,b,N){if(!(d===Oe.Off||!q))if(_===Hr.Text){let F;(d===Oe.Verbose||d===Oe.Compact)&&(l.error&&l.error.data?F=`Error data: ${Fe(l.error.data)}

`:l.result?F=`Result: ${Fe(l.result)}

`:l.error===void 0&&(F=`No result returned.

`)),q.log(`Sending response '${b} - (${l.id})'. Processing request took ${Date.now()-N}ms`,F)}else mr("send-response",l)}function Ci(l){if(!(d===Oe.Off||!q))if(_===Hr.Text){let b;(d===Oe.Verbose||d===Oe.Compact)&&l.params&&(b=`Params: ${Fe(l.params)}

`),q.log(`Received request '${l.method} - (${l.id})'.`,b)}else mr("receive-request",l)}function ei(l){if(!(d===Oe.Off||!q||l.method===mu.type.method))if(_===Hr.Text){let b;(d===Oe.Verbose||d===Oe.Compact)&&(l.params?b=`Params: ${Fe(l.params)}

`:b=`No parameters provided.

`),q.log(`Received notification '${l.method}'.`,b)}else mr("receive-notification",l)}function Na(l,b){if(!(d===Oe.Off||!q))if(_===Hr.Text){let N;if((d===Oe.Verbose||d===Oe.Compact)&&(l.error&&l.error.data?N=`Error data: ${Fe(l.error.data)}

`:l.result?N=`Result: ${Fe(l.result)}

`:l.error===void 0&&(N=`No result returned.

`)),b){let F=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";q.log(`Received response '${b.method} - (${l.id})' in ${Date.now()-b.timerStart}ms.${F}`,N)}else q.log(`Received response ${l.id} without active response promise.`,N)}else mr("receive-response",l)}function mr(l,b){if(!q||d===Oe.Off)return;let N={isLSPMessage:!0,type:l,message:b,timestamp:Date.now()};q.log(N)}function Ur(){if(Ve())throw new os($a.Closed,"Connection is closed.");if(xe())throw new os($a.Disposed,"Connection is disposed.")}function Pa(){if(it())throw new os($a.AlreadyListening,"Connection is already listening")}function Da(){if(!it())throw new Error("Call listen() first.")}function gr(l){return l===void 0?null:l}function vo(l){if(l!==null)return l}function To(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function ti(l,b){switch(l){case de.ParameterStructures.auto:return To(b)?vo(b):[gr(b)];case de.ParameterStructures.byName:if(!To(b))throw new Error("Received parameters by name but param is not an object literal.");return vo(b);case de.ParameterStructures.byPosition:return[gr(b)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function xo(l,b){let N,F=l.numberOfParams;switch(F){case 0:N=void 0;break;case 1:N=ti(l.parameterStructures,b[0]);break;default:N=[];for(let ae=0;ae<b.length&&ae<F;ae++)N.push(gr(b[ae]));if(b.length<F)for(let ae=b.length;ae<F;ae++)N.push(null);break}return N}let yr={sendNotification:(l,...b)=>{Ur();let N,F;if(st.string(l)){N=l;let ie=b[0],he=0,me=de.ParameterStructures.auto;de.ParameterStructures.is(ie)&&(he=1,me=ie);let V=b.length,le=V-he;switch(le){case 0:F=void 0;break;case 1:F=ti(me,b[he]);break;default:if(me===de.ParameterStructures.byName)throw new Error(`Received ${le} parameters for 'by Name' notification parameter structure.`);F=b.slice(he,V).map(ee=>gr(ee));break}}else{let ie=b;N=l.method,F=xo(l,ie)}let ae={jsonrpc:c,method:N,params:F};return jr(ae),t.write(ae).catch(ie=>{throw i.error("Sending notification failed."),ie})},onNotification:(l,b)=>{Ur();let N;return st.func(l)?g=l:b&&(st.string(l)?(N=l,T.set(l,{type:void 0,handler:b})):(N=l.method,T.set(l.method,{type:l,handler:b}))),{dispose:()=>{N!==void 0?T.delete(N):g=void 0}}},onProgress:(l,b,N)=>{if(R.has(b))throw new Error(`Progress handler for token ${b} already registered`);return R.set(b,N),{dispose:()=>{R.delete(b)}}},sendProgress:(l,b,N)=>yr.sendNotification(Ma.type,{token:b,value:N}),onUnhandledProgress:_t.event,sendRequest:(l,...b)=>{Ur(),Da();let N,F,ae;if(st.string(l)){N=l;let V=b[0],le=b[b.length-1],ee=0,Re=de.ParameterStructures.auto;de.ParameterStructures.is(V)&&(ee=1,Re=V);let Ee=b.length;Xp.CancellationToken.is(le)&&(Ee=Ee-1,ae=le);let ot=Ee-ee;switch(ot){case 0:F=void 0;break;case 1:F=ti(Re,b[ee]);break;default:if(Re===de.ParameterStructures.byName)throw new Error(`Received ${ot} parameters for 'by Name' request parameter structure.`);F=b.slice(ee,Ee).map(E=>gr(E));break}}else{let V=b;N=l.method,F=xo(l,V);let le=l.numberOfParams;ae=Xp.CancellationToken.is(V[le])?V[le]:void 0}let ie=o++,he;ae&&(he=ae.onCancellationRequested(()=>{let V=L.sender.sendCancellation(yr,ie);return V===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ie}`),Promise.resolve()):V.catch(()=>{i.log(`Sending cancellation messages for id ${ie} failed`)})}));let me={jsonrpc:c,id:ie,method:N,params:F};return pr(me),typeof L.sender.enableCancellation=="function"&&L.sender.enableCancellation(me),new Promise(async(V,le)=>{let ee=ot=>{V(ot),L.sender.cleanup(ie),he?.dispose()},Re=ot=>{le(ot),L.sender.cleanup(ie),he?.dispose()},Ee={method:N,timerStart:Date.now(),resolve:ee,reject:Re};try{await t.write(me),O.set(ie,Ee)}catch(ot){throw i.error("Sending request failed."),Ee.reject(new de.ResponseError(de.ErrorCodes.MessageWriteError,ot.message?ot.message:"Unknown reason")),ot}})},onRequest:(l,b)=>{Ur();let N=null;return Zp.is(l)?(N=void 0,u=l):st.string(l)?(N=null,b!==void 0&&(N=l,h.set(l,{handler:b,type:void 0}))):b!==void 0&&(N=l.method,h.set(l.method,{type:l,handler:b})),{dispose:()=>{N!==null&&(N!==void 0?h.delete(N):u=void 0)}}},hasPendingResponse:()=>O.size>0,trace:async(l,b,N)=>{let F=!1,ae=Hr.Text;N!==void 0&&(st.boolean(N)?F=N:(F=N.sendNotification||!1,ae=N.traceFormat||Hr.Text)),d=l,_=ae,d===Oe.Off?q=void 0:q=b,F&&!Ve()&&!xe()&&await yr.sendNotification(eh.type,{value:Oe.toString(l)})},onError:Se.event,onClose:Le.event,onUnhandledNotification:Ut.event,onDispose:G.event,end:()=>{t.end()},dispose:()=>{if(xe())return;X=pn.Disposed,G.fire(void 0);let l=new de.ResponseError(de.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let b of O.values())b.reject(l);O=new Map,p=new Map,w=new Set,A=new FT.LinkedMap,st.func(t.dispose)&&t.dispose(),st.func(e.dispose)&&e.dispose()},listen:()=>{Ur(),Pa(),X=pn.Listening,e.listen(mt)},inspect:()=>{(0,$T.default)().console.log("inspect")}};return yr.onNotification(mu.type,l=>{if(d===Oe.Off||!q)return;let b=d===Oe.Verbose||d===Oe.Compact;q.log(l.message,b?l.verbose:void 0)}),yr.onNotification(Ma.type,l=>{let b=R.get(l.token);b?b(l.value):_t.fire(l)}),yr}Te.createMessageConnection=dP});var Ru=P(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.ProgressType=M.ProgressToken=M.createMessageConnection=M.NullLogger=M.ConnectionOptions=M.ConnectionStrategy=M.AbstractMessageBuffer=M.WriteableStreamMessageWriter=M.AbstractMessageWriter=M.MessageWriter=M.ReadableStreamMessageReader=M.AbstractMessageReader=M.MessageReader=M.SharedArrayReceiverStrategy=M.SharedArraySenderStrategy=M.CancellationToken=M.CancellationTokenSource=M.Emitter=M.Event=M.Disposable=M.LRUCache=M.Touch=M.LinkedMap=M.ParameterStructures=M.NotificationType9=M.NotificationType8=M.NotificationType7=M.NotificationType6=M.NotificationType5=M.NotificationType4=M.NotificationType3=M.NotificationType2=M.NotificationType1=M.NotificationType0=M.NotificationType=M.ErrorCodes=M.ResponseError=M.RequestType9=M.RequestType8=M.RequestType7=M.RequestType6=M.RequestType5=M.RequestType4=M.RequestType3=M.RequestType2=M.RequestType1=M.RequestType0=M.RequestType=M.Message=M.RAL=void 0;M.MessageStrategy=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.TraceValues=M.Trace=void 0;var We=Ap();Object.defineProperty(M,"Message",{enumerable:!0,get:function(){return We.Message}});Object.defineProperty(M,"RequestType",{enumerable:!0,get:function(){return We.RequestType}});Object.defineProperty(M,"RequestType0",{enumerable:!0,get:function(){return We.RequestType0}});Object.defineProperty(M,"RequestType1",{enumerable:!0,get:function(){return We.RequestType1}});Object.defineProperty(M,"RequestType2",{enumerable:!0,get:function(){return We.RequestType2}});Object.defineProperty(M,"RequestType3",{enumerable:!0,get:function(){return We.RequestType3}});Object.defineProperty(M,"RequestType4",{enumerable:!0,get:function(){return We.RequestType4}});Object.defineProperty(M,"RequestType5",{enumerable:!0,get:function(){return We.RequestType5}});Object.defineProperty(M,"RequestType6",{enumerable:!0,get:function(){return We.RequestType6}});Object.defineProperty(M,"RequestType7",{enumerable:!0,get:function(){return We.RequestType7}});Object.defineProperty(M,"RequestType8",{enumerable:!0,get:function(){return We.RequestType8}});Object.defineProperty(M,"RequestType9",{enumerable:!0,get:function(){return We.RequestType9}});Object.defineProperty(M,"ResponseError",{enumerable:!0,get:function(){return We.ResponseError}});Object.defineProperty(M,"ErrorCodes",{enumerable:!0,get:function(){return We.ErrorCodes}});Object.defineProperty(M,"NotificationType",{enumerable:!0,get:function(){return We.NotificationType}});Object.defineProperty(M,"NotificationType0",{enumerable:!0,get:function(){return We.NotificationType0}});Object.defineProperty(M,"NotificationType1",{enumerable:!0,get:function(){return We.NotificationType1}});Object.defineProperty(M,"NotificationType2",{enumerable:!0,get:function(){return We.NotificationType2}});Object.defineProperty(M,"NotificationType3",{enumerable:!0,get:function(){return We.NotificationType3}});Object.defineProperty(M,"NotificationType4",{enumerable:!0,get:function(){return We.NotificationType4}});Object.defineProperty(M,"NotificationType5",{enumerable:!0,get:function(){return We.NotificationType5}});Object.defineProperty(M,"NotificationType6",{enumerable:!0,get:function(){return We.NotificationType6}});Object.defineProperty(M,"NotificationType7",{enumerable:!0,get:function(){return We.NotificationType7}});Object.defineProperty(M,"NotificationType8",{enumerable:!0,get:function(){return We.NotificationType8}});Object.defineProperty(M,"NotificationType9",{enumerable:!0,get:function(){return We.NotificationType9}});Object.defineProperty(M,"ParameterStructures",{enumerable:!0,get:function(){return We.ParameterStructures}});var nh=Np();Object.defineProperty(M,"LinkedMap",{enumerable:!0,get:function(){return nh.LinkedMap}});Object.defineProperty(M,"LRUCache",{enumerable:!0,get:function(){return nh.LRUCache}});Object.defineProperty(M,"Touch",{enumerable:!0,get:function(){return nh.Touch}});var pP=wT();Object.defineProperty(M,"Disposable",{enumerable:!0,get:function(){return pP.Disposable}});var HT=ts();Object.defineProperty(M,"Event",{enumerable:!0,get:function(){return HT.Event}});Object.defineProperty(M,"Emitter",{enumerable:!0,get:function(){return HT.Emitter}});var WT=lu();Object.defineProperty(M,"CancellationTokenSource",{enumerable:!0,get:function(){return WT.CancellationTokenSource}});Object.defineProperty(M,"CancellationToken",{enumerable:!0,get:function(){return WT.CancellationToken}});var GT=AT();Object.defineProperty(M,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return GT.SharedArraySenderStrategy}});Object.defineProperty(M,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return GT.SharedArrayReceiverStrategy}});var ih=NT();Object.defineProperty(M,"MessageReader",{enumerable:!0,get:function(){return ih.MessageReader}});Object.defineProperty(M,"AbstractMessageReader",{enumerable:!0,get:function(){return ih.AbstractMessageReader}});Object.defineProperty(M,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return ih.ReadableStreamMessageReader}});var oh=LT();Object.defineProperty(M,"MessageWriter",{enumerable:!0,get:function(){return oh.MessageWriter}});Object.defineProperty(M,"AbstractMessageWriter",{enumerable:!0,get:function(){return oh.AbstractMessageWriter}});Object.defineProperty(M,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return oh.WriteableStreamMessageWriter}});var hP=MT();Object.defineProperty(M,"AbstractMessageBuffer",{enumerable:!0,get:function(){return hP.AbstractMessageBuffer}});var zt=UT();Object.defineProperty(M,"ConnectionStrategy",{enumerable:!0,get:function(){return zt.ConnectionStrategy}});Object.defineProperty(M,"ConnectionOptions",{enumerable:!0,get:function(){return zt.ConnectionOptions}});Object.defineProperty(M,"NullLogger",{enumerable:!0,get:function(){return zt.NullLogger}});Object.defineProperty(M,"createMessageConnection",{enumerable:!0,get:function(){return zt.createMessageConnection}});Object.defineProperty(M,"ProgressToken",{enumerable:!0,get:function(){return zt.ProgressToken}});Object.defineProperty(M,"ProgressType",{enumerable:!0,get:function(){return zt.ProgressType}});Object.defineProperty(M,"Trace",{enumerable:!0,get:function(){return zt.Trace}});Object.defineProperty(M,"TraceValues",{enumerable:!0,get:function(){return zt.TraceValues}});Object.defineProperty(M,"TraceFormat",{enumerable:!0,get:function(){return zt.TraceFormat}});Object.defineProperty(M,"SetTraceNotification",{enumerable:!0,get:function(){return zt.SetTraceNotification}});Object.defineProperty(M,"LogTraceNotification",{enumerable:!0,get:function(){return zt.LogTraceNotification}});Object.defineProperty(M,"ConnectionErrors",{enumerable:!0,get:function(){return zt.ConnectionErrors}});Object.defineProperty(M,"ConnectionError",{enumerable:!0,get:function(){return zt.ConnectionError}});Object.defineProperty(M,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return zt.CancellationReceiverStrategy}});Object.defineProperty(M,"CancellationSenderStrategy",{enumerable:!0,get:function(){return zt.CancellationSenderStrategy}});Object.defineProperty(M,"CancellationStrategy",{enumerable:!0,get:function(){return zt.CancellationStrategy}});Object.defineProperty(M,"MessageStrategy",{enumerable:!0,get:function(){return zt.MessageStrategy}});var mP=Ei();M.RAL=mP.default});var KT=P(uh=>{"use strict";Object.defineProperty(uh,"__esModule",{value:!0});var An=Ru(),bu=class e extends An.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};bu.emptyBuffer=new Uint8Array(0);var sh=class{constructor(t){this.socket=t,this._onData=new An.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,An.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),An.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),An.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),An.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},ah=class{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),An.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),An.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),An.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},gP=new TextEncoder,BT=Object.freeze({messageBuffer:Object.freeze({create:e=>new bu(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(gP.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new sh(e),asWritableStream:e=>new ah(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function ch(){return BT}(function(e){function t(){An.RAL.install(BT)}e.install=t})(ch||(ch={}));uh.default=ch});var bo=P(Wr=>{"use strict";var yP=Wr&&Wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),vP=Wr&&Wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&yP(t,e,r)};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.createMessageConnection=Wr.BrowserMessageWriter=Wr.BrowserMessageReader=void 0;var TP=KT();TP.default.install();var ss=Ru();vP(Ru(),Wr);var lh=class extends ss.AbstractMessageReader{constructor(t){super(),this._onData=new ss.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};Wr.BrowserMessageReader=lh;var fh=class extends ss.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Wr.BrowserMessageWriter=fh;function xP(e,t,r,n){return r===void 0&&(r=ss.NullLogger),ss.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,ss.createMessageConnection)(e,t,r,n)}Wr.createMessageConnection=xP});var dh=P((m4,zT)=>{"use strict";zT.exports=bo()});var Iu={};VN(Iu,{AnnotatedTextEdit:()=>ni,ChangeAnnotation:()=>_o,ChangeAnnotationIdentifier:()=>Vt,CodeAction:()=>Bh,CodeActionContext:()=>Gh,CodeActionKind:()=>Wh,CodeActionTriggerKind:()=>Ba,CodeDescription:()=>Rh,CodeLens:()=>Kh,Color:()=>Su,ColorInformation:()=>gh,ColorPresentation:()=>yh,Command:()=>So,CompletionItem:()=>Ph,CompletionItemKind:()=>Nu,CompletionItemLabelDetails:()=>Nh,CompletionItemTag:()=>Ch,CompletionList:()=>Dh,CreateFile:()=>cs,DeleteFile:()=>ls,Diagnostic:()=>Ua,DiagnosticRelatedInformation:()=>ku,DiagnosticSeverity:()=>xh,DiagnosticTag:()=>wu,DocumentHighlight:()=>$h,DocumentHighlightKind:()=>Mh,DocumentLink:()=>Vh,DocumentSymbol:()=>Hh,DocumentUri:()=>ph,EOL:()=>RP,FoldingRange:()=>Th,FoldingRangeKind:()=>vh,FormattingOptions:()=>zh,Hover:()=>Ih,InlayHint:()=>nm,InlayHintKind:()=>Pu,InlayHintLabelPart:()=>Du,InlineCompletionContext:()=>um,InlineCompletionItem:()=>om,InlineCompletionList:()=>sm,InlineCompletionTriggerKind:()=>am,InlineValueContext:()=>rm,InlineValueEvaluatableExpression:()=>tm,InlineValueText:()=>Zh,InlineValueVariableLookup:()=>em,InsertReplaceEdit:()=>Ah,InsertTextFormat:()=>wh,InsertTextMode:()=>Eh,Location:()=>ja,LocationLink:()=>mh,MarkedString:()=>Ga,MarkupContent:()=>fs,MarkupKind:()=>Eu,OptionalVersionedTextDocumentIdentifier:()=>Wa,ParameterInformation:()=>Oh,Position:()=>Gr,Range:()=>yt,RenameFile:()=>us,SelectedCompletionInfo:()=>cm,SelectionRange:()=>Yh,SemanticTokenModifiers:()=>Jh,SemanticTokenTypes:()=>Xh,SemanticTokens:()=>Qh,SignatureInformation:()=>Lh,StringValue:()=>im,SymbolInformation:()=>jh,SymbolKind:()=>Fh,SymbolTag:()=>qh,TextDocument:()=>fm,TextDocumentEdit:()=>Ha,TextDocumentIdentifier:()=>_h,TextDocumentItem:()=>kh,TextEdit:()=>En,URI:()=>_u,VersionedTextDocumentIdentifier:()=>Sh,WorkspaceChange:()=>bh,WorkspaceEdit:()=>Cu,WorkspaceFolder:()=>lm,WorkspaceSymbol:()=>Uh,integer:()=>hh,uinteger:()=>qa});var ph,_u,hh,qa,Gr,yt,ja,mh,Su,gh,yh,vh,Th,ku,xh,wu,Rh,Ua,So,En,_o,Vt,ni,Ha,cs,us,ls,Cu,as,Au,bh,_h,Sh,Wa,kh,Eu,fs,Nu,wh,Ch,Ah,Eh,Nh,Ph,Dh,Ga,Ih,Oh,Lh,Mh,$h,Fh,qh,jh,Uh,Hh,Wh,Ba,Gh,Bh,Kh,zh,Vh,Yh,Xh,Jh,Qh,Zh,em,tm,rm,Pu,Du,nm,im,om,sm,am,cm,um,lm,RP,fm,dm,D,ko=zN(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}e.is=t})(ph||(ph={}));(function(e){function t(r){return typeof r=="string"}e.is=t})(_u||(_u={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(hh||(hh={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(qa||(qa={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=qa.MAX_VALUE),i===Number.MAX_VALUE&&(i=qa.MAX_VALUE),{line:n,character:i}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&D.uinteger(i.line)&&D.uinteger(i.character)}e.is=r})(Gr||(Gr={}));(function(e){function t(n,i,o,s){if(D.uinteger(n)&&D.uinteger(i)&&D.uinteger(o)&&D.uinteger(s))return{start:Gr.create(n,i),end:Gr.create(o,s)};if(Gr.is(n)&&Gr.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&Gr.is(i.start)&&Gr.is(i.end)}e.is=r})(yt||(yt={}));(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&yt.is(i.range)&&(D.string(i.uri)||D.undefined(i.uri))}e.is=r})(ja||(ja={}));(function(e){function t(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&yt.is(i.targetRange)&&D.string(i.targetUri)&&yt.is(i.targetSelectionRange)&&(yt.is(i.originSelectionRange)||D.undefined(i.originSelectionRange))}e.is=r})(mh||(mh={}));(function(e){function t(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&D.numberRange(i.red,0,1)&&D.numberRange(i.green,0,1)&&D.numberRange(i.blue,0,1)&&D.numberRange(i.alpha,0,1)}e.is=r})(Su||(Su={}));(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&yt.is(i.range)&&Su.is(i.color)}e.is=r})(gh||(gh={}));(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&D.string(i.label)&&(D.undefined(i.textEdit)||En.is(i))&&(D.undefined(i.additionalTextEdits)||D.typedArray(i.additionalTextEdits,En.is))}e.is=r})(yh||(yh={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(vh||(vh={}));(function(e){function t(n,i,o,s,a,c){let u={startLine:n,endLine:i};return D.defined(o)&&(u.startCharacter=o),D.defined(s)&&(u.endCharacter=s),D.defined(a)&&(u.kind=a),D.defined(c)&&(u.collapsedText=c),u}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&D.uinteger(i.startLine)&&D.uinteger(i.startLine)&&(D.undefined(i.startCharacter)||D.uinteger(i.startCharacter))&&(D.undefined(i.endCharacter)||D.uinteger(i.endCharacter))&&(D.undefined(i.kind)||D.string(i.kind))}e.is=r})(Th||(Th={}));(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&ja.is(i.location)&&D.string(i.message)}e.is=r})(ku||(ku={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(xh||(xh={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(wu||(wu={}));(function(e){function t(r){let n=r;return D.objectLiteral(n)&&D.string(n.href)}e.is=t})(Rh||(Rh={}));(function(e){function t(n,i,o,s,a,c){let u={range:n,message:i};return D.defined(o)&&(u.severity=o),D.defined(s)&&(u.code=s),D.defined(a)&&(u.source=a),D.defined(c)&&(u.relatedInformation=c),u}e.create=t;function r(n){var i;let o=n;return D.defined(o)&&yt.is(o.range)&&D.string(o.message)&&(D.number(o.severity)||D.undefined(o.severity))&&(D.integer(o.code)||D.string(o.code)||D.undefined(o.code))&&(D.undefined(o.codeDescription)||D.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(D.string(o.source)||D.undefined(o.source))&&(D.undefined(o.relatedInformation)||D.typedArray(o.relatedInformation,ku.is))}e.is=r})(Ua||(Ua={}));(function(e){function t(n,i,...o){let s={title:n,command:i};return D.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function r(n){let i=n;return D.defined(i)&&D.string(i.title)&&D.string(i.command)}e.is=r})(So||(So={}));(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function r(o,s){return{range:{start:o,end:o},newText:s}}e.insert=r;function n(o){return{range:o,newText:""}}e.del=n;function i(o){let s=o;return D.objectLiteral(s)&&D.string(s.newText)&&yt.is(s.range)}e.is=i})(En||(En={}));(function(e){function t(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&D.string(i.label)&&(D.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(D.string(i.description)||i.description===void 0)}e.is=r})(_o||(_o={}));(function(e){function t(r){let n=r;return D.string(n)}e.is=t})(Vt||(Vt={}));(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function r(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=r;function n(o,s){return{range:o,newText:"",annotationId:s}}e.del=n;function i(o){let s=o;return En.is(s)&&(_o.is(s.annotationId)||Vt.is(s.annotationId))}e.is=i})(ni||(ni={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&Wa.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(Ha||(Ha={}));(function(e){function t(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&D.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||D.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||D.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Vt.is(i.annotationId))}e.is=r})(cs||(cs={}));(function(e){function t(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&D.string(i.oldUri)&&D.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||D.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||D.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Vt.is(i.annotationId))}e.is=r})(us||(us={}));(function(e){function t(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&D.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||D.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||D.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Vt.is(i.annotationId))}e.is=r})(ls||(ls={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>D.string(i.kind)?cs.is(i)||us.is(i)||ls.is(i):Ha.is(i)))}e.is=t})(Cu||(Cu={}));as=class{constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let i,o;if(n===void 0?i=En.insert(t,r):Vt.is(n)?(o=n,i=ni.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=ni.insert(t,r,o)),this.edits.push(i),o!==void 0)return o}replace(t,r,n){let i,o;if(n===void 0?i=En.replace(t,r):Vt.is(n)?(o=n,i=ni.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=ni.replace(t,r,o)),this.edits.push(i),o!==void 0)return o}delete(t,r){let n,i;if(r===void 0?n=En.del(t):Vt.is(r)?(i=r,n=ni.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=ni.del(t,i)),this.edits.push(n),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},Au=class{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(Vt.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},bh=class{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new Au(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(Ha.is(r)){let n=new as(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new as(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(Wa.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let i=[],o={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(o),n=new as(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new as(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new Au,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;_o.is(r)||Vt.is(r)?i=r:n=r;let o,s;if(i===void 0?o=cs.create(t,n):(s=Vt.is(i)?i:this._changeAnnotations.manage(i),o=cs.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;_o.is(n)||Vt.is(n)?o=n:i=n;let s,a;if(o===void 0?s=us.create(t,r,i):(a=Vt.is(o)?o:this._changeAnnotations.manage(o),s=us.create(t,r,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;_o.is(r)||Vt.is(r)?i=r:n=r;let o,s;if(i===void 0?o=ls.create(t,n):(s=Vt.is(i)?i:this._changeAnnotations.manage(i),o=ls.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let i=n;return D.defined(i)&&D.string(i.uri)}e.is=r})(_h||(_h={}));(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&D.string(i.uri)&&D.integer(i.version)}e.is=r})(Sh||(Sh={}));(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&D.string(i.uri)&&(i.version===null||D.integer(i.version))}e.is=r})(Wa||(Wa={}));(function(e){function t(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}e.create=t;function r(n){let i=n;return D.defined(i)&&D.string(i.uri)&&D.string(i.languageId)&&D.integer(i.version)&&D.string(i.text)}e.is=r})(kh||(kh={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(Eu||(Eu={}));(function(e){function t(r){let n=r;return D.objectLiteral(r)&&Eu.is(n.kind)&&D.string(n.value)}e.is=t})(fs||(fs={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(Nu||(Nu={}));(function(e){e.PlainText=1,e.Snippet=2})(wh||(wh={}));(function(e){e.Deprecated=1})(Ch||(Ch={}));(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}e.create=t;function r(n){let i=n;return i&&D.string(i.newText)&&yt.is(i.insert)&&yt.is(i.replace)}e.is=r})(Ah||(Ah={}));(function(e){e.asIs=1,e.adjustIndentation=2})(Eh||(Eh={}));(function(e){function t(r){let n=r;return n&&(D.string(n.detail)||n.detail===void 0)&&(D.string(n.description)||n.description===void 0)}e.is=t})(Nh||(Nh={}));(function(e){function t(r){return{label:r}}e.create=t})(Ph||(Ph={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(Dh||(Dh={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){let i=n;return D.string(i)||D.objectLiteral(i)&&D.string(i.language)&&D.string(i.value)}e.is=r})(Ga||(Ga={}));(function(e){function t(r){let n=r;return!!n&&D.objectLiteral(n)&&(fs.is(n.contents)||Ga.is(n.contents)||D.typedArray(n.contents,Ga.is))&&(r.range===void 0||yt.is(r.range))}e.is=t})(Ih||(Ih={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(Oh||(Oh={}));(function(e){function t(r,n,...i){let o={label:r};return D.defined(n)&&(o.documentation=n),D.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(Lh||(Lh={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(Mh||(Mh={}));(function(e){function t(r,n){let i={range:r};return D.number(n)&&(i.kind=n),i}e.create=t})($h||($h={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(Fh||(Fh={}));(function(e){e.Deprecated=1})(qh||(qh={}));(function(e){function t(r,n,i,o,s){let a={name:r,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(jh||(jh={}));(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}e.create=t})(Uh||(Uh={}));(function(e){function t(n,i,o,s,a,c){let u={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(u.children=c),u}e.create=t;function r(n){let i=n;return i&&D.string(i.name)&&D.number(i.kind)&&yt.is(i.range)&&yt.is(i.selectionRange)&&(i.detail===void 0||D.string(i.detail))&&(i.deprecated===void 0||D.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=r})(Hh||(Hh={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(Wh||(Wh={}));(function(e){e.Invoked=1,e.Automatic=2})(Ba||(Ba={}));(function(e){function t(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function r(n){let i=n;return D.defined(i)&&D.typedArray(i.diagnostics,Ua.is)&&(i.only===void 0||D.typedArray(i.only,D.string))&&(i.triggerKind===void 0||i.triggerKind===Ba.Invoked||i.triggerKind===Ba.Automatic)}e.is=r})(Gh||(Gh={}));(function(e){function t(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):So.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function r(n){let i=n;return i&&D.string(i.title)&&(i.diagnostics===void 0||D.typedArray(i.diagnostics,Ua.is))&&(i.kind===void 0||D.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||So.is(i.command))&&(i.isPreferred===void 0||D.boolean(i.isPreferred))&&(i.edit===void 0||Cu.is(i.edit))}e.is=r})(Bh||(Bh={}));(function(e){function t(n,i){let o={range:n};return D.defined(i)&&(o.data=i),o}e.create=t;function r(n){let i=n;return D.defined(i)&&yt.is(i.range)&&(D.undefined(i.command)||So.is(i.command))}e.is=r})(Kh||(Kh={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&D.uinteger(i.tabSize)&&D.boolean(i.insertSpaces)}e.is=r})(zh||(zh={}));(function(e){function t(n,i,o){return{range:n,target:i,data:o}}e.create=t;function r(n){let i=n;return D.defined(i)&&yt.is(i.range)&&(D.undefined(i.target)||D.string(i.target))}e.is=r})(Vh||(Vh={}));(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&yt.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(Yh||(Yh={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(Xh||(Xh={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(Jh||(Jh={}));(function(e){function t(r){let n=r;return D.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(Qh||(Qh={}));(function(e){function t(n,i){return{range:n,text:i}}e.create=t;function r(n){let i=n;return i!=null&&yt.is(i.range)&&D.string(i.text)}e.is=r})(Zh||(Zh={}));(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}e.create=t;function r(n){let i=n;return i!=null&&yt.is(i.range)&&D.boolean(i.caseSensitiveLookup)&&(D.string(i.variableName)||i.variableName===void 0)}e.is=r})(em||(em={}));(function(e){function t(n,i){return{range:n,expression:i}}e.create=t;function r(n){let i=n;return i!=null&&yt.is(i.range)&&(D.string(i.expression)||i.expression===void 0)}e.is=r})(tm||(tm={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}e.create=t;function r(n){let i=n;return D.defined(i)&&yt.is(n.stoppedLocation)}e.is=r})(rm||(rm={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(Pu||(Pu={}));(function(e){function t(n){return{value:n}}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&(i.tooltip===void 0||D.string(i.tooltip)||fs.is(i.tooltip))&&(i.location===void 0||ja.is(i.location))&&(i.command===void 0||So.is(i.command))}e.is=r})(Du||(Du={}));(function(e){function t(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function r(n){let i=n;return D.objectLiteral(i)&&Gr.is(i.position)&&(D.string(i.label)||D.typedArray(i.label,Du.is))&&(i.kind===void 0||Pu.is(i.kind))&&i.textEdits===void 0||D.typedArray(i.textEdits,En.is)&&(i.tooltip===void 0||D.string(i.tooltip)||fs.is(i.tooltip))&&(i.paddingLeft===void 0||D.boolean(i.paddingLeft))&&(i.paddingRight===void 0||D.boolean(i.paddingRight))}e.is=r})(nm||(nm={}));(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(im||(im={}));(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}e.create=t})(om||(om={}));(function(e){function t(r){return{items:r}}e.create=t})(sm||(sm={}));(function(e){e.Invoked=0,e.Automatic=1})(am||(am={}));(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(cm||(cm={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(um||(um={}));(function(e){function t(r){let n=r;return D.objectLiteral(n)&&_u.is(n.uri)&&D.string(n.name)}e.is=t})(lm||(lm={}));RP=[`
`,`\r
`,"\r"];(function(e){function t(o,s,a,c){return new dm(o,s,a,c)}e.create=t;function r(o){let s=o;return!!(D.defined(s)&&D.string(s.uri)&&(D.undefined(s.languageId)||D.string(s.languageId))&&D.uinteger(s.lineCount)&&D.func(s.getText)&&D.func(s.positionAt)&&D.func(s.offsetAt))}e.is=r;function n(o,s){let a=o.getText(),c=i(s,(h,g)=>{let T=h.range.start.line-g.range.start.line;return T===0?h.range.start.character-g.range.start.character:T}),u=a.length;for(let h=c.length-1;h>=0;h--){let g=c[h],T=o.offsetAt(g.range.start),R=o.offsetAt(g.range.end);if(R<=u)a=a.substring(0,T)+g.newText+a.substring(R,a.length);else throw new Error("Overlapping edit");u=T}return a}e.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),u=o.slice(a);i(c,s),i(u,s);let h=0,g=0,T=0;for(;h<c.length&&g<u.length;)s(c[h],u[g])<=0?o[T++]=c[h++]:o[T++]=u[g++];for(;h<c.length;)o[T++]=c[h++];for(;g<u.length;)o[T++]=u[g++];return o}})(fm||(fm={}));dm=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Gr.create(0,t);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let o=n-1;return Gr.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(R){return typeof R<"u"}e.defined=r;function n(R){return typeof R>"u"}e.undefined=n;function i(R){return R===!0||R===!1}e.boolean=i;function o(R){return t.call(R)==="[object String]"}e.string=o;function s(R){return t.call(R)==="[object Number]"}e.number=s;function a(R,C,A){return t.call(R)==="[object Number]"&&C<=R&&R<=A}e.numberRange=a;function c(R){return t.call(R)==="[object Number]"&&-2147483648<=R&&R<=2147483647}e.integer=c;function u(R){return t.call(R)==="[object Number]"&&0<=R&&R<=2147483647}e.uinteger=u;function h(R){return t.call(R)==="[object Function]"}e.func=h;function g(R){return R!==null&&typeof R=="object"}e.objectLiteral=g;function T(R,C){return Array.isArray(R)&&R.every(C)}e.typedArray=T})(D||(D={}))});var Ze=P(Er=>{"use strict";Object.defineProperty(Er,"__esModule",{value:!0});Er.ProtocolNotificationType=Er.ProtocolNotificationType0=Er.ProtocolRequestType=Er.ProtocolRequestType0=Er.RegistrationType=Er.MessageDirection=void 0;var ds=bo(),VT;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(VT||(Er.MessageDirection=VT={}));var pm=class{constructor(t){this.method=t}};Er.RegistrationType=pm;var hm=class extends ds.RequestType0{constructor(t){super(t)}};Er.ProtocolRequestType0=hm;var mm=class extends ds.RequestType{constructor(t){super(t,ds.ParameterStructures.byName)}};Er.ProtocolRequestType=mm;var gm=class extends ds.NotificationType0{constructor(t){super(t)}};Er.ProtocolNotificationType0=gm;var ym=class extends ds.NotificationType{constructor(t){super(t,ds.ParameterStructures.byName)}};Er.ProtocolNotificationType=ym});var Ou=P(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.objectLiteral=St.typedArray=St.stringArray=St.array=St.func=St.error=St.number=St.string=St.boolean=void 0;function bP(e){return e===!0||e===!1}St.boolean=bP;function YT(e){return typeof e=="string"||e instanceof String}St.string=YT;function _P(e){return typeof e=="number"||e instanceof Number}St.number=_P;function SP(e){return e instanceof Error}St.error=SP;function kP(e){return typeof e=="function"}St.func=kP;function XT(e){return Array.isArray(e)}St.array=XT;function wP(e){return XT(e)&&e.every(t=>YT(t))}St.stringArray=wP;function CP(e,t){return Array.isArray(e)&&e.every(t)}St.typedArray=CP;function AP(e){return e!==null&&typeof e=="object"}St.objectLiteral=AP});var ZT=P(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.ImplementationRequest=void 0;var JT=Ze(),QT;(function(e){e.method="textDocument/implementation",e.messageDirection=JT.MessageDirection.clientToServer,e.type=new JT.ProtocolRequestType(e.method)})(QT||(Lu.ImplementationRequest=QT={}))});var rx=P(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.TypeDefinitionRequest=void 0;var ex=Ze(),tx;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=ex.MessageDirection.clientToServer,e.type=new ex.ProtocolRequestType(e.method)})(tx||(Mu.TypeDefinitionRequest=tx={}))});var ox=P(ps=>{"use strict";Object.defineProperty(ps,"__esModule",{value:!0});ps.DidChangeWorkspaceFoldersNotification=ps.WorkspaceFoldersRequest=void 0;var $u=Ze(),nx;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=$u.MessageDirection.serverToClient,e.type=new $u.ProtocolRequestType0(e.method)})(nx||(ps.WorkspaceFoldersRequest=nx={}));var ix;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=$u.MessageDirection.clientToServer,e.type=new $u.ProtocolNotificationType(e.method)})(ix||(ps.DidChangeWorkspaceFoldersNotification=ix={}))});var cx=P(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.ConfigurationRequest=void 0;var sx=Ze(),ax;(function(e){e.method="workspace/configuration",e.messageDirection=sx.MessageDirection.serverToClient,e.type=new sx.ProtocolRequestType(e.method)})(ax||(Fu.ConfigurationRequest=ax={}))});var fx=P(hs=>{"use strict";Object.defineProperty(hs,"__esModule",{value:!0});hs.ColorPresentationRequest=hs.DocumentColorRequest=void 0;var qu=Ze(),ux;(function(e){e.method="textDocument/documentColor",e.messageDirection=qu.MessageDirection.clientToServer,e.type=new qu.ProtocolRequestType(e.method)})(ux||(hs.DocumentColorRequest=ux={}));var lx;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=qu.MessageDirection.clientToServer,e.type=new qu.ProtocolRequestType(e.method)})(lx||(hs.ColorPresentationRequest=lx={}))});var hx=P(ms=>{"use strict";Object.defineProperty(ms,"__esModule",{value:!0});ms.FoldingRangeRefreshRequest=ms.FoldingRangeRequest=void 0;var ju=Ze(),dx;(function(e){e.method="textDocument/foldingRange",e.messageDirection=ju.MessageDirection.clientToServer,e.type=new ju.ProtocolRequestType(e.method)})(dx||(ms.FoldingRangeRequest=dx={}));var px;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=ju.MessageDirection.serverToClient,e.type=new ju.ProtocolRequestType0(e.method)})(px||(ms.FoldingRangeRefreshRequest=px={}))});var yx=P(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.DeclarationRequest=void 0;var mx=Ze(),gx;(function(e){e.method="textDocument/declaration",e.messageDirection=mx.MessageDirection.clientToServer,e.type=new mx.ProtocolRequestType(e.method)})(gx||(Uu.DeclarationRequest=gx={}))});var xx=P(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});Hu.SelectionRangeRequest=void 0;var vx=Ze(),Tx;(function(e){e.method="textDocument/selectionRange",e.messageDirection=vx.MessageDirection.clientToServer,e.type=new vx.ProtocolRequestType(e.method)})(Tx||(Hu.SelectionRangeRequest=Tx={}))});var Sx=P(Di=>{"use strict";Object.defineProperty(Di,"__esModule",{value:!0});Di.WorkDoneProgressCancelNotification=Di.WorkDoneProgressCreateRequest=Di.WorkDoneProgress=void 0;var EP=bo(),Wu=Ze(),Rx;(function(e){e.type=new EP.ProgressType;function t(r){return r===e.type}e.is=t})(Rx||(Di.WorkDoneProgress=Rx={}));var bx;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Wu.MessageDirection.serverToClient,e.type=new Wu.ProtocolRequestType(e.method)})(bx||(Di.WorkDoneProgressCreateRequest=bx={}));var _x;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Wu.MessageDirection.clientToServer,e.type=new Wu.ProtocolNotificationType(e.method)})(_x||(Di.WorkDoneProgressCancelNotification=_x={}))});var Ax=P(Ii=>{"use strict";Object.defineProperty(Ii,"__esModule",{value:!0});Ii.CallHierarchyOutgoingCallsRequest=Ii.CallHierarchyIncomingCallsRequest=Ii.CallHierarchyPrepareRequest=void 0;var gs=Ze(),kx;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=gs.MessageDirection.clientToServer,e.type=new gs.ProtocolRequestType(e.method)})(kx||(Ii.CallHierarchyPrepareRequest=kx={}));var wx;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=gs.MessageDirection.clientToServer,e.type=new gs.ProtocolRequestType(e.method)})(wx||(Ii.CallHierarchyIncomingCallsRequest=wx={}));var Cx;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=gs.MessageDirection.clientToServer,e.type=new gs.ProtocolRequestType(e.method)})(Cx||(Ii.CallHierarchyOutgoingCallsRequest=Cx={}))});var Ox=P(Nr=>{"use strict";Object.defineProperty(Nr,"__esModule",{value:!0});Nr.SemanticTokensRefreshRequest=Nr.SemanticTokensRangeRequest=Nr.SemanticTokensDeltaRequest=Nr.SemanticTokensRequest=Nr.SemanticTokensRegistrationType=Nr.TokenFormat=void 0;var ii=Ze(),Ex;(function(e){e.Relative="relative"})(Ex||(Nr.TokenFormat=Ex={}));var Ka;(function(e){e.method="textDocument/semanticTokens",e.type=new ii.RegistrationType(e.method)})(Ka||(Nr.SemanticTokensRegistrationType=Ka={}));var Nx;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=ii.MessageDirection.clientToServer,e.type=new ii.ProtocolRequestType(e.method),e.registrationMethod=Ka.method})(Nx||(Nr.SemanticTokensRequest=Nx={}));var Px;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=ii.MessageDirection.clientToServer,e.type=new ii.ProtocolRequestType(e.method),e.registrationMethod=Ka.method})(Px||(Nr.SemanticTokensDeltaRequest=Px={}));var Dx;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=ii.MessageDirection.clientToServer,e.type=new ii.ProtocolRequestType(e.method),e.registrationMethod=Ka.method})(Dx||(Nr.SemanticTokensRangeRequest=Dx={}));var Ix;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=ii.MessageDirection.serverToClient,e.type=new ii.ProtocolRequestType0(e.method)})(Ix||(Nr.SemanticTokensRefreshRequest=Ix={}))});var $x=P(Gu=>{"use strict";Object.defineProperty(Gu,"__esModule",{value:!0});Gu.ShowDocumentRequest=void 0;var Lx=Ze(),Mx;(function(e){e.method="window/showDocument",e.messageDirection=Lx.MessageDirection.serverToClient,e.type=new Lx.ProtocolRequestType(e.method)})(Mx||(Gu.ShowDocumentRequest=Mx={}))});var jx=P(Bu=>{"use strict";Object.defineProperty(Bu,"__esModule",{value:!0});Bu.LinkedEditingRangeRequest=void 0;var Fx=Ze(),qx;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=Fx.MessageDirection.clientToServer,e.type=new Fx.ProtocolRequestType(e.method)})(qx||(Bu.LinkedEditingRangeRequest=qx={}))});var Vx=P(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.WillDeleteFilesRequest=nr.DidDeleteFilesNotification=nr.DidRenameFilesNotification=nr.WillRenameFilesRequest=nr.DidCreateFilesNotification=nr.WillCreateFilesRequest=nr.FileOperationPatternKind=void 0;var Vr=Ze(),Ux;(function(e){e.file="file",e.folder="folder"})(Ux||(nr.FileOperationPatternKind=Ux={}));var Hx;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolRequestType(e.method)})(Hx||(nr.WillCreateFilesRequest=Hx={}));var Wx;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolNotificationType(e.method)})(Wx||(nr.DidCreateFilesNotification=Wx={}));var Gx;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolRequestType(e.method)})(Gx||(nr.WillRenameFilesRequest=Gx={}));var Bx;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolNotificationType(e.method)})(Bx||(nr.DidRenameFilesNotification=Bx={}));var Kx;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolNotificationType(e.method)})(Kx||(nr.DidDeleteFilesNotification=Kx={}));var zx;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Vr.MessageDirection.clientToServer,e.type=new Vr.ProtocolRequestType(e.method)})(zx||(nr.WillDeleteFilesRequest=zx={}))});var Zx=P(Oi=>{"use strict";Object.defineProperty(Oi,"__esModule",{value:!0});Oi.MonikerRequest=Oi.MonikerKind=Oi.UniquenessLevel=void 0;var Yx=Ze(),Xx;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(Xx||(Oi.UniquenessLevel=Xx={}));var Jx;(function(e){e.$import="import",e.$export="export",e.local="local"})(Jx||(Oi.MonikerKind=Jx={}));var Qx;(function(e){e.method="textDocument/moniker",e.messageDirection=Yx.MessageDirection.clientToServer,e.type=new Yx.ProtocolRequestType(e.method)})(Qx||(Oi.MonikerRequest=Qx={}))});var nR=P(Li=>{"use strict";Object.defineProperty(Li,"__esModule",{value:!0});Li.TypeHierarchySubtypesRequest=Li.TypeHierarchySupertypesRequest=Li.TypeHierarchyPrepareRequest=void 0;var ys=Ze(),eR;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=ys.MessageDirection.clientToServer,e.type=new ys.ProtocolRequestType(e.method)})(eR||(Li.TypeHierarchyPrepareRequest=eR={}));var tR;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=ys.MessageDirection.clientToServer,e.type=new ys.ProtocolRequestType(e.method)})(tR||(Li.TypeHierarchySupertypesRequest=tR={}));var rR;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=ys.MessageDirection.clientToServer,e.type=new ys.ProtocolRequestType(e.method)})(rR||(Li.TypeHierarchySubtypesRequest=rR={}))});var sR=P(vs=>{"use strict";Object.defineProperty(vs,"__esModule",{value:!0});vs.InlineValueRefreshRequest=vs.InlineValueRequest=void 0;var Ku=Ze(),iR;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Ku.MessageDirection.clientToServer,e.type=new Ku.ProtocolRequestType(e.method)})(iR||(vs.InlineValueRequest=iR={}));var oR;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Ku.MessageDirection.serverToClient,e.type=new Ku.ProtocolRequestType0(e.method)})(oR||(vs.InlineValueRefreshRequest=oR={}))});var lR=P(Mi=>{"use strict";Object.defineProperty(Mi,"__esModule",{value:!0});Mi.InlayHintRefreshRequest=Mi.InlayHintResolveRequest=Mi.InlayHintRequest=void 0;var Ts=Ze(),aR;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Ts.MessageDirection.clientToServer,e.type=new Ts.ProtocolRequestType(e.method)})(aR||(Mi.InlayHintRequest=aR={}));var cR;(function(e){e.method="inlayHint/resolve",e.messageDirection=Ts.MessageDirection.clientToServer,e.type=new Ts.ProtocolRequestType(e.method)})(cR||(Mi.InlayHintResolveRequest=cR={}));var uR;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Ts.MessageDirection.serverToClient,e.type=new Ts.ProtocolRequestType0(e.method)})(uR||(Mi.InlayHintRefreshRequest=uR={}))});var yR=P(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.DiagnosticRefreshRequest=Yr.WorkspaceDiagnosticRequest=Yr.DocumentDiagnosticRequest=Yr.DocumentDiagnosticReportKind=Yr.DiagnosticServerCancellationData=void 0;var gR=bo(),NP=Ou(),xs=Ze(),fR;(function(e){function t(r){let n=r;return n&&NP.boolean(n.retriggerRequest)}e.is=t})(fR||(Yr.DiagnosticServerCancellationData=fR={}));var dR;(function(e){e.Full="full",e.Unchanged="unchanged"})(dR||(Yr.DocumentDiagnosticReportKind=dR={}));var pR;(function(e){e.method="textDocument/diagnostic",e.messageDirection=xs.MessageDirection.clientToServer,e.type=new xs.ProtocolRequestType(e.method),e.partialResult=new gR.ProgressType})(pR||(Yr.DocumentDiagnosticRequest=pR={}));var hR;(function(e){e.method="workspace/diagnostic",e.messageDirection=xs.MessageDirection.clientToServer,e.type=new xs.ProtocolRequestType(e.method),e.partialResult=new gR.ProgressType})(hR||(Yr.WorkspaceDiagnosticRequest=hR={}));var mR;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=xs.MessageDirection.serverToClient,e.type=new xs.ProtocolRequestType0(e.method)})(mR||(Yr.DiagnosticRefreshRequest=mR={}))});var SR=P(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.DidCloseNotebookDocumentNotification=vt.DidSaveNotebookDocumentNotification=vt.DidChangeNotebookDocumentNotification=vt.NotebookCellArrayChange=vt.DidOpenNotebookDocumentNotification=vt.NotebookDocumentSyncRegistrationType=vt.NotebookDocument=vt.NotebookCell=vt.ExecutionSummary=vt.NotebookCellKind=void 0;var za=(ko(),np(Iu)),hn=Ou(),Nn=Ze(),vm;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}e.is=t})(vm||(vt.NotebookCellKind=vm={}));var Tm;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function r(i){let o=i;return hn.objectLiteral(o)&&za.uinteger.is(o.executionOrder)&&(o.success===void 0||hn.boolean(o.success))}e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=n})(Tm||(vt.ExecutionSummary=Tm={}));var zu;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function r(o){let s=o;return hn.objectLiteral(s)&&vm.is(s.kind)&&za.DocumentUri.is(s.document)&&(s.metadata===void 0||hn.objectLiteral(s.metadata))}e.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!Tm.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(hn.objectLiteral(o)&&hn.objectLiteral(s)){let u=Object.keys(o),h=Object.keys(s);if(u.length!==h.length||(u.sort(),h.sort(),!i(u,h)))return!1;for(let g=0;g<u.length;g++){let T=u[g];if(!i(o[T],s[T]))return!1}}return!0}})(zu||(vt.NotebookCell=zu={}));var vR;(function(e){function t(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}e.create=t;function r(n){let i=n;return hn.objectLiteral(i)&&hn.string(i.uri)&&za.integer.is(i.version)&&hn.typedArray(i.cells,zu.is)}e.is=r})(vR||(vt.NotebookDocument=vR={}));var Rs;(function(e){e.method="notebookDocument/sync",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.RegistrationType(e.method)})(Rs||(vt.NotebookDocumentSyncRegistrationType=Rs={}));var TR;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Rs.method})(TR||(vt.DidOpenNotebookDocumentNotification=TR={}));var xR;(function(e){function t(n){let i=n;return hn.objectLiteral(i)&&za.uinteger.is(i.start)&&za.uinteger.is(i.deleteCount)&&(i.cells===void 0||hn.typedArray(i.cells,zu.is))}e.is=t;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=r})(xR||(vt.NotebookCellArrayChange=xR={}));var RR;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Rs.method})(RR||(vt.DidChangeNotebookDocumentNotification=RR={}));var bR;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Rs.method})(bR||(vt.DidSaveNotebookDocumentNotification=bR={}));var _R;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Nn.MessageDirection.clientToServer,e.type=new Nn.ProtocolNotificationType(e.method),e.registrationMethod=Rs.method})(_R||(vt.DidCloseNotebookDocumentNotification=_R={}))});var CR=P(Vu=>{"use strict";Object.defineProperty(Vu,"__esModule",{value:!0});Vu.InlineCompletionRequest=void 0;var kR=Ze(),wR;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=kR.MessageDirection.clientToServer,e.type=new kR.ProtocolRequestType(e.method)})(wR||(Vu.InlineCompletionRequest=wR={}))});var jb=P(x=>{"use strict";Object.defineProperty(x,"__esModule",{value:!0});x.WorkspaceSymbolRequest=x.CodeActionResolveRequest=x.CodeActionRequest=x.DocumentSymbolRequest=x.DocumentHighlightRequest=x.ReferencesRequest=x.DefinitionRequest=x.SignatureHelpRequest=x.SignatureHelpTriggerKind=x.HoverRequest=x.CompletionResolveRequest=x.CompletionRequest=x.CompletionTriggerKind=x.PublishDiagnosticsNotification=x.WatchKind=x.RelativePattern=x.FileChangeType=x.DidChangeWatchedFilesNotification=x.WillSaveTextDocumentWaitUntilRequest=x.WillSaveTextDocumentNotification=x.TextDocumentSaveReason=x.DidSaveTextDocumentNotification=x.DidCloseTextDocumentNotification=x.DidChangeTextDocumentNotification=x.TextDocumentContentChangeEvent=x.DidOpenTextDocumentNotification=x.TextDocumentSyncKind=x.TelemetryEventNotification=x.LogMessageNotification=x.ShowMessageRequest=x.ShowMessageNotification=x.MessageType=x.DidChangeConfigurationNotification=x.ExitNotification=x.ShutdownRequest=x.InitializedNotification=x.InitializeErrorCodes=x.InitializeRequest=x.WorkDoneProgressOptions=x.TextDocumentRegistrationOptions=x.StaticRegistrationOptions=x.PositionEncodingKind=x.FailureHandlingKind=x.ResourceOperationKind=x.UnregistrationRequest=x.RegistrationRequest=x.DocumentSelector=x.NotebookCellTextDocumentFilter=x.NotebookDocumentFilter=x.TextDocumentFilter=void 0;x.MonikerRequest=x.MonikerKind=x.UniquenessLevel=x.WillDeleteFilesRequest=x.DidDeleteFilesNotification=x.WillRenameFilesRequest=x.DidRenameFilesNotification=x.WillCreateFilesRequest=x.DidCreateFilesNotification=x.FileOperationPatternKind=x.LinkedEditingRangeRequest=x.ShowDocumentRequest=x.SemanticTokensRegistrationType=x.SemanticTokensRefreshRequest=x.SemanticTokensRangeRequest=x.SemanticTokensDeltaRequest=x.SemanticTokensRequest=x.TokenFormat=x.CallHierarchyPrepareRequest=x.CallHierarchyOutgoingCallsRequest=x.CallHierarchyIncomingCallsRequest=x.WorkDoneProgressCancelNotification=x.WorkDoneProgressCreateRequest=x.WorkDoneProgress=x.SelectionRangeRequest=x.DeclarationRequest=x.FoldingRangeRefreshRequest=x.FoldingRangeRequest=x.ColorPresentationRequest=x.DocumentColorRequest=x.ConfigurationRequest=x.DidChangeWorkspaceFoldersNotification=x.WorkspaceFoldersRequest=x.TypeDefinitionRequest=x.ImplementationRequest=x.ApplyWorkspaceEditRequest=x.ExecuteCommandRequest=x.PrepareRenameRequest=x.RenameRequest=x.PrepareSupportDefaultBehavior=x.DocumentOnTypeFormattingRequest=x.DocumentRangesFormattingRequest=x.DocumentRangeFormattingRequest=x.DocumentFormattingRequest=x.DocumentLinkResolveRequest=x.DocumentLinkRequest=x.CodeLensRefreshRequest=x.CodeLensResolveRequest=x.CodeLensRequest=x.WorkspaceSymbolResolveRequest=void 0;x.InlineCompletionRequest=x.DidCloseNotebookDocumentNotification=x.DidSaveNotebookDocumentNotification=x.DidChangeNotebookDocumentNotification=x.NotebookCellArrayChange=x.DidOpenNotebookDocumentNotification=x.NotebookDocumentSyncRegistrationType=x.NotebookDocument=x.NotebookCell=x.ExecutionSummary=x.NotebookCellKind=x.DiagnosticRefreshRequest=x.WorkspaceDiagnosticRequest=x.DocumentDiagnosticRequest=x.DocumentDiagnosticReportKind=x.DiagnosticServerCancellationData=x.InlayHintRefreshRequest=x.InlayHintResolveRequest=x.InlayHintRequest=x.InlineValueRefreshRequest=x.InlineValueRequest=x.TypeHierarchySupertypesRequest=x.TypeHierarchySubtypesRequest=x.TypeHierarchyPrepareRequest=void 0;var U=Ze(),AR=(ko(),np(Iu)),Wt=Ou(),PP=ZT();Object.defineProperty(x,"ImplementationRequest",{enumerable:!0,get:function(){return PP.ImplementationRequest}});var DP=rx();Object.defineProperty(x,"TypeDefinitionRequest",{enumerable:!0,get:function(){return DP.TypeDefinitionRequest}});var Mb=ox();Object.defineProperty(x,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return Mb.WorkspaceFoldersRequest}});Object.defineProperty(x,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return Mb.DidChangeWorkspaceFoldersNotification}});var IP=cx();Object.defineProperty(x,"ConfigurationRequest",{enumerable:!0,get:function(){return IP.ConfigurationRequest}});var $b=fx();Object.defineProperty(x,"DocumentColorRequest",{enumerable:!0,get:function(){return $b.DocumentColorRequest}});Object.defineProperty(x,"ColorPresentationRequest",{enumerable:!0,get:function(){return $b.ColorPresentationRequest}});var Fb=hx();Object.defineProperty(x,"FoldingRangeRequest",{enumerable:!0,get:function(){return Fb.FoldingRangeRequest}});Object.defineProperty(x,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return Fb.FoldingRangeRefreshRequest}});var OP=yx();Object.defineProperty(x,"DeclarationRequest",{enumerable:!0,get:function(){return OP.DeclarationRequest}});var LP=xx();Object.defineProperty(x,"SelectionRangeRequest",{enumerable:!0,get:function(){return LP.SelectionRangeRequest}});var Sm=Sx();Object.defineProperty(x,"WorkDoneProgress",{enumerable:!0,get:function(){return Sm.WorkDoneProgress}});Object.defineProperty(x,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Sm.WorkDoneProgressCreateRequest}});Object.defineProperty(x,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Sm.WorkDoneProgressCancelNotification}});var km=Ax();Object.defineProperty(x,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return km.CallHierarchyIncomingCallsRequest}});Object.defineProperty(x,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return km.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(x,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return km.CallHierarchyPrepareRequest}});var bs=Ox();Object.defineProperty(x,"TokenFormat",{enumerable:!0,get:function(){return bs.TokenFormat}});Object.defineProperty(x,"SemanticTokensRequest",{enumerable:!0,get:function(){return bs.SemanticTokensRequest}});Object.defineProperty(x,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return bs.SemanticTokensDeltaRequest}});Object.defineProperty(x,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return bs.SemanticTokensRangeRequest}});Object.defineProperty(x,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return bs.SemanticTokensRefreshRequest}});Object.defineProperty(x,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return bs.SemanticTokensRegistrationType}});var MP=$x();Object.defineProperty(x,"ShowDocumentRequest",{enumerable:!0,get:function(){return MP.ShowDocumentRequest}});var $P=jx();Object.defineProperty(x,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return $P.LinkedEditingRangeRequest}});var wo=Vx();Object.defineProperty(x,"FileOperationPatternKind",{enumerable:!0,get:function(){return wo.FileOperationPatternKind}});Object.defineProperty(x,"DidCreateFilesNotification",{enumerable:!0,get:function(){return wo.DidCreateFilesNotification}});Object.defineProperty(x,"WillCreateFilesRequest",{enumerable:!0,get:function(){return wo.WillCreateFilesRequest}});Object.defineProperty(x,"DidRenameFilesNotification",{enumerable:!0,get:function(){return wo.DidRenameFilesNotification}});Object.defineProperty(x,"WillRenameFilesRequest",{enumerable:!0,get:function(){return wo.WillRenameFilesRequest}});Object.defineProperty(x,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return wo.DidDeleteFilesNotification}});Object.defineProperty(x,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return wo.WillDeleteFilesRequest}});var wm=Zx();Object.defineProperty(x,"UniquenessLevel",{enumerable:!0,get:function(){return wm.UniquenessLevel}});Object.defineProperty(x,"MonikerKind",{enumerable:!0,get:function(){return wm.MonikerKind}});Object.defineProperty(x,"MonikerRequest",{enumerable:!0,get:function(){return wm.MonikerRequest}});var Cm=nR();Object.defineProperty(x,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Cm.TypeHierarchyPrepareRequest}});Object.defineProperty(x,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Cm.TypeHierarchySubtypesRequest}});Object.defineProperty(x,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Cm.TypeHierarchySupertypesRequest}});var qb=sR();Object.defineProperty(x,"InlineValueRequest",{enumerable:!0,get:function(){return qb.InlineValueRequest}});Object.defineProperty(x,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return qb.InlineValueRefreshRequest}});var Am=lR();Object.defineProperty(x,"InlayHintRequest",{enumerable:!0,get:function(){return Am.InlayHintRequest}});Object.defineProperty(x,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Am.InlayHintResolveRequest}});Object.defineProperty(x,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Am.InlayHintRefreshRequest}});var Va=yR();Object.defineProperty(x,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Va.DiagnosticServerCancellationData}});Object.defineProperty(x,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Va.DocumentDiagnosticReportKind}});Object.defineProperty(x,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Va.DocumentDiagnosticRequest}});Object.defineProperty(x,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Va.WorkspaceDiagnosticRequest}});Object.defineProperty(x,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Va.DiagnosticRefreshRequest}});var Pn=SR();Object.defineProperty(x,"NotebookCellKind",{enumerable:!0,get:function(){return Pn.NotebookCellKind}});Object.defineProperty(x,"ExecutionSummary",{enumerable:!0,get:function(){return Pn.ExecutionSummary}});Object.defineProperty(x,"NotebookCell",{enumerable:!0,get:function(){return Pn.NotebookCell}});Object.defineProperty(x,"NotebookDocument",{enumerable:!0,get:function(){return Pn.NotebookDocument}});Object.defineProperty(x,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Pn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(x,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Pn.DidOpenNotebookDocumentNotification}});Object.defineProperty(x,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Pn.NotebookCellArrayChange}});Object.defineProperty(x,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Pn.DidChangeNotebookDocumentNotification}});Object.defineProperty(x,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Pn.DidSaveNotebookDocumentNotification}});Object.defineProperty(x,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Pn.DidCloseNotebookDocumentNotification}});var FP=CR();Object.defineProperty(x,"InlineCompletionRequest",{enumerable:!0,get:function(){return FP.InlineCompletionRequest}});var xm;(function(e){function t(r){let n=r;return Wt.string(n)||Wt.string(n.language)||Wt.string(n.scheme)||Wt.string(n.pattern)}e.is=t})(xm||(x.TextDocumentFilter=xm={}));var Rm;(function(e){function t(r){let n=r;return Wt.objectLiteral(n)&&(Wt.string(n.notebookType)||Wt.string(n.scheme)||Wt.string(n.pattern))}e.is=t})(Rm||(x.NotebookDocumentFilter=Rm={}));var bm;(function(e){function t(r){let n=r;return Wt.objectLiteral(n)&&(Wt.string(n.notebook)||Rm.is(n.notebook))&&(n.language===void 0||Wt.string(n.language))}e.is=t})(bm||(x.NotebookCellTextDocumentFilter=bm={}));var _m;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Wt.string(n)&&!xm.is(n)&&!bm.is(n))return!1;return!0}e.is=t})(_m||(x.DocumentSelector=_m={}));var ER;(function(e){e.method="client/registerCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(ER||(x.RegistrationRequest=ER={}));var NR;(function(e){e.method="client/unregisterCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(NR||(x.UnregistrationRequest=NR={}));var PR;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(PR||(x.ResourceOperationKind=PR={}));var DR;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(DR||(x.FailureHandlingKind=DR={}));var IR;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(IR||(x.PositionEncodingKind=IR={}));var OR;(function(e){function t(r){let n=r;return n&&Wt.string(n.id)&&n.id.length>0}e.hasId=t})(OR||(x.StaticRegistrationOptions=OR={}));var LR;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||_m.is(n.documentSelector))}e.is=t})(LR||(x.TextDocumentRegistrationOptions=LR={}));var MR;(function(e){function t(n){let i=n;return Wt.objectLiteral(i)&&(i.workDoneProgress===void 0||Wt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Wt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(MR||(x.WorkDoneProgressOptions=MR={}));var $R;(function(e){e.method="initialize",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})($R||(x.InitializeRequest=$R={}));var FR;(function(e){e.unknownProtocolVersion=1})(FR||(x.InitializeErrorCodes=FR={}));var qR;(function(e){e.method="initialized",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(qR||(x.InitializedNotification=qR={}));var jR;(function(e){e.method="shutdown",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType0(e.method)})(jR||(x.ShutdownRequest=jR={}));var UR;(function(e){e.method="exit",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType0(e.method)})(UR||(x.ExitNotification=UR={}));var HR;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(HR||(x.DidChangeConfigurationNotification=HR={}));var WR;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(WR||(x.MessageType=WR={}));var GR;(function(e){e.method="window/showMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(GR||(x.ShowMessageNotification=GR={}));var BR;(function(e){e.method="window/showMessageRequest",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(BR||(x.ShowMessageRequest=BR={}));var KR;(function(e){e.method="window/logMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(KR||(x.LogMessageNotification=KR={}));var zR;(function(e){e.method="telemetry/event",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(zR||(x.TelemetryEventNotification=zR={}));var VR;(function(e){e.None=0,e.Full=1,e.Incremental=2})(VR||(x.TextDocumentSyncKind=VR={}));var YR;(function(e){e.method="textDocument/didOpen",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(YR||(x.DidOpenTextDocumentNotification=YR={}));var XR;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(XR||(x.TextDocumentContentChangeEvent=XR={}));var JR;(function(e){e.method="textDocument/didChange",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(JR||(x.DidChangeTextDocumentNotification=JR={}));var QR;(function(e){e.method="textDocument/didClose",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(QR||(x.DidCloseTextDocumentNotification=QR={}));var ZR;(function(e){e.method="textDocument/didSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(ZR||(x.DidSaveTextDocumentNotification=ZR={}));var eb;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(eb||(x.TextDocumentSaveReason=eb={}));var tb;(function(e){e.method="textDocument/willSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(tb||(x.WillSaveTextDocumentNotification=tb={}));var rb;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(rb||(x.WillSaveTextDocumentWaitUntilRequest=rb={}));var nb;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(nb||(x.DidChangeWatchedFilesNotification=nb={}));var ib;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(ib||(x.FileChangeType=ib={}));var ob;(function(e){function t(r){let n=r;return Wt.objectLiteral(n)&&(AR.URI.is(n.baseUri)||AR.WorkspaceFolder.is(n.baseUri))&&Wt.string(n.pattern)}e.is=t})(ob||(x.RelativePattern=ob={}));var sb;(function(e){e.Create=1,e.Change=2,e.Delete=4})(sb||(x.WatchKind=sb={}));var ab;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(ab||(x.PublishDiagnosticsNotification=ab={}));var cb;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(cb||(x.CompletionTriggerKind=cb={}));var ub;(function(e){e.method="textDocument/completion",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ub||(x.CompletionRequest=ub={}));var lb;(function(e){e.method="completionItem/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(lb||(x.CompletionResolveRequest=lb={}));var fb;(function(e){e.method="textDocument/hover",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(fb||(x.HoverRequest=fb={}));var db;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(db||(x.SignatureHelpTriggerKind=db={}));var pb;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(pb||(x.SignatureHelpRequest=pb={}));var hb;(function(e){e.method="textDocument/definition",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(hb||(x.DefinitionRequest=hb={}));var mb;(function(e){e.method="textDocument/references",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(mb||(x.ReferencesRequest=mb={}));var gb;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(gb||(x.DocumentHighlightRequest=gb={}));var yb;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(yb||(x.DocumentSymbolRequest=yb={}));var vb;(function(e){e.method="textDocument/codeAction",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(vb||(x.CodeActionRequest=vb={}));var Tb;(function(e){e.method="codeAction/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Tb||(x.CodeActionResolveRequest=Tb={}));var xb;(function(e){e.method="workspace/symbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(xb||(x.WorkspaceSymbolRequest=xb={}));var Rb;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Rb||(x.WorkspaceSymbolResolveRequest=Rb={}));var bb;(function(e){e.method="textDocument/codeLens",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(bb||(x.CodeLensRequest=bb={}));var _b;(function(e){e.method="codeLens/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(_b||(x.CodeLensResolveRequest=_b={}));var Sb;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType0(e.method)})(Sb||(x.CodeLensRefreshRequest=Sb={}));var kb;(function(e){e.method="textDocument/documentLink",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(kb||(x.DocumentLinkRequest=kb={}));var wb;(function(e){e.method="documentLink/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(wb||(x.DocumentLinkResolveRequest=wb={}));var Cb;(function(e){e.method="textDocument/formatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Cb||(x.DocumentFormattingRequest=Cb={}));var Ab;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ab||(x.DocumentRangeFormattingRequest=Ab={}));var Eb;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Eb||(x.DocumentRangesFormattingRequest=Eb={}));var Nb;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Nb||(x.DocumentOnTypeFormattingRequest=Nb={}));var Pb;(function(e){e.Identifier=1})(Pb||(x.PrepareSupportDefaultBehavior=Pb={}));var Db;(function(e){e.method="textDocument/rename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Db||(x.RenameRequest=Db={}));var Ib;(function(e){e.method="textDocument/prepareRename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ib||(x.PrepareRenameRequest=Ib={}));var Ob;(function(e){e.method="workspace/executeCommand",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Ob||(x.ExecuteCommandRequest=Ob={}));var Lb;(function(e){e.method="workspace/applyEdit",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType("workspace/applyEdit")})(Lb||(x.ApplyWorkspaceEditRequest=Lb={}))});var Hb=P(Yu=>{"use strict";Object.defineProperty(Yu,"__esModule",{value:!0});Yu.createProtocolConnection=void 0;var Ub=bo();function qP(e,t,r,n){return Ub.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ub.createMessageConnection)(e,t,r,n)}Yu.createProtocolConnection=qP});var Gb=P(Pr=>{"use strict";var jP=Pr&&Pr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xu=Pr&&Pr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jP(t,e,r)};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.LSPErrorCodes=Pr.createProtocolConnection=void 0;Xu(bo(),Pr);Xu((ko(),np(Iu)),Pr);Xu(Ze(),Pr);Xu(jb(),Pr);var UP=Hb();Object.defineProperty(Pr,"createProtocolConnection",{enumerable:!0,get:function(){return UP.createProtocolConnection}});var Wb;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Wb||(Pr.LSPErrorCodes=Wb={}))});var Tt=P(Dn=>{"use strict";var HP=Dn&&Dn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Bb=Dn&&Dn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&HP(t,e,r)};Object.defineProperty(Dn,"__esModule",{value:!0});Dn.createProtocolConnection=void 0;var WP=dh();Bb(dh(),Dn);Bb(Gb(),Dn);function GP(e,t,r,n){return(0,WP.createMessageConnection)(e,t,r,n)}Dn.createProtocolConnection=GP});var Nm=P($i=>{"use strict";Object.defineProperty($i,"__esModule",{value:!0});$i.SemanticTokensBuilder=$i.SemanticTokensDiff=$i.SemanticTokensFeature=void 0;var Ju=Tt(),BP=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Ju.SemanticTokensRefreshRequest.type),on:t=>{let r=Ju.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:t=>{let r=Ju.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=Ju.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};$i.SemanticTokensFeature=BP;var Qu=class{constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};$i.SemanticTokensDiff=Qu;var Em=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let s=t,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Qu(this._prevData,this._data).computeDiff()}:this.build()}};$i.SemanticTokensBuilder=Em});var Kb=P(Zu=>{"use strict";Object.defineProperty(Zu,"__esModule",{value:!0});Zu.InlineCompletionFeature=void 0;var KP=Tt(),zP=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest(KP.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};Zu.InlineCompletionFeature=zP});var Dm=P(el=>{"use strict";Object.defineProperty(el,"__esModule",{value:!0});el.TextDocuments=void 0;var Co=Tt(),Pm=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Co.Emitter,this._onDidOpen=new Co.Emitter,this._onDidClose=new Co.Emitter,this._onDidSave=new Co.Emitter,this._onWillSave=new Co.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Co.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Co.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};el.TextDocuments=Pm});var Om=P(_s=>{"use strict";Object.defineProperty(_s,"__esModule",{value:!0});_s.NotebookDocuments=_s.NotebookSyncFeature=void 0;var Xr=Tt(),zb=Dm(),VP=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Xr.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Xr.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Xr.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Xr.DidCloseNotebookDocumentNotification.type,r=>{t(r)})}}};_s.NotebookSyncFeature=VP;var tl=class e{onDidOpenTextDocument(t){return this.openHandler=t,Xr.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Xr.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Xr.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};tl.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Im=class{constructor(t){t instanceof zb.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new zb.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Xr.Emitter,this._onDidChange=new Xr.Emitter,this._onDidSave=new Xr.Emitter,this._onDidClose=new Xr.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new tl,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,c=i.change;c.metadata!==void 0&&(a=!0,o.metadata=c.metadata);let u=[],h=[],g=[],T=[];if(c.cells!==void 0){let w=c.cells;if(w.structure!==void 0){let p=w.structure.array;if(o.cells.splice(p.start,p.deleteCount,...p.cells!==void 0?p.cells:[]),w.structure.didOpen!==void 0)for(let d of w.structure.didOpen)r.openTextDocument({textDocument:d}),u.push(d.uri);if(w.structure.didClose)for(let d of w.structure.didClose)r.closeTextDocument({textDocument:d}),h.push(d.uri)}if(w.data!==void 0){let p=new Map(w.data.map(d=>[d.document,d]));for(let d=0;d<=o.cells.length;d++){let _=p.get(o.cells[d].document);if(_!==void 0){let q=o.cells.splice(d,1,_);if(g.push({old:q[0],new:_}),p.delete(_.document),p.size===0)break}}}if(w.textContent!==void 0)for(let p of w.textContent)r.changeTextDocument({textDocument:p.document,contentChanges:p.changes}),T.push(p.document.uri)}this.updateCellMap(o);let R={notebookDocument:o};a&&(R.metadata={old:s,new:o.metadata});let C=[];for(let w of u)C.push(this.getNotebookCell(w));let A=[];for(let w of h)A.push(this.getNotebookCell(w));let O=[];for(let w of T)O.push(this.getNotebookCell(w));(C.length>0||A.length>0||g.length>0||O.length>0)&&(R.cells={added:C,removed:A,changed:{data:g,textContent:O}}),(R.metadata!==void 0||R.cells!==void 0)&&this._onDidChange.fire(R)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),Xr.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};_s.NotebookDocuments=Im});var Lm=P(kt=>{"use strict";Object.defineProperty(kt,"__esModule",{value:!0});kt.thenable=kt.typedArray=kt.stringArray=kt.array=kt.func=kt.error=kt.number=kt.string=kt.boolean=void 0;function YP(e){return e===!0||e===!1}kt.boolean=YP;function Vb(e){return typeof e=="string"||e instanceof String}kt.string=Vb;function XP(e){return typeof e=="number"||e instanceof Number}kt.number=XP;function JP(e){return e instanceof Error}kt.error=JP;function Yb(e){return typeof e=="function"}kt.func=Yb;function Xb(e){return Array.isArray(e)}kt.array=Xb;function QP(e){return Xb(e)&&e.every(t=>Vb(t))}kt.stringArray=QP;function ZP(e,t){return Array.isArray(e)&&e.every(t)}kt.typedArray=ZP;function eD(e){return e&&Yb(e.then)}kt.thenable=eD});var Mm=P(Jr=>{"use strict";Object.defineProperty(Jr,"__esModule",{value:!0});Jr.generateUuid=Jr.parse=Jr.isUUID=Jr.v4=Jr.empty=void 0;var Ya=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Xa=class e extends Ya{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};Xa._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Xa._timeHighBits=["8","9","a","b"];Jr.empty=new Ya("00000000-0000-0000-0000-000000000000");function Jb(){return new Xa}Jr.v4=Jb;var tD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function Qb(e){return tD.test(e)}Jr.isUUID=Qb;function rD(e){if(!Qb(e))throw new Error("invalid uuid");return new Ya(e)}Jr.parse=rD;function nD(){return Jb().asHex()}Jr.generateUuid=nD});var Zb=P(qi=>{"use strict";Object.defineProperty(qi,"__esModule",{value:!0});qi.attachPartialResult=qi.ProgressFeature=qi.attachWorkDone=void 0;var Fi=Tt(),iD=Mm(),Ao=class e{constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(Fi.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(Fi.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(Fi.WorkDoneProgress.type,this._token,{kind:"end"})}};Ao.Instances=new Map;var rl=class extends Ao{constructor(t,r){super(t,r),this._source=new Fi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Ja=class{constructor(){}begin(){}report(){}done(){}},nl=class extends Ja{constructor(){super(),this._source=new Fi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function oD(e,t){if(t===void 0||t.workDoneToken===void 0)return new Ja;let r=t.workDoneToken;return delete t.workDoneToken,new Ao(e,r)}qi.attachWorkDone=oD;var sD=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Fi.WorkDoneProgressCancelNotification.type,r=>{let n=Ao.Instances.get(r.token);(n instanceof rl||n instanceof nl)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Ja:new Ao(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,iD.generateUuid)();return this.connection.sendRequest(Fi.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new rl(this.connection,t))}else return Promise.resolve(new nl)}};qi.ProgressFeature=sD;var $m;(function(e){e.type=new Fi.ProgressType})($m||($m={}));var Fm=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress($m.type,this._token,t)}};function aD(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new Fm(e,r)}qi.attachPartialResult=aD});var e_=P(il=>{"use strict";Object.defineProperty(il,"__esModule",{value:!0});il.ConfigurationFeature=void 0;var cD=Tt(),uD=Lm(),lD=e=>class extends e{getConfiguration(t){return t?uD.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(cD.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}};il.ConfigurationFeature=lD});var t_=P(sl=>{"use strict";Object.defineProperty(sl,"__esModule",{value:!0});sl.WorkspaceFoldersFeature=void 0;var ol=Tt(),fD=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new ol.Emitter,this.connection.onNotification(ol.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(ol.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(ol.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};sl.WorkspaceFoldersFeature=fD});var r_=P(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.CallHierarchyFeature=void 0;var qm=Tt(),dD=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(qm.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:t=>{let r=qm.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=qm.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};al.CallHierarchyFeature=dD});var n_=P(cl=>{"use strict";Object.defineProperty(cl,"__esModule",{value:!0});cl.ShowDocumentFeature=void 0;var pD=Tt(),hD=e=>class extends e{showDocument(t){return this.connection.sendRequest(pD.ShowDocumentRequest.type,t)}};cl.ShowDocumentFeature=hD});var i_=P(ul=>{"use strict";Object.defineProperty(ul,"__esModule",{value:!0});ul.FileOperationsFeature=void 0;var Ss=Tt(),mD=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(Ss.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(Ss.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(Ss.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(Ss.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(Ss.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(Ss.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}};ul.FileOperationsFeature=mD});var o_=P(ll=>{"use strict";Object.defineProperty(ll,"__esModule",{value:!0});ll.LinkedEditingRangeFeature=void 0;var gD=Tt(),yD=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(gD.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}};ll.LinkedEditingRangeFeature=yD});var s_=P(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.TypeHierarchyFeature=void 0;var jm=Tt(),vD=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(jm.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:t=>{let r=jm.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:t=>{let r=jm.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};fl.TypeHierarchyFeature=vD});var c_=P(dl=>{"use strict";Object.defineProperty(dl,"__esModule",{value:!0});dl.InlineValueFeature=void 0;var a_=Tt(),TD=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(a_.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(a_.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};dl.InlineValueFeature=TD});var l_=P(pl=>{"use strict";Object.defineProperty(pl,"__esModule",{value:!0});pl.FoldingRangeFeature=void 0;var u_=Tt(),xD=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(u_.FoldingRangeRefreshRequest.type),on:t=>{let r=u_.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};pl.FoldingRangeFeature=xD});var f_=P(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.InlayHintFeature=void 0;var Um=Tt(),RD=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Um.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Um.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),resolve:t=>this.connection.onRequest(Um.InlayHintResolveRequest.type,(r,n)=>t(r,n))}}};hl.InlayHintFeature=RD});var d_=P(ml=>{"use strict";Object.defineProperty(ml,"__esModule",{value:!0});ml.DiagnosticFeature=void 0;var Qa=Tt(),bD=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Qa.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Qa.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Qa.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:t=>this.connection.onRequest(Qa.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Qa.WorkspaceDiagnosticRequest.partialResult,r)))}}};ml.DiagnosticFeature=bD});var p_=P(gl=>{"use strict";Object.defineProperty(gl,"__esModule",{value:!0});gl.MonikerFeature=void 0;var _D=Tt(),SD=e=>class extends e{get moniker(){return{on:t=>{let r=_D.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};gl.MonikerFeature=SD});var A_=P(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.createConnection=Pe.combineFeatures=Pe.combineNotebooksFeatures=Pe.combineLanguagesFeatures=Pe.combineWorkspaceFeatures=Pe.combineWindowFeatures=Pe.combineClientFeatures=Pe.combineTracerFeatures=Pe.combineTelemetryFeatures=Pe.combineConsoleFeatures=Pe._NotebooksImpl=Pe._LanguagesImpl=Pe.BulkUnregistration=Pe.BulkRegistration=Pe.ErrorMessageTracker=void 0;var B=Tt(),Qr=Lm(),Wm=Mm(),ge=Zb(),kD=e_(),wD=t_(),CD=r_(),AD=Nm(),ED=n_(),ND=i_(),PD=o_(),DD=s_(),ID=c_(),OD=l_(),LD=f_(),MD=d_(),$D=Om(),FD=p_();function Hm(e){if(e!==null)return e}var Gm=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Pe.ErrorMessageTracker=Gm;var yl=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(B.MessageType.Error,t)}warn(t){this.send(B.MessageType.Warning,t)}info(t){this.send(B.MessageType.Info,t)}log(t){this.send(B.MessageType.Log,t)}debug(t){this.send(B.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(B.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,B.RAL)().console.error("Sending log message failed")})}},Bm=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:B.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Hm)}showWarningMessage(t,...r){let n={type:B.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Hm)}showInformationMessage(t,...r){let n={type:B.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Hm)}},h_=(0,ED.ShowDocumentFeature)((0,ge.ProgressFeature)(Bm)),m_;(function(e){function t(){return new vl}e.create=t})(m_||(Pe.BulkRegistration=m_={}));var vl=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Qr.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Wm.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},g_;(function(e){function t(){return new Za(void 0,[])}e.create=t})(g_||(Pe.BulkUnregistration=g_={}));var Za=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(B.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Qr.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(B.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},Tl=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof vl?this.registerMany(t):t instanceof Za?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Qr.string(r)?r:r.method,o=Wm.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(B.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=Qr.string(t)?t:t.method,i=Wm.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(B.RegistrationRequest.type,o).then(s=>B.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(B.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(B.RegistrationRequest.type,r).then(()=>new Za(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Km=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this.connection.sendRequest(B.ApplyWorkspaceEditRequest.type,n)}},y_=(0,ND.FileOperationsFeature)((0,wD.WorkspaceFoldersFeature)((0,kD.ConfigurationFeature)(Km))),xl=class{constructor(){this._trace=B.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==B.Trace.Off&&this.connection.sendNotification(B.LogTraceNotification.type,{message:t,verbose:this._trace===B.Trace.Verbose?r:void 0}).catch(()=>{})}},Rl=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(B.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},bl=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ge.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ge.attachPartialResult)(this.connection,r)}};Pe._LanguagesImpl=bl;var v_=(0,OD.FoldingRangeFeature)((0,FD.MonikerFeature)((0,MD.DiagnosticFeature)((0,LD.InlayHintFeature)((0,ID.InlineValueFeature)((0,DD.TypeHierarchyFeature)((0,PD.LinkedEditingRangeFeature)((0,AD.SemanticTokensFeature)((0,CD.CallHierarchyFeature)(bl))))))))),_l=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ge.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ge.attachPartialResult)(this.connection,r)}};Pe._NotebooksImpl=_l;var T_=(0,$D.NotebookSyncFeature)(_l);function x_(e,t){return function(r){return t(e(r))}}Pe.combineConsoleFeatures=x_;function R_(e,t){return function(r){return t(e(r))}}Pe.combineTelemetryFeatures=R_;function b_(e,t){return function(r){return t(e(r))}}Pe.combineTracerFeatures=b_;function __(e,t){return function(r){return t(e(r))}}Pe.combineClientFeatures=__;function S_(e,t){return function(r){return t(e(r))}}Pe.combineWindowFeatures=S_;function k_(e,t){return function(r){return t(e(r))}}Pe.combineWorkspaceFeatures=k_;function w_(e,t){return function(r){return t(e(r))}}Pe.combineLanguagesFeatures=w_;function C_(e,t){return function(r){return t(e(r))}}Pe.combineNotebooksFeatures=C_;function qD(e,t){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(e.console,t.console,x_),tracer:r(e.tracer,t.tracer,b_),telemetry:r(e.telemetry,t.telemetry,R_),client:r(e.client,t.client,__),window:r(e.window,t.window,S_),workspace:r(e.workspace,t.workspace,k_),languages:r(e.languages,t.languages,w_),notebooks:r(e.notebooks,t.notebooks,C_)}}Pe.combineFeatures=qD;function jD(e,t,r){let n=r&&r.console?new(r.console(yl)):new yl,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(xl)):new xl,s=r&&r.telemetry?new(r.telemetry(Rl)):new Rl,a=r&&r.client?new(r.client(Tl)):new Tl,c=r&&r.window?new(r.window(h_)):new h_,u=r&&r.workspace?new(r.workspace(y_)):new y_,h=r&&r.languages?new(r.languages(v_)):new v_,g=r&&r.notebooks?new(r.notebooks(T_)):new T_,T=[n,o,s,a,c,u,h,g];function R(p){return p instanceof Promise?p:Qr.thenable(p)?new Promise((d,_)=>{p.then(q=>d(q),q=>_(q))}):Promise.resolve(p)}let C,A,O,w={listen:()=>i.listen(),sendRequest:(p,...d)=>i.sendRequest(Qr.string(p)?p:p.method,...d),onRequest:(p,d)=>i.onRequest(p,d),sendNotification:(p,d)=>{let _=Qr.string(p)?p:p.method;return i.sendNotification(_,d)},onNotification:(p,d)=>i.onNotification(p,d),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:p=>(A=p,{dispose:()=>{A=void 0}}),onInitialized:p=>i.onNotification(B.InitializedNotification.type,p),onShutdown:p=>(C=p,{dispose:()=>{C=void 0}}),onExit:p=>(O=p,{dispose:()=>{O=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return c},get workspace(){return u},get languages(){return h},get notebooks(){return g},onDidChangeConfiguration:p=>i.onNotification(B.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>i.onNotification(B.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>i.onNotification(B.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>i.onNotification(B.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>i.onNotification(B.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>i.onNotification(B.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>i.onRequest(B.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>i.onNotification(B.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>i.sendNotification(B.PublishDiagnosticsNotification.type,p),onHover:p=>i.onRequest(B.HoverRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),onCompletion:p=>i.onRequest(B.CompletionRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCompletionResolve:p=>i.onRequest(B.CompletionResolveRequest.type,p),onSignatureHelp:p=>i.onRequest(B.SignatureHelpRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),onDeclaration:p=>i.onRequest(B.DeclarationRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDefinition:p=>i.onRequest(B.DefinitionRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onTypeDefinition:p=>i.onRequest(B.TypeDefinitionRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onImplementation:p=>i.onRequest(B.ImplementationRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onReferences:p=>i.onRequest(B.ReferencesRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentHighlight:p=>i.onRequest(B.DocumentHighlightRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentSymbol:p=>i.onRequest(B.DocumentSymbolRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onWorkspaceSymbol:p=>i.onRequest(B.WorkspaceSymbolRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onWorkspaceSymbolResolve:p=>i.onRequest(B.WorkspaceSymbolResolveRequest.type,p),onCodeAction:p=>i.onRequest(B.CodeActionRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCodeActionResolve:p=>i.onRequest(B.CodeActionResolveRequest.type,(d,_)=>p(d,_)),onCodeLens:p=>i.onRequest(B.CodeLensRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCodeLensResolve:p=>i.onRequest(B.CodeLensResolveRequest.type,(d,_)=>p(d,_)),onDocumentFormatting:p=>i.onRequest(B.DocumentFormattingRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),onDocumentRangeFormatting:p=>i.onRequest(B.DocumentRangeFormattingRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),onDocumentOnTypeFormatting:p=>i.onRequest(B.DocumentOnTypeFormattingRequest.type,(d,_)=>p(d,_)),onRenameRequest:p=>i.onRequest(B.RenameRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),onPrepareRename:p=>i.onRequest(B.PrepareRenameRequest.type,(d,_)=>p(d,_)),onDocumentLinks:p=>i.onRequest(B.DocumentLinkRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentLinkResolve:p=>i.onRequest(B.DocumentLinkResolveRequest.type,(d,_)=>p(d,_)),onDocumentColor:p=>i.onRequest(B.DocumentColorRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onColorPresentation:p=>i.onRequest(B.ColorPresentationRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onFoldingRanges:p=>i.onRequest(B.FoldingRangeRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onSelectionRanges:p=>i.onRequest(B.SelectionRangeRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onExecuteCommand:p=>i.onRequest(B.ExecuteCommandRequest.type,(d,_)=>p(d,_,(0,ge.attachWorkDone)(i,d),void 0)),dispose:()=>i.dispose()};for(let p of T)p.attach(w);return i.onRequest(B.InitializeRequest.type,p=>{t.initialize(p),Qr.string(p.trace)&&(o.trace=B.Trace.fromString(p.trace));for(let d of T)d.initialize(p.capabilities);if(A){let d=A(p,new B.CancellationTokenSource().token,(0,ge.attachWorkDone)(i,p),void 0);return R(d).then(_=>{if(_ instanceof B.ResponseError)return _;let q=_;q||(q={capabilities:{}});let X=q.capabilities;X||(X={},q.capabilities=X),X.textDocumentSync===void 0||X.textDocumentSync===null?X.textDocumentSync=Qr.number(w.__textDocumentSync)?w.__textDocumentSync:B.TextDocumentSyncKind.None:!Qr.number(X.textDocumentSync)&&!Qr.number(X.textDocumentSync.change)&&(X.textDocumentSync.change=Qr.number(w.__textDocumentSync)?w.__textDocumentSync:B.TextDocumentSyncKind.None);for(let Se of T)Se.fillServerCapabilities(X);return q})}else{let d={capabilities:{textDocumentSync:B.TextDocumentSyncKind.None}};for(let _ of T)_.fillServerCapabilities(d.capabilities);return d}}),i.onRequest(B.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,C)return C(new B.CancellationTokenSource().token)}),i.onNotification(B.ExitNotification.type,()=>{try{O&&O()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(B.SetTraceNotification.type,p=>{o.trace=B.Trace.fromString(p.value)}),w}Pe.createConnection=jD});var zm=P(ir=>{"use strict";var UD=ir&&ir.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),N_=ir&&ir.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&UD(t,e,r)};Object.defineProperty(ir,"__esModule",{value:!0});ir.ProposedFeatures=ir.NotebookDocuments=ir.TextDocuments=ir.SemanticTokensBuilder=void 0;var HD=Nm();Object.defineProperty(ir,"SemanticTokensBuilder",{enumerable:!0,get:function(){return HD.SemanticTokensBuilder}});var WD=Kb();N_(Tt(),ir);var GD=Dm();Object.defineProperty(ir,"TextDocuments",{enumerable:!0,get:function(){return GD.TextDocuments}});var BD=Om();Object.defineProperty(ir,"NotebookDocuments",{enumerable:!0,get:function(){return BD.NotebookDocuments}});N_(A_(),ir);var E_;(function(e){e.all={__brand:"features",languages:WD.InlineCompletionFeature}})(E_||(ir.ProposedFeatures=E_={}))});var D_=P((w6,P_)=>{"use strict";P_.exports=Tt()});var Me=P(In=>{"use strict";var KD=In&&In.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),O_=In&&In.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&KD(t,e,r)};Object.defineProperty(In,"__esModule",{value:!0});In.createConnection=void 0;var Sl=zm();O_(D_(),In);O_(zm(),In);var I_=!1,zD={initialize:e=>{},get shutdownReceived(){return I_},set shutdownReceived(e){I_=e},exit:e=>{}};function VD(e,t,r,n){let i,o,s,a;e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),Sl.ConnectionStrategy.is(e)||Sl.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=r);let c=u=>(0,Sl.createProtocolConnection)(o,s,u,a);return(0,Sl.createConnection)(c,zD,i)}In.createConnection=VD});var Es=P(or=>{"use strict";Object.defineProperty(or,"__esModule",{value:!0});or.stringArray=or.array=or.func=or.error=or.number=or.string=or.boolean=void 0;function jI(e){return e===!0||e===!1}or.boolean=jI;function z_(e){return typeof e=="string"||e instanceof String}or.string=z_;function UI(e){return typeof e=="number"||e instanceof Number}or.number=UI;function HI(e){return e instanceof Error}or.error=HI;function WI(e){return typeof e=="function"}or.func=WI;function V_(e){return Array.isArray(e)}or.array=V_;function GI(e){return V_(e)&&e.every(t=>z_(t))}or.stringArray=GI});var Cg=P(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Message=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType=ne.RequestType0=ne.AbstractMessageSignature=ne.ParameterStructures=ne.ResponseError=ne.ErrorCodes=void 0;var Do=Es(),Y_;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Y_=ne.ErrorCodes||(ne.ErrorCodes={}));var ig=class e extends Error{constructor(t,r,n){super(r),this.code=Do.number(t)?t:Y_.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};ne.ResponseError=ig;var Ir=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};ne.ParameterStructures=Ir;Ir.auto=new Ir("auto");Ir.byPosition=new Ir("byPosition");Ir.byName=new Ir("byName");var Xe=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Ir.auto}};ne.AbstractMessageSignature=Xe;var og=class extends Xe{constructor(t){super(t,0)}};ne.RequestType0=og;var sg=class extends Xe{constructor(t,r=Ir.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.RequestType=sg;var ag=class extends Xe{constructor(t,r=Ir.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.RequestType1=ag;var cg=class extends Xe{constructor(t){super(t,2)}};ne.RequestType2=cg;var ug=class extends Xe{constructor(t){super(t,3)}};ne.RequestType3=ug;var lg=class extends Xe{constructor(t){super(t,4)}};ne.RequestType4=lg;var fg=class extends Xe{constructor(t){super(t,5)}};ne.RequestType5=fg;var dg=class extends Xe{constructor(t){super(t,6)}};ne.RequestType6=dg;var pg=class extends Xe{constructor(t){super(t,7)}};ne.RequestType7=pg;var hg=class extends Xe{constructor(t){super(t,8)}};ne.RequestType8=hg;var mg=class extends Xe{constructor(t){super(t,9)}};ne.RequestType9=mg;var gg=class extends Xe{constructor(t,r=Ir.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.NotificationType=gg;var yg=class extends Xe{constructor(t){super(t,0)}};ne.NotificationType0=yg;var vg=class extends Xe{constructor(t,r=Ir.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.NotificationType1=vg;var Tg=class extends Xe{constructor(t){super(t,2)}};ne.NotificationType2=Tg;var xg=class extends Xe{constructor(t){super(t,3)}};ne.NotificationType3=xg;var Rg=class extends Xe{constructor(t){super(t,4)}};ne.NotificationType4=Rg;var bg=class extends Xe{constructor(t){super(t,5)}};ne.NotificationType5=bg;var _g=class extends Xe{constructor(t){super(t,6)}};ne.NotificationType6=_g;var Sg=class extends Xe{constructor(t){super(t,7)}};ne.NotificationType7=Sg;var kg=class extends Xe{constructor(t){super(t,8)}};ne.NotificationType8=kg;var wg=class extends Xe{constructor(t){super(t,9)}};ne.NotificationType9=wg;var BI;(function(e){function t(i){let o=i;return o&&Do.string(o.method)&&(Do.string(o.id)||Do.number(o.id))}e.isRequest=t;function r(i){let o=i;return o&&Do.string(o.method)&&i.id===void 0}e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Do.string(o.id)||Do.number(o.id)||o.id===null)}e.isResponse=n})(BI=ne.Message||(ne.Message={}))});var Eg=P(ai=>{"use strict";var X_;Object.defineProperty(ai,"__esModule",{value:!0});ai.LRUCache=ai.LinkedMap=ai.Touch=void 0;var Tr;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(Tr=ai.Touch||(ai.Touch={}));var Ll=class{constructor(){this[X_]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=Tr.None){let n=this._map.get(t);if(n)return r!==Tr.None&&this.touch(n,r),n.value}set(t,r,n=Tr.None){let i=this._map.get(t);if(i)i.value=r,n!==Tr.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case Tr.None:this.addItemLast(i);break;case Tr.First:this.addItemFirst(i);break;case Tr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(X_=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==Tr.First&&r!==Tr.Last)){if(r===Tr.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===Tr.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};ai.LinkedMap=Ll;var Ag=class extends Ll{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=Tr.AsNew){return super.get(t,r)}peek(t){return super.get(t,Tr.None)}set(t,r){return super.set(t,r,Tr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ai.LRUCache=Ag});var J_=P(ac=>{"use strict";Object.defineProperty(ac,"__esModule",{value:!0});ac.Disposable=void 0;var KI;(function(e){function t(r){return{dispose:r}}e.create=t})(KI=ac.Disposable||(ac.Disposable={}))});var ji=P(Dg=>{"use strict";Object.defineProperty(Dg,"__esModule",{value:!0});var Ng;function Pg(){if(Ng===void 0)throw new Error("No runtime abstraction layer installed");return Ng}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Ng=r}e.install=t})(Pg||(Pg={}));Dg.default=Pg});var Ns=P(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.Emitter=Io.Event=void 0;var zI=ji(),VI;(function(e){let t={dispose(){}};e.None=function(){return t}})(VI=Io.Event||(Io.Event={}));var Ig=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],t))}catch(a){(0,zI.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ml=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Ig),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};Io.Emitter=Ml;Ml._noop=function(){}});var Fl=P(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.CancellationTokenSource=Oo.CancellationToken=void 0;var YI=ji(),XI=Es(),Og=Ns(),Lg;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Og.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Og.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||XI.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Lg=Oo.CancellationToken||(Oo.CancellationToken={}));var JI=Object.freeze(function(e,t){let r=(0,YI.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),$l=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?JI:(this._emitter||(this._emitter=new Og.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},Mg=class{get token(){return this._token||(this._token=new $l),this._token}cancel(){this._token?this._token.cancel():this._token=Lg.Cancelled}dispose(){this._token?this._token instanceof $l&&this._token.dispose():this._token=Lg.None}};Oo.CancellationTokenSource=Mg});var Q_=P(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});Ps.SharedArrayReceiverStrategy=Ps.SharedArraySenderStrategy=void 0;var QI=Fl(),cc;(function(e){e.Continue=0,e.Cancelled=1})(cc||(cc={}));var $g=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=cc.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,cc.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Ps.SharedArraySenderStrategy=$g;var Fg=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===cc.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},qg=class{constructor(t){this.token=new Fg(t)}cancel(){}dispose(){}},jg=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new QI.CancellationTokenSource:new qg(r)}};Ps.SharedArrayReceiverStrategy=jg});var Hg=P(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.Semaphore=void 0;var ZI=ji(),Ug=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,ZI.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};ql.Semaphore=Ug});var Z_=P(ci=>{"use strict";Object.defineProperty(ci,"__esModule",{value:!0});ci.ReadableStreamMessageReader=ci.AbstractMessageReader=ci.MessageReader=void 0;var Gg=ji(),Ds=Es(),Wg=Ns(),eO=Hg(),tO;(function(e){function t(r){let n=r;return n&&Ds.func(n.listen)&&Ds.func(n.dispose)&&Ds.func(n.onError)&&Ds.func(n.onClose)&&Ds.func(n.onPartialMessage)}e.is=t})(tO=ci.MessageReader||(ci.MessageReader={}));var jl=class{constructor(){this.errorEmitter=new Wg.Emitter,this.closeEmitter=new Wg.Emitter,this.partialMessageEmitter=new Wg.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ds.string(t.message)?t.message:"unknown"}`)}};ci.AbstractMessageReader=jl;var Bg;(function(e){function t(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let u of r.contentDecoders)s.set(u.name,u);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let u of r.contentTypeDecoders)c.set(u.name,u)}return a===void 0&&(a=(0,Gg.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}e.fromOptions=t})(Bg||(Bg={}));var Kg=class extends jl{constructor(t,r){super(),this.readable=t,this.options=Bg.fromOptions(r),this.buffer=(0,Gg.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new eO.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,Gg.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ci.ReadableStreamMessageReader=Kg});var nS=P(ui=>{"use strict";Object.defineProperty(ui,"__esModule",{value:!0});ui.WriteableStreamMessageWriter=ui.AbstractMessageWriter=ui.MessageWriter=void 0;var eS=ji(),uc=Es(),rO=Hg(),tS=Ns(),nO="Content-Length: ",rS=`\r
`,iO;(function(e){function t(r){let n=r;return n&&uc.func(n.dispose)&&uc.func(n.onClose)&&uc.func(n.onError)&&uc.func(n.write)}e.is=t})(iO=ui.MessageWriter||(ui.MessageWriter={}));var Ul=class{constructor(){this.errorEmitter=new tS.Emitter,this.closeEmitter=new tS.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${uc.string(t.message)?t.message:"unknown"}`)}};ui.AbstractMessageWriter=Ul;var zg;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,eS.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,eS.default)().applicationJson.encoder}}e.fromOptions=t})(zg||(zg={}));var Vg=class extends Ul{constructor(t,r){super(),this.writable=t,this.options=zg.fromOptions(r),this.errorCount=0,this.writeSemaphore=new rO.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(nO,n.byteLength.toString(),rS),i.push(rS),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};ui.WriteableStreamMessageWriter=Vg});var iS=P(Hl=>{"use strict";Object.defineProperty(Hl,"__esModule",{value:!0});Hl.AbstractMessageBuffer=void 0;var oO=13,sO=10,aO=`\r
`,Yg=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let u=this._chunks[n];for(i=0;i<u.length;){switch(u[i]){case oO:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case sO:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=u.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(aO);if(c.length<2)return a;for(let u=0;u<c.length-2;u++){let h=c[u],g=h.indexOf(":");if(g===-1)throw new Error("Message header must separate key and value using :");let T=h.substr(0,g),R=h.substr(g+1).trim();a.set(t?T.toLowerCase():T,R)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);r.set(s,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};Hl.AbstractMessageBuffer=Yg});var fS=P(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.MessageStrategy=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.RequestCancellationReceiverStrategy=re.IdCancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.TraceValues=re.Trace=re.NullLogger=re.ProgressType=re.ProgressToken=void 0;var oS=ji(),at=Es(),pe=Cg(),sS=Eg(),lc=Ns(),Xg=Fl(),dc;(function(e){e.type=new pe.NotificationType("$/cancelRequest")})(dc||(dc={}));var aS;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}e.is=t})(aS=re.ProgressToken||(re.ProgressToken={}));var fc;(function(e){e.type=new pe.NotificationType("$/progress")})(fc||(fc={}));var Jg=class{constructor(){}};re.ProgressType=Jg;var Qg;(function(e){function t(r){return at.func(r)}e.is=t})(Qg||(Qg={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var $e;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})($e=re.Trace||(re.Trace={}));var cO;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(cO=re.TraceValues||(re.TraceValues={}));(function(e){function t(n){if(!at.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})($e=re.Trace||(re.Trace={}));var yn;(function(e){e.Text="text",e.JSON="json"})(yn=re.TraceFormat||(re.TraceFormat={}));(function(e){function t(r){return at.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(yn=re.TraceFormat||(re.TraceFormat={}));var cS;(function(e){e.type=new pe.NotificationType("$/setTrace")})(cS=re.SetTraceNotification||(re.SetTraceNotification={}));var Zg;(function(e){e.type=new pe.NotificationType("$/logTrace")})(Zg=re.LogTraceNotification||(re.LogTraceNotification={}));var Wl;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(Wl=re.ConnectionErrors||(re.ConnectionErrors={}));var Is=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};re.ConnectionError=Is;var uS;(function(e){function t(r){let n=r;return n&&at.func(n.cancelUndispatched)}e.is=t})(uS=re.ConnectionStrategy||(re.ConnectionStrategy={}));var ry;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&at.func(n.createCancellationTokenSource)&&(n.dispose===void 0||at.func(n.dispose))}e.is=t})(ry=re.IdCancellationReceiverStrategy||(re.IdCancellationReceiverStrategy={}));var lS;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&at.func(n.createCancellationTokenSource)&&(n.dispose===void 0||at.func(n.dispose))}e.is=t})(lS=re.RequestCancellationReceiverStrategy||(re.RequestCancellationReceiverStrategy={}));var ey;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new Xg.CancellationTokenSource}});function t(r){return ry.is(r)||lS.is(r)}e.is=t})(ey=re.CancellationReceiverStrategy||(re.CancellationReceiverStrategy={}));var ty;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(dc.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&at.func(n.sendCancellation)&&at.func(n.cleanup)}e.is=t})(ty=re.CancellationSenderStrategy||(re.CancellationSenderStrategy={}));var ny;(function(e){e.Message=Object.freeze({receiver:ey.Message,sender:ty.Message});function t(r){let n=r;return n&&ey.is(n.receiver)&&ty.is(n.sender)}e.is=t})(ny=re.CancellationStrategy||(re.CancellationStrategy={}));var iy;(function(e){function t(r){let n=r;return n&&at.func(n.handleMessage)}e.is=t})(iy=re.MessageStrategy||(re.MessageStrategy={}));var uO;(function(e){function t(r){let n=r;return n&&(ny.is(n.cancellationStrategy)||uS.is(n.connectionStrategy)||iy.is(n.messageStrategy))}e.is=t})(uO=re.ConnectionOptions||(re.ConnectionOptions={}));var vn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(vn||(vn={}));function lO(e,t,r,n){let i=r!==void 0?r:re.NullLogger,o=0,s=0,a=0,c="2.0",u,h=new Map,g,T=new Map,R=new Map,C,A=new sS.LinkedMap,O=new Map,w=new Set,p=new Map,d=$e.Off,_=yn.Text,q,X=vn.New,Se=new lc.Emitter,Le=new lc.Emitter,Ut=new lc.Emitter,_t=new lc.Emitter,G=new lc.Emitter,L=n&&n.cancellationStrategy?n.cancellationStrategy:ny.Message;function Q(l){if(l===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+l.toString()}function z(l){return l===null?"res-unknown-"+(++a).toString():"res-"+l.toString()}function be(){return"not-"+(++s).toString()}function ue(l,b){pe.Message.isRequest(b)?l.set(Q(b.id),b):pe.Message.isResponse(b)?l.set(z(b.id),b):l.set(be(),b)}function ce(l){}function it(){return X===vn.Listening}function Ve(){return X===vn.Closed}function xe(){return X===vn.Disposed}function er(){(X===vn.New||X===vn.Listening)&&(X=vn.Closed,Le.fire(void 0))}function ln(l){Se.fire([l,void 0,void 0])}function yo(l){Se.fire(l)}e.onClose(er),e.onError(ln),t.onClose(er),t.onError(yo);function Cn(){C||A.size===0||(C=(0,oS.default)().timer.setImmediate(()=>{C=void 0,wi()}))}function Lt(l){pe.Message.isRequest(l)?Ht(l):pe.Message.isNotification(l)?Mt(l):pe.Message.isResponse(l)?zr(l):Kt(l)}function wi(){if(A.size===0)return;let l=A.shift();try{let b=n?.messageStrategy;iy.is(b)?b.handleMessage(l,Lt):Lt(l)}finally{Cn()}}let mt=l=>{try{if(pe.Message.isNotification(l)&&l.method===dc.type.method){let b=l.params.id,N=Q(b),F=A.get(N);if(pe.Message.isRequest(F)){let ie=n?.connectionStrategy,he=ie&&ie.cancelUndispatched?ie.cancelUndispatched(F,ce):void 0;if(he&&(he.error!==void 0||he.result!==void 0)){A.delete(N),p.delete(b),he.id=F.id,hr(he,l.method,Date.now()),t.write(he).catch(()=>i.error("Sending response for canceled message failed."));return}}let ae=p.get(b);if(ae!==void 0){ae.cancel(),ei(l);return}else w.add(b)}ue(A,l)}finally{Cn()}};function Ht(l){if(xe())return;function b(V,le,ee){let Re={jsonrpc:c,id:l.id};V instanceof pe.ResponseError?Re.error=V.toJson():Re.result=V===void 0?null:V,hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function N(V,le,ee){let Re={jsonrpc:c,id:l.id,error:V.toJson()};hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function F(V,le,ee){V===void 0&&(V=null);let Re={jsonrpc:c,id:l.id,result:V};hr(Re,le,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}Ci(l);let ae=h.get(l.method),ie,he;ae&&(ie=ae.type,he=ae.handler);let me=Date.now();if(he||u){let V=l.id??String(Date.now()),le=ry.is(L.receiver)?L.receiver.createCancellationTokenSource(V):L.receiver.createCancellationTokenSource(l);l.id!==null&&w.has(l.id)&&le.cancel(),l.id!==null&&p.set(V,le);try{let ee;if(he)if(l.params===void 0){if(ie!==void 0&&ie.numberOfParams!==0){N(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${l.method} defines ${ie.numberOfParams} params but received none.`),l.method,me);return}ee=he(le.token)}else if(Array.isArray(l.params)){if(ie!==void 0&&ie.parameterStructures===pe.ParameterStructures.byName){N(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by name but received parameters by position`),l.method,me);return}ee=he(...l.params,le.token)}else{if(ie!==void 0&&ie.parameterStructures===pe.ParameterStructures.byPosition){N(new pe.ResponseError(pe.ErrorCodes.InvalidParams,`Request ${l.method} defines parameters by position but received parameters by name`),l.method,me);return}ee=he(l.params,le.token)}else u&&(ee=u(l.method,l.params,le.token));let Re=ee;ee?Re.then?Re.then(Ee=>{p.delete(V),b(Ee,l.method,me)},Ee=>{p.delete(V),Ee instanceof pe.ResponseError?N(Ee,l.method,me):Ee&&at.string(Ee.message)?N(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${Ee.message}`),l.method,me):N(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,me)}):(p.delete(V),b(ee,l.method,me)):(p.delete(V),F(ee,l.method,me))}catch(ee){p.delete(V),ee instanceof pe.ResponseError?b(ee,l.method,me):ee&&at.string(ee.message)?N(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${l.method} failed with message: ${ee.message}`),l.method,me):N(new pe.ResponseError(pe.ErrorCodes.InternalError,`Request ${l.method} failed unexpectedly without providing any details.`),l.method,me)}}else N(new pe.ResponseError(pe.ErrorCodes.MethodNotFound,`Unhandled method ${l.method}`),l.method,me)}function zr(l){if(!xe())if(l.id===null)l.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(l.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let b=l.id,N=O.get(b);if(Na(l,N),N!==void 0){O.delete(b);try{if(l.error){let F=l.error;N.reject(new pe.ResponseError(F.code,F.message,F.data))}else if(l.result!==void 0)N.resolve(l.result);else throw new Error("Should never happen.")}catch(F){F.message?i.error(`Response handler '${N.method}' failed with message: ${F.message}`):i.error(`Response handler '${N.method}' failed unexpectedly.`)}}}}function Mt(l){if(xe())return;let b,N;if(l.method===dc.type.method){let F=l.params.id;w.delete(F),ei(l);return}else{let F=T.get(l.method);F&&(N=F.handler,b=F.type)}if(N||g)try{if(ei(l),N)if(l.params===void 0)b!==void 0&&b.numberOfParams!==0&&b.parameterStructures!==pe.ParameterStructures.byName&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but received none.`),N();else if(Array.isArray(l.params)){let F=l.params;l.method===fc.type.method&&F.length===2&&aS.is(F[0])?N({token:F[0],value:F[1]}):(b!==void 0&&(b.parameterStructures===pe.ParameterStructures.byName&&i.error(`Notification ${l.method} defines parameters by name but received parameters by position`),b.numberOfParams!==l.params.length&&i.error(`Notification ${l.method} defines ${b.numberOfParams} params but received ${F.length} arguments`)),N(...F))}else b!==void 0&&b.parameterStructures===pe.ParameterStructures.byPosition&&i.error(`Notification ${l.method} defines parameters by position but received parameters by name`),N(l.params);else g&&g(l.method,l.params)}catch(F){F.message?i.error(`Notification handler '${l.method}' failed with message: ${F.message}`):i.error(`Notification handler '${l.method}' failed unexpectedly.`)}else Ut.fire(l)}function Kt(l){if(!l){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(l,null,4)}`);let b=l;if(at.string(b.id)||at.number(b.id)){let N=b.id,F=O.get(N);F&&F.reject(new Error("The received response has neither a result nor an error property."))}}function Fe(l){if(l!=null)switch(d){case $e.Verbose:return JSON.stringify(l,null,4);case $e.Compact:return JSON.stringify(l);default:return}}function pr(l){if(!(d===$e.Off||!q))if(_===yn.Text){let b;(d===$e.Verbose||d===$e.Compact)&&l.params&&(b=`Params: ${Fe(l.params)}

`),q.log(`Sending request '${l.method} - (${l.id})'.`,b)}else mr("send-request",l)}function jr(l){if(!(d===$e.Off||!q))if(_===yn.Text){let b;(d===$e.Verbose||d===$e.Compact)&&(l.params?b=`Params: ${Fe(l.params)}

`:b=`No parameters provided.

`),q.log(`Sending notification '${l.method}'.`,b)}else mr("send-notification",l)}function hr(l,b,N){if(!(d===$e.Off||!q))if(_===yn.Text){let F;(d===$e.Verbose||d===$e.Compact)&&(l.error&&l.error.data?F=`Error data: ${Fe(l.error.data)}

`:l.result?F=`Result: ${Fe(l.result)}

`:l.error===void 0&&(F=`No result returned.

`)),q.log(`Sending response '${b} - (${l.id})'. Processing request took ${Date.now()-N}ms`,F)}else mr("send-response",l)}function Ci(l){if(!(d===$e.Off||!q))if(_===yn.Text){let b;(d===$e.Verbose||d===$e.Compact)&&l.params&&(b=`Params: ${Fe(l.params)}

`),q.log(`Received request '${l.method} - (${l.id})'.`,b)}else mr("receive-request",l)}function ei(l){if(!(d===$e.Off||!q||l.method===Zg.type.method))if(_===yn.Text){let b;(d===$e.Verbose||d===$e.Compact)&&(l.params?b=`Params: ${Fe(l.params)}

`:b=`No parameters provided.

`),q.log(`Received notification '${l.method}'.`,b)}else mr("receive-notification",l)}function Na(l,b){if(!(d===$e.Off||!q))if(_===yn.Text){let N;if((d===$e.Verbose||d===$e.Compact)&&(l.error&&l.error.data?N=`Error data: ${Fe(l.error.data)}

`:l.result?N=`Result: ${Fe(l.result)}

`:l.error===void 0&&(N=`No result returned.

`)),b){let F=l.error?` Request failed: ${l.error.message} (${l.error.code}).`:"";q.log(`Received response '${b.method} - (${l.id})' in ${Date.now()-b.timerStart}ms.${F}`,N)}else q.log(`Received response ${l.id} without active response promise.`,N)}else mr("receive-response",l)}function mr(l,b){if(!q||d===$e.Off)return;let N={isLSPMessage:!0,type:l,message:b,timestamp:Date.now()};q.log(N)}function Ur(){if(Ve())throw new Is(Wl.Closed,"Connection is closed.");if(xe())throw new Is(Wl.Disposed,"Connection is disposed.")}function Pa(){if(it())throw new Is(Wl.AlreadyListening,"Connection is already listening")}function Da(){if(!it())throw new Error("Call listen() first.")}function gr(l){return l===void 0?null:l}function vo(l){if(l!==null)return l}function To(l){return l!=null&&!Array.isArray(l)&&typeof l=="object"}function ti(l,b){switch(l){case pe.ParameterStructures.auto:return To(b)?vo(b):[gr(b)];case pe.ParameterStructures.byName:if(!To(b))throw new Error("Received parameters by name but param is not an object literal.");return vo(b);case pe.ParameterStructures.byPosition:return[gr(b)];default:throw new Error(`Unknown parameter structure ${l.toString()}`)}}function xo(l,b){let N,F=l.numberOfParams;switch(F){case 0:N=void 0;break;case 1:N=ti(l.parameterStructures,b[0]);break;default:N=[];for(let ae=0;ae<b.length&&ae<F;ae++)N.push(gr(b[ae]));if(b.length<F)for(let ae=b.length;ae<F;ae++)N.push(null);break}return N}let yr={sendNotification:(l,...b)=>{Ur();let N,F;if(at.string(l)){N=l;let ie=b[0],he=0,me=pe.ParameterStructures.auto;pe.ParameterStructures.is(ie)&&(he=1,me=ie);let V=b.length,le=V-he;switch(le){case 0:F=void 0;break;case 1:F=ti(me,b[he]);break;default:if(me===pe.ParameterStructures.byName)throw new Error(`Received ${le} parameters for 'by Name' notification parameter structure.`);F=b.slice(he,V).map(ee=>gr(ee));break}}else{let ie=b;N=l.method,F=xo(l,ie)}let ae={jsonrpc:c,method:N,params:F};return jr(ae),t.write(ae).catch(ie=>{throw i.error("Sending notification failed."),ie})},onNotification:(l,b)=>{Ur();let N;return at.func(l)?g=l:b&&(at.string(l)?(N=l,T.set(l,{type:void 0,handler:b})):(N=l.method,T.set(l.method,{type:l,handler:b}))),{dispose:()=>{N!==void 0?T.delete(N):g=void 0}}},onProgress:(l,b,N)=>{if(R.has(b))throw new Error(`Progress handler for token ${b} already registered`);return R.set(b,N),{dispose:()=>{R.delete(b)}}},sendProgress:(l,b,N)=>yr.sendNotification(fc.type,{token:b,value:N}),onUnhandledProgress:_t.event,sendRequest:(l,...b)=>{Ur(),Da();let N,F,ae;if(at.string(l)){N=l;let V=b[0],le=b[b.length-1],ee=0,Re=pe.ParameterStructures.auto;pe.ParameterStructures.is(V)&&(ee=1,Re=V);let Ee=b.length;Xg.CancellationToken.is(le)&&(Ee=Ee-1,ae=le);let ot=Ee-ee;switch(ot){case 0:F=void 0;break;case 1:F=ti(Re,b[ee]);break;default:if(Re===pe.ParameterStructures.byName)throw new Error(`Received ${ot} parameters for 'by Name' request parameter structure.`);F=b.slice(ee,Ee).map(E=>gr(E));break}}else{let V=b;N=l.method,F=xo(l,V);let le=l.numberOfParams;ae=Xg.CancellationToken.is(V[le])?V[le]:void 0}let ie=o++,he;ae&&(he=ae.onCancellationRequested(()=>{let V=L.sender.sendCancellation(yr,ie);return V===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ie}`),Promise.resolve()):V.catch(()=>{i.log(`Sending cancellation messages for id ${ie} failed`)})}));let me={jsonrpc:c,id:ie,method:N,params:F};return pr(me),typeof L.sender.enableCancellation=="function"&&L.sender.enableCancellation(me),new Promise(async(V,le)=>{let ee=ot=>{V(ot),L.sender.cleanup(ie),he?.dispose()},Re=ot=>{le(ot),L.sender.cleanup(ie),he?.dispose()},Ee={method:N,timerStart:Date.now(),resolve:ee,reject:Re};try{await t.write(me),O.set(ie,Ee)}catch(ot){throw i.error("Sending request failed."),Ee.reject(new pe.ResponseError(pe.ErrorCodes.MessageWriteError,ot.message?ot.message:"Unknown reason")),ot}})},onRequest:(l,b)=>{Ur();let N=null;return Qg.is(l)?(N=void 0,u=l):at.string(l)?(N=null,b!==void 0&&(N=l,h.set(l,{handler:b,type:void 0}))):b!==void 0&&(N=l.method,h.set(l.method,{type:l,handler:b})),{dispose:()=>{N!==null&&(N!==void 0?h.delete(N):u=void 0)}}},hasPendingResponse:()=>O.size>0,trace:async(l,b,N)=>{let F=!1,ae=yn.Text;N!==void 0&&(at.boolean(N)?F=N:(F=N.sendNotification||!1,ae=N.traceFormat||yn.Text)),d=l,_=ae,d===$e.Off?q=void 0:q=b,F&&!Ve()&&!xe()&&await yr.sendNotification(cS.type,{value:$e.toString(l)})},onError:Se.event,onClose:Le.event,onUnhandledNotification:Ut.event,onDispose:G.event,end:()=>{t.end()},dispose:()=>{if(xe())return;X=vn.Disposed,G.fire(void 0);let l=new pe.ResponseError(pe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let b of O.values())b.reject(l);O=new Map,p=new Map,w=new Set,A=new sS.LinkedMap,at.func(t.dispose)&&t.dispose(),at.func(e.dispose)&&e.dispose()},listen:()=>{Ur(),Pa(),X=vn.Listening,e.listen(mt)},inspect:()=>{(0,oS.default)().console.log("inspect")}};return yr.onNotification(Zg.type,l=>{if(d===$e.Off||!q)return;let b=d===$e.Verbose||d===$e.Compact;q.log(l.message,b?l.verbose:void 0)}),yr.onNotification(fc.type,l=>{let b=R.get(l.token);b?b(l.value):_t.fire(l)}),yr}re.createMessageConnection=lO});var Gl=P($=>{"use strict";Object.defineProperty($,"__esModule",{value:!0});$.ProgressType=$.ProgressToken=$.createMessageConnection=$.NullLogger=$.ConnectionOptions=$.ConnectionStrategy=$.AbstractMessageBuffer=$.WriteableStreamMessageWriter=$.AbstractMessageWriter=$.MessageWriter=$.ReadableStreamMessageReader=$.AbstractMessageReader=$.MessageReader=$.SharedArrayReceiverStrategy=$.SharedArraySenderStrategy=$.CancellationToken=$.CancellationTokenSource=$.Emitter=$.Event=$.Disposable=$.LRUCache=$.Touch=$.LinkedMap=$.ParameterStructures=$.NotificationType9=$.NotificationType8=$.NotificationType7=$.NotificationType6=$.NotificationType5=$.NotificationType4=$.NotificationType3=$.NotificationType2=$.NotificationType1=$.NotificationType0=$.NotificationType=$.ErrorCodes=$.ResponseError=$.RequestType9=$.RequestType8=$.RequestType7=$.RequestType6=$.RequestType5=$.RequestType4=$.RequestType3=$.RequestType2=$.RequestType1=$.RequestType0=$.RequestType=$.Message=$.RAL=void 0;$.MessageStrategy=$.CancellationStrategy=$.CancellationSenderStrategy=$.CancellationReceiverStrategy=$.ConnectionError=$.ConnectionErrors=$.LogTraceNotification=$.SetTraceNotification=$.TraceFormat=$.TraceValues=$.Trace=void 0;var Ge=Cg();Object.defineProperty($,"Message",{enumerable:!0,get:function(){return Ge.Message}});Object.defineProperty($,"RequestType",{enumerable:!0,get:function(){return Ge.RequestType}});Object.defineProperty($,"RequestType0",{enumerable:!0,get:function(){return Ge.RequestType0}});Object.defineProperty($,"RequestType1",{enumerable:!0,get:function(){return Ge.RequestType1}});Object.defineProperty($,"RequestType2",{enumerable:!0,get:function(){return Ge.RequestType2}});Object.defineProperty($,"RequestType3",{enumerable:!0,get:function(){return Ge.RequestType3}});Object.defineProperty($,"RequestType4",{enumerable:!0,get:function(){return Ge.RequestType4}});Object.defineProperty($,"RequestType5",{enumerable:!0,get:function(){return Ge.RequestType5}});Object.defineProperty($,"RequestType6",{enumerable:!0,get:function(){return Ge.RequestType6}});Object.defineProperty($,"RequestType7",{enumerable:!0,get:function(){return Ge.RequestType7}});Object.defineProperty($,"RequestType8",{enumerable:!0,get:function(){return Ge.RequestType8}});Object.defineProperty($,"RequestType9",{enumerable:!0,get:function(){return Ge.RequestType9}});Object.defineProperty($,"ResponseError",{enumerable:!0,get:function(){return Ge.ResponseError}});Object.defineProperty($,"ErrorCodes",{enumerable:!0,get:function(){return Ge.ErrorCodes}});Object.defineProperty($,"NotificationType",{enumerable:!0,get:function(){return Ge.NotificationType}});Object.defineProperty($,"NotificationType0",{enumerable:!0,get:function(){return Ge.NotificationType0}});Object.defineProperty($,"NotificationType1",{enumerable:!0,get:function(){return Ge.NotificationType1}});Object.defineProperty($,"NotificationType2",{enumerable:!0,get:function(){return Ge.NotificationType2}});Object.defineProperty($,"NotificationType3",{enumerable:!0,get:function(){return Ge.NotificationType3}});Object.defineProperty($,"NotificationType4",{enumerable:!0,get:function(){return Ge.NotificationType4}});Object.defineProperty($,"NotificationType5",{enumerable:!0,get:function(){return Ge.NotificationType5}});Object.defineProperty($,"NotificationType6",{enumerable:!0,get:function(){return Ge.NotificationType6}});Object.defineProperty($,"NotificationType7",{enumerable:!0,get:function(){return Ge.NotificationType7}});Object.defineProperty($,"NotificationType8",{enumerable:!0,get:function(){return Ge.NotificationType8}});Object.defineProperty($,"NotificationType9",{enumerable:!0,get:function(){return Ge.NotificationType9}});Object.defineProperty($,"ParameterStructures",{enumerable:!0,get:function(){return Ge.ParameterStructures}});var oy=Eg();Object.defineProperty($,"LinkedMap",{enumerable:!0,get:function(){return oy.LinkedMap}});Object.defineProperty($,"LRUCache",{enumerable:!0,get:function(){return oy.LRUCache}});Object.defineProperty($,"Touch",{enumerable:!0,get:function(){return oy.Touch}});var fO=J_();Object.defineProperty($,"Disposable",{enumerable:!0,get:function(){return fO.Disposable}});var dS=Ns();Object.defineProperty($,"Event",{enumerable:!0,get:function(){return dS.Event}});Object.defineProperty($,"Emitter",{enumerable:!0,get:function(){return dS.Emitter}});var pS=Fl();Object.defineProperty($,"CancellationTokenSource",{enumerable:!0,get:function(){return pS.CancellationTokenSource}});Object.defineProperty($,"CancellationToken",{enumerable:!0,get:function(){return pS.CancellationToken}});var hS=Q_();Object.defineProperty($,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return hS.SharedArraySenderStrategy}});Object.defineProperty($,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return hS.SharedArrayReceiverStrategy}});var sy=Z_();Object.defineProperty($,"MessageReader",{enumerable:!0,get:function(){return sy.MessageReader}});Object.defineProperty($,"AbstractMessageReader",{enumerable:!0,get:function(){return sy.AbstractMessageReader}});Object.defineProperty($,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return sy.ReadableStreamMessageReader}});var ay=nS();Object.defineProperty($,"MessageWriter",{enumerable:!0,get:function(){return ay.MessageWriter}});Object.defineProperty($,"AbstractMessageWriter",{enumerable:!0,get:function(){return ay.AbstractMessageWriter}});Object.defineProperty($,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return ay.WriteableStreamMessageWriter}});var dO=iS();Object.defineProperty($,"AbstractMessageBuffer",{enumerable:!0,get:function(){return dO.AbstractMessageBuffer}});var Yt=fS();Object.defineProperty($,"ConnectionStrategy",{enumerable:!0,get:function(){return Yt.ConnectionStrategy}});Object.defineProperty($,"ConnectionOptions",{enumerable:!0,get:function(){return Yt.ConnectionOptions}});Object.defineProperty($,"NullLogger",{enumerable:!0,get:function(){return Yt.NullLogger}});Object.defineProperty($,"createMessageConnection",{enumerable:!0,get:function(){return Yt.createMessageConnection}});Object.defineProperty($,"ProgressToken",{enumerable:!0,get:function(){return Yt.ProgressToken}});Object.defineProperty($,"ProgressType",{enumerable:!0,get:function(){return Yt.ProgressType}});Object.defineProperty($,"Trace",{enumerable:!0,get:function(){return Yt.Trace}});Object.defineProperty($,"TraceValues",{enumerable:!0,get:function(){return Yt.TraceValues}});Object.defineProperty($,"TraceFormat",{enumerable:!0,get:function(){return Yt.TraceFormat}});Object.defineProperty($,"SetTraceNotification",{enumerable:!0,get:function(){return Yt.SetTraceNotification}});Object.defineProperty($,"LogTraceNotification",{enumerable:!0,get:function(){return Yt.LogTraceNotification}});Object.defineProperty($,"ConnectionErrors",{enumerable:!0,get:function(){return Yt.ConnectionErrors}});Object.defineProperty($,"ConnectionError",{enumerable:!0,get:function(){return Yt.ConnectionError}});Object.defineProperty($,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Yt.CancellationReceiverStrategy}});Object.defineProperty($,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Yt.CancellationSenderStrategy}});Object.defineProperty($,"CancellationStrategy",{enumerable:!0,get:function(){return Yt.CancellationStrategy}});Object.defineProperty($,"MessageStrategy",{enumerable:!0,get:function(){return Yt.MessageStrategy}});var pO=ji();$.RAL=pO.default});var gS=P(fy=>{"use strict";Object.defineProperty(fy,"__esModule",{value:!0});var Ln=Gl(),Bl=class e extends Ln.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};Bl.emptyBuffer=new Uint8Array(0);var cy=class{constructor(t){this.socket=t,this._onData=new Ln.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Ln.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Ln.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Ln.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Ln.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},uy=class{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Ln.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Ln.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Ln.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},hO=new TextEncoder,mS=Object.freeze({messageBuffer:Object.freeze({create:e=>new Bl(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(hO.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new cy(e),asWritableStream:e=>new uy(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function ly(){return mS}(function(e){function t(){Ln.RAL.install(mS)}e.install=t})(ly||(ly={}));fy.default=ly});var li=P(Br=>{"use strict";var mO=Br&&Br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),gO=Br&&Br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mO(t,e,r)};Object.defineProperty(Br,"__esModule",{value:!0});Br.createMessageConnection=Br.BrowserMessageWriter=Br.BrowserMessageReader=void 0;var yO=gS();yO.default.install();var Os=Gl();gO(Gl(),Br);var dy=class extends Os.AbstractMessageReader{constructor(t){super(),this._onData=new Os.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};Br.BrowserMessageReader=dy;var py=class extends Os.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};Br.BrowserMessageWriter=py;function vO(e,t,r,n){return r===void 0&&(r=Os.NullLogger),Os.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Os.createMessageConnection)(e,t,r,n)}Br.createMessageConnection=vO});var av=P((nRe,BA)=>{"use strict";BA.exports=li()});var pd=P((KA,dd)=>{(function(e){if(typeof dd=="object"&&typeof dd.exports=="object"){var t=e(rp,KA);t!==void 0&&(dd.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(m){function S(k){return typeof k=="string"}m.is=S})(r=t.DocumentUri||(t.DocumentUri={}));var n;(function(m){function S(k){return typeof k=="string"}m.is=S})(n=t.URI||(t.URI={}));var i;(function(m){m.MIN_VALUE=-2147483648,m.MAX_VALUE=2147483647;function S(k){return typeof k=="number"&&m.MIN_VALUE<=k&&k<=m.MAX_VALUE}m.is=S})(i=t.integer||(t.integer={}));var o;(function(m){m.MIN_VALUE=0,m.MAX_VALUE=2147483647;function S(k){return typeof k=="number"&&m.MIN_VALUE<=k&&k<=m.MAX_VALUE}m.is=S})(o=t.uinteger||(t.uinteger={}));var s;(function(m){function S(v,f){return v===Number.MAX_VALUE&&(v=o.MAX_VALUE),f===Number.MAX_VALUE&&(f=o.MAX_VALUE),{line:v,character:f}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&E.uinteger(f.line)&&E.uinteger(f.character)}m.is=k})(s=t.Position||(t.Position={}));var a;(function(m){function S(v,f,I,j){if(E.uinteger(v)&&E.uinteger(f)&&E.uinteger(I)&&E.uinteger(j))return{start:s.create(v,f),end:s.create(I,j)};if(s.is(v)&&s.is(f))return{start:v,end:f};throw new Error("Range#create called with invalid arguments[".concat(v,", ").concat(f,", ").concat(I,", ").concat(j,"]"))}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&s.is(f.start)&&s.is(f.end)}m.is=k})(a=t.Range||(t.Range={}));var c;(function(m){function S(v,f){return{uri:v,range:f}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&a.is(f.range)&&(E.string(f.uri)||E.undefined(f.uri))}m.is=k})(c=t.Location||(t.Location={}));var u;(function(m){function S(v,f,I,j){return{targetUri:v,targetRange:f,targetSelectionRange:I,originSelectionRange:j}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&a.is(f.targetRange)&&E.string(f.targetUri)&&a.is(f.targetSelectionRange)&&(a.is(f.originSelectionRange)||E.undefined(f.originSelectionRange))}m.is=k})(u=t.LocationLink||(t.LocationLink={}));var h;(function(m){function S(v,f,I,j){return{red:v,green:f,blue:I,alpha:j}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&E.numberRange(f.red,0,1)&&E.numberRange(f.green,0,1)&&E.numberRange(f.blue,0,1)&&E.numberRange(f.alpha,0,1)}m.is=k})(h=t.Color||(t.Color={}));var g;(function(m){function S(v,f){return{range:v,color:f}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&a.is(f.range)&&h.is(f.color)}m.is=k})(g=t.ColorInformation||(t.ColorInformation={}));var T;(function(m){function S(v,f,I){return{label:v,textEdit:f,additionalTextEdits:I}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&E.string(f.label)&&(E.undefined(f.textEdit)||q.is(f))&&(E.undefined(f.additionalTextEdits)||E.typedArray(f.additionalTextEdits,q.is))}m.is=k})(T=t.ColorPresentation||(t.ColorPresentation={}));var R;(function(m){m.Comment="comment",m.Imports="imports",m.Region="region"})(R=t.FoldingRangeKind||(t.FoldingRangeKind={}));var C;(function(m){function S(v,f,I,j,ve,gt){var He={startLine:v,endLine:f};return E.defined(I)&&(He.startCharacter=I),E.defined(j)&&(He.endCharacter=j),E.defined(ve)&&(He.kind=ve),E.defined(gt)&&(He.collapsedText=gt),He}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&E.uinteger(f.startLine)&&E.uinteger(f.startLine)&&(E.undefined(f.startCharacter)||E.uinteger(f.startCharacter))&&(E.undefined(f.endCharacter)||E.uinteger(f.endCharacter))&&(E.undefined(f.kind)||E.string(f.kind))}m.is=k})(C=t.FoldingRange||(t.FoldingRange={}));var A;(function(m){function S(v,f){return{location:v,message:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&c.is(f.location)&&E.string(f.message)}m.is=k})(A=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var O;(function(m){m.Error=1,m.Warning=2,m.Information=3,m.Hint=4})(O=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var w;(function(m){m.Unnecessary=1,m.Deprecated=2})(w=t.DiagnosticTag||(t.DiagnosticTag={}));var p;(function(m){function S(k){var v=k;return E.objectLiteral(v)&&E.string(v.href)}m.is=S})(p=t.CodeDescription||(t.CodeDescription={}));var d;(function(m){function S(v,f,I,j,ve,gt){var He={range:v,message:f};return E.defined(I)&&(He.severity=I),E.defined(j)&&(He.code=j),E.defined(ve)&&(He.source=ve),E.defined(gt)&&(He.relatedInformation=gt),He}m.create=S;function k(v){var f,I=v;return E.defined(I)&&a.is(I.range)&&E.string(I.message)&&(E.number(I.severity)||E.undefined(I.severity))&&(E.integer(I.code)||E.string(I.code)||E.undefined(I.code))&&(E.undefined(I.codeDescription)||E.string((f=I.codeDescription)===null||f===void 0?void 0:f.href))&&(E.string(I.source)||E.undefined(I.source))&&(E.undefined(I.relatedInformation)||E.typedArray(I.relatedInformation,A.is))}m.is=k})(d=t.Diagnostic||(t.Diagnostic={}));var _;(function(m){function S(v,f){for(var I=[],j=2;j<arguments.length;j++)I[j-2]=arguments[j];var ve={title:v,command:f};return E.defined(I)&&I.length>0&&(ve.arguments=I),ve}m.create=S;function k(v){var f=v;return E.defined(f)&&E.string(f.title)&&E.string(f.command)}m.is=k})(_=t.Command||(t.Command={}));var q;(function(m){function S(I,j){return{range:I,newText:j}}m.replace=S;function k(I,j){return{range:{start:I,end:I},newText:j}}m.insert=k;function v(I){return{range:I,newText:""}}m.del=v;function f(I){var j=I;return E.objectLiteral(j)&&E.string(j.newText)&&a.is(j.range)}m.is=f})(q=t.TextEdit||(t.TextEdit={}));var X;(function(m){function S(v,f,I){var j={label:v};return f!==void 0&&(j.needsConfirmation=f),I!==void 0&&(j.description=I),j}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&E.string(f.label)&&(E.boolean(f.needsConfirmation)||f.needsConfirmation===void 0)&&(E.string(f.description)||f.description===void 0)}m.is=k})(X=t.ChangeAnnotation||(t.ChangeAnnotation={}));var Se;(function(m){function S(k){var v=k;return E.string(v)}m.is=S})(Se=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var Le;(function(m){function S(I,j,ve){return{range:I,newText:j,annotationId:ve}}m.replace=S;function k(I,j,ve){return{range:{start:I,end:I},newText:j,annotationId:ve}}m.insert=k;function v(I,j){return{range:I,newText:"",annotationId:j}}m.del=v;function f(I){var j=I;return q.is(j)&&(X.is(j.annotationId)||Se.is(j.annotationId))}m.is=f})(Le=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var Ut;(function(m){function S(v,f){return{textDocument:v,edits:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&Ve.is(f.textDocument)&&Array.isArray(f.edits)}m.is=k})(Ut=t.TextDocumentEdit||(t.TextDocumentEdit={}));var _t;(function(m){function S(v,f,I){var j={kind:"create",uri:v};return f!==void 0&&(f.overwrite!==void 0||f.ignoreIfExists!==void 0)&&(j.options=f),I!==void 0&&(j.annotationId=I),j}m.create=S;function k(v){var f=v;return f&&f.kind==="create"&&E.string(f.uri)&&(f.options===void 0||(f.options.overwrite===void 0||E.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||E.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||Se.is(f.annotationId))}m.is=k})(_t=t.CreateFile||(t.CreateFile={}));var G;(function(m){function S(v,f,I,j){var ve={kind:"rename",oldUri:v,newUri:f};return I!==void 0&&(I.overwrite!==void 0||I.ignoreIfExists!==void 0)&&(ve.options=I),j!==void 0&&(ve.annotationId=j),ve}m.create=S;function k(v){var f=v;return f&&f.kind==="rename"&&E.string(f.oldUri)&&E.string(f.newUri)&&(f.options===void 0||(f.options.overwrite===void 0||E.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||E.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||Se.is(f.annotationId))}m.is=k})(G=t.RenameFile||(t.RenameFile={}));var L;(function(m){function S(v,f,I){var j={kind:"delete",uri:v};return f!==void 0&&(f.recursive!==void 0||f.ignoreIfNotExists!==void 0)&&(j.options=f),I!==void 0&&(j.annotationId=I),j}m.create=S;function k(v){var f=v;return f&&f.kind==="delete"&&E.string(f.uri)&&(f.options===void 0||(f.options.recursive===void 0||E.boolean(f.options.recursive))&&(f.options.ignoreIfNotExists===void 0||E.boolean(f.options.ignoreIfNotExists)))&&(f.annotationId===void 0||Se.is(f.annotationId))}m.is=k})(L=t.DeleteFile||(t.DeleteFile={}));var Q;(function(m){function S(k){var v=k;return v&&(v.changes!==void 0||v.documentChanges!==void 0)&&(v.documentChanges===void 0||v.documentChanges.every(function(f){return E.string(f.kind)?_t.is(f)||G.is(f)||L.is(f):Ut.is(f)}))}m.is=S})(Q=t.WorkspaceEdit||(t.WorkspaceEdit={}));var z=function(){function m(S,k){this.edits=S,this.changeAnnotations=k}return m.prototype.insert=function(S,k,v){var f,I;if(v===void 0?f=q.insert(S,k):Se.is(v)?(I=v,f=Le.insert(S,k,v)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(v),f=Le.insert(S,k,I)),this.edits.push(f),I!==void 0)return I},m.prototype.replace=function(S,k,v){var f,I;if(v===void 0?f=q.replace(S,k):Se.is(v)?(I=v,f=Le.replace(S,k,v)):(this.assertChangeAnnotations(this.changeAnnotations),I=this.changeAnnotations.manage(v),f=Le.replace(S,k,I)),this.edits.push(f),I!==void 0)return I},m.prototype.delete=function(S,k){var v,f;if(k===void 0?v=q.del(S):Se.is(k)?(f=k,v=Le.del(S,k)):(this.assertChangeAnnotations(this.changeAnnotations),f=this.changeAnnotations.manage(k),v=Le.del(S,f)),this.edits.push(v),f!==void 0)return f},m.prototype.add=function(S){this.edits.push(S)},m.prototype.all=function(){return this.edits},m.prototype.clear=function(){this.edits.splice(0,this.edits.length)},m.prototype.assertChangeAnnotations=function(S){if(S===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},m}(),be=function(){function m(S){this._annotations=S===void 0?Object.create(null):S,this._counter=0,this._size=0}return m.prototype.all=function(){return this._annotations},Object.defineProperty(m.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),m.prototype.manage=function(S,k){var v;if(Se.is(S)?v=S:(v=this.nextId(),k=S),this._annotations[v]!==void 0)throw new Error("Id ".concat(v," is already in use."));if(k===void 0)throw new Error("No annotation provided for id ".concat(v));return this._annotations[v]=k,this._size++,v},m.prototype.nextId=function(){return this._counter++,this._counter.toString()},m}(),ue=function(){function m(S){var k=this;this._textEditChanges=Object.create(null),S!==void 0?(this._workspaceEdit=S,S.documentChanges?(this._changeAnnotations=new be(S.changeAnnotations),S.changeAnnotations=this._changeAnnotations.all(),S.documentChanges.forEach(function(v){if(Ut.is(v)){var f=new z(v.edits,k._changeAnnotations);k._textEditChanges[v.textDocument.uri]=f}})):S.changes&&Object.keys(S.changes).forEach(function(v){var f=new z(S.changes[v]);k._textEditChanges[v]=f})):this._workspaceEdit={}}return Object.defineProperty(m.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),m.prototype.getTextEditChange=function(S){if(Ve.is(S)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var k={uri:S.uri,version:S.version},v=this._textEditChanges[k.uri];if(!v){var f=[],I={textDocument:k,edits:f};this._workspaceEdit.documentChanges.push(I),v=new z(f,this._changeAnnotations),this._textEditChanges[k.uri]=v}return v}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var v=this._textEditChanges[S];if(!v){var f=[];this._workspaceEdit.changes[S]=f,v=new z(f),this._textEditChanges[S]=v}return v}},m.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new be,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},m.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},m.prototype.createFile=function(S,k,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;X.is(k)||Se.is(k)?f=k:v=k;var I,j;if(f===void 0?I=_t.create(S,v):(j=Se.is(f)?f:this._changeAnnotations.manage(f),I=_t.create(S,v,j)),this._workspaceEdit.documentChanges.push(I),j!==void 0)return j},m.prototype.renameFile=function(S,k,v,f){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var I;X.is(v)||Se.is(v)?I=v:f=v;var j,ve;if(I===void 0?j=G.create(S,k,f):(ve=Se.is(I)?I:this._changeAnnotations.manage(I),j=G.create(S,k,f,ve)),this._workspaceEdit.documentChanges.push(j),ve!==void 0)return ve},m.prototype.deleteFile=function(S,k,v){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;X.is(k)||Se.is(k)?f=k:v=k;var I,j;if(f===void 0?I=L.create(S,v):(j=Se.is(f)?f:this._changeAnnotations.manage(f),I=L.create(S,v,j)),this._workspaceEdit.documentChanges.push(I),j!==void 0)return j},m}();t.WorkspaceChange=ue;var ce;(function(m){function S(v){return{uri:v}}m.create=S;function k(v){var f=v;return E.defined(f)&&E.string(f.uri)}m.is=k})(ce=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var it;(function(m){function S(v,f){return{uri:v,version:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&E.string(f.uri)&&E.integer(f.version)}m.is=k})(it=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var Ve;(function(m){function S(v,f){return{uri:v,version:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&E.string(f.uri)&&(f.version===null||E.integer(f.version))}m.is=k})(Ve=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var xe;(function(m){function S(v,f,I,j){return{uri:v,languageId:f,version:I,text:j}}m.create=S;function k(v){var f=v;return E.defined(f)&&E.string(f.uri)&&E.string(f.languageId)&&E.integer(f.version)&&E.string(f.text)}m.is=k})(xe=t.TextDocumentItem||(t.TextDocumentItem={}));var er;(function(m){m.PlainText="plaintext",m.Markdown="markdown";function S(k){var v=k;return v===m.PlainText||v===m.Markdown}m.is=S})(er=t.MarkupKind||(t.MarkupKind={}));var ln;(function(m){function S(k){var v=k;return E.objectLiteral(k)&&er.is(v.kind)&&E.string(v.value)}m.is=S})(ln=t.MarkupContent||(t.MarkupContent={}));var yo;(function(m){m.Text=1,m.Method=2,m.Function=3,m.Constructor=4,m.Field=5,m.Variable=6,m.Class=7,m.Interface=8,m.Module=9,m.Property=10,m.Unit=11,m.Value=12,m.Enum=13,m.Keyword=14,m.Snippet=15,m.Color=16,m.File=17,m.Reference=18,m.Folder=19,m.EnumMember=20,m.Constant=21,m.Struct=22,m.Event=23,m.Operator=24,m.TypeParameter=25})(yo=t.CompletionItemKind||(t.CompletionItemKind={}));var Cn;(function(m){m.PlainText=1,m.Snippet=2})(Cn=t.InsertTextFormat||(t.InsertTextFormat={}));var Lt;(function(m){m.Deprecated=1})(Lt=t.CompletionItemTag||(t.CompletionItemTag={}));var wi;(function(m){function S(v,f,I){return{newText:v,insert:f,replace:I}}m.create=S;function k(v){var f=v;return f&&E.string(f.newText)&&a.is(f.insert)&&a.is(f.replace)}m.is=k})(wi=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var mt;(function(m){m.asIs=1,m.adjustIndentation=2})(mt=t.InsertTextMode||(t.InsertTextMode={}));var Ht;(function(m){function S(k){var v=k;return v&&(E.string(v.detail)||v.detail===void 0)&&(E.string(v.description)||v.description===void 0)}m.is=S})(Ht=t.CompletionItemLabelDetails||(t.CompletionItemLabelDetails={}));var zr;(function(m){function S(k){return{label:k}}m.create=S})(zr=t.CompletionItem||(t.CompletionItem={}));var Mt;(function(m){function S(k,v){return{items:k||[],isIncomplete:!!v}}m.create=S})(Mt=t.CompletionList||(t.CompletionList={}));var Kt;(function(m){function S(v){return v.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}m.fromPlainText=S;function k(v){var f=v;return E.string(f)||E.objectLiteral(f)&&E.string(f.language)&&E.string(f.value)}m.is=k})(Kt=t.MarkedString||(t.MarkedString={}));var Fe;(function(m){function S(k){var v=k;return!!v&&E.objectLiteral(v)&&(ln.is(v.contents)||Kt.is(v.contents)||E.typedArray(v.contents,Kt.is))&&(k.range===void 0||a.is(k.range))}m.is=S})(Fe=t.Hover||(t.Hover={}));var pr;(function(m){function S(k,v){return v?{label:k,documentation:v}:{label:k}}m.create=S})(pr=t.ParameterInformation||(t.ParameterInformation={}));var jr;(function(m){function S(k,v){for(var f=[],I=2;I<arguments.length;I++)f[I-2]=arguments[I];var j={label:k};return E.defined(v)&&(j.documentation=v),E.defined(f)?j.parameters=f:j.parameters=[],j}m.create=S})(jr=t.SignatureInformation||(t.SignatureInformation={}));var hr;(function(m){m.Text=1,m.Read=2,m.Write=3})(hr=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var Ci;(function(m){function S(k,v){var f={range:k};return E.number(v)&&(f.kind=v),f}m.create=S})(Ci=t.DocumentHighlight||(t.DocumentHighlight={}));var ei;(function(m){m.File=1,m.Module=2,m.Namespace=3,m.Package=4,m.Class=5,m.Method=6,m.Property=7,m.Field=8,m.Constructor=9,m.Enum=10,m.Interface=11,m.Function=12,m.Variable=13,m.Constant=14,m.String=15,m.Number=16,m.Boolean=17,m.Array=18,m.Object=19,m.Key=20,m.Null=21,m.EnumMember=22,m.Struct=23,m.Event=24,m.Operator=25,m.TypeParameter=26})(ei=t.SymbolKind||(t.SymbolKind={}));var Na;(function(m){m.Deprecated=1})(Na=t.SymbolTag||(t.SymbolTag={}));var mr;(function(m){function S(k,v,f,I,j){var ve={name:k,kind:v,location:{uri:I,range:f}};return j&&(ve.containerName=j),ve}m.create=S})(mr=t.SymbolInformation||(t.SymbolInformation={}));var Ur;(function(m){function S(k,v,f,I){return I!==void 0?{name:k,kind:v,location:{uri:f,range:I}}:{name:k,kind:v,location:{uri:f}}}m.create=S})(Ur=t.WorkspaceSymbol||(t.WorkspaceSymbol={}));var Pa;(function(m){function S(v,f,I,j,ve,gt){var He={name:v,detail:f,kind:I,range:j,selectionRange:ve};return gt!==void 0&&(He.children=gt),He}m.create=S;function k(v){var f=v;return f&&E.string(f.name)&&E.number(f.kind)&&a.is(f.range)&&a.is(f.selectionRange)&&(f.detail===void 0||E.string(f.detail))&&(f.deprecated===void 0||E.boolean(f.deprecated))&&(f.children===void 0||Array.isArray(f.children))&&(f.tags===void 0||Array.isArray(f.tags))}m.is=k})(Pa=t.DocumentSymbol||(t.DocumentSymbol={}));var Da;(function(m){m.Empty="",m.QuickFix="quickfix",m.Refactor="refactor",m.RefactorExtract="refactor.extract",m.RefactorInline="refactor.inline",m.RefactorRewrite="refactor.rewrite",m.Source="source",m.SourceOrganizeImports="source.organizeImports",m.SourceFixAll="source.fixAll"})(Da=t.CodeActionKind||(t.CodeActionKind={}));var gr;(function(m){m.Invoked=1,m.Automatic=2})(gr=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}));var vo;(function(m){function S(v,f,I){var j={diagnostics:v};return f!=null&&(j.only=f),I!=null&&(j.triggerKind=I),j}m.create=S;function k(v){var f=v;return E.defined(f)&&E.typedArray(f.diagnostics,d.is)&&(f.only===void 0||E.typedArray(f.only,E.string))&&(f.triggerKind===void 0||f.triggerKind===gr.Invoked||f.triggerKind===gr.Automatic)}m.is=k})(vo=t.CodeActionContext||(t.CodeActionContext={}));var To;(function(m){function S(v,f,I){var j={title:v},ve=!0;return typeof f=="string"?(ve=!1,j.kind=f):_.is(f)?j.command=f:j.edit=f,ve&&I!==void 0&&(j.kind=I),j}m.create=S;function k(v){var f=v;return f&&E.string(f.title)&&(f.diagnostics===void 0||E.typedArray(f.diagnostics,d.is))&&(f.kind===void 0||E.string(f.kind))&&(f.edit!==void 0||f.command!==void 0)&&(f.command===void 0||_.is(f.command))&&(f.isPreferred===void 0||E.boolean(f.isPreferred))&&(f.edit===void 0||Q.is(f.edit))}m.is=k})(To=t.CodeAction||(t.CodeAction={}));var ti;(function(m){function S(v,f){var I={range:v};return E.defined(f)&&(I.data=f),I}m.create=S;function k(v){var f=v;return E.defined(f)&&a.is(f.range)&&(E.undefined(f.command)||_.is(f.command))}m.is=k})(ti=t.CodeLens||(t.CodeLens={}));var xo;(function(m){function S(v,f){return{tabSize:v,insertSpaces:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&E.uinteger(f.tabSize)&&E.boolean(f.insertSpaces)}m.is=k})(xo=t.FormattingOptions||(t.FormattingOptions={}));var yr;(function(m){function S(v,f,I){return{range:v,target:f,data:I}}m.create=S;function k(v){var f=v;return E.defined(f)&&a.is(f.range)&&(E.undefined(f.target)||E.string(f.target))}m.is=k})(yr=t.DocumentLink||(t.DocumentLink={}));var l;(function(m){function S(v,f){return{range:v,parent:f}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&a.is(f.range)&&(f.parent===void 0||m.is(f.parent))}m.is=k})(l=t.SelectionRange||(t.SelectionRange={}));var b;(function(m){m.namespace="namespace",m.type="type",m.class="class",m.enum="enum",m.interface="interface",m.struct="struct",m.typeParameter="typeParameter",m.parameter="parameter",m.variable="variable",m.property="property",m.enumMember="enumMember",m.event="event",m.function="function",m.method="method",m.macro="macro",m.keyword="keyword",m.modifier="modifier",m.comment="comment",m.string="string",m.number="number",m.regexp="regexp",m.operator="operator",m.decorator="decorator"})(b=t.SemanticTokenTypes||(t.SemanticTokenTypes={}));var N;(function(m){m.declaration="declaration",m.definition="definition",m.readonly="readonly",m.static="static",m.deprecated="deprecated",m.abstract="abstract",m.async="async",m.modification="modification",m.documentation="documentation",m.defaultLibrary="defaultLibrary"})(N=t.SemanticTokenModifiers||(t.SemanticTokenModifiers={}));var F;(function(m){function S(k){var v=k;return E.objectLiteral(v)&&(v.resultId===void 0||typeof v.resultId=="string")&&Array.isArray(v.data)&&(v.data.length===0||typeof v.data[0]=="number")}m.is=S})(F=t.SemanticTokens||(t.SemanticTokens={}));var ae;(function(m){function S(v,f){return{range:v,text:f}}m.create=S;function k(v){var f=v;return f!=null&&a.is(f.range)&&E.string(f.text)}m.is=k})(ae=t.InlineValueText||(t.InlineValueText={}));var ie;(function(m){function S(v,f,I){return{range:v,variableName:f,caseSensitiveLookup:I}}m.create=S;function k(v){var f=v;return f!=null&&a.is(f.range)&&E.boolean(f.caseSensitiveLookup)&&(E.string(f.variableName)||f.variableName===void 0)}m.is=k})(ie=t.InlineValueVariableLookup||(t.InlineValueVariableLookup={}));var he;(function(m){function S(v,f){return{range:v,expression:f}}m.create=S;function k(v){var f=v;return f!=null&&a.is(f.range)&&(E.string(f.expression)||f.expression===void 0)}m.is=k})(he=t.InlineValueEvaluatableExpression||(t.InlineValueEvaluatableExpression={}));var me;(function(m){function S(v,f){return{frameId:v,stoppedLocation:f}}m.create=S;function k(v){var f=v;return E.defined(f)&&a.is(v.stoppedLocation)}m.is=k})(me=t.InlineValueContext||(t.InlineValueContext={}));var V;(function(m){m.Type=1,m.Parameter=2;function S(k){return k===1||k===2}m.is=S})(V=t.InlayHintKind||(t.InlayHintKind={}));var le;(function(m){function S(v){return{value:v}}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&(f.tooltip===void 0||E.string(f.tooltip)||ln.is(f.tooltip))&&(f.location===void 0||c.is(f.location))&&(f.command===void 0||_.is(f.command))}m.is=k})(le=t.InlayHintLabelPart||(t.InlayHintLabelPart={}));var ee;(function(m){function S(v,f,I){var j={position:v,label:f};return I!==void 0&&(j.kind=I),j}m.create=S;function k(v){var f=v;return E.objectLiteral(f)&&s.is(f.position)&&(E.string(f.label)||E.typedArray(f.label,le.is))&&(f.kind===void 0||V.is(f.kind))&&f.textEdits===void 0||E.typedArray(f.textEdits,q.is)&&(f.tooltip===void 0||E.string(f.tooltip)||ln.is(f.tooltip))&&(f.paddingLeft===void 0||E.boolean(f.paddingLeft))&&(f.paddingRight===void 0||E.boolean(f.paddingRight))}m.is=k})(ee=t.InlayHint||(t.InlayHint={}));var Re;(function(m){function S(k){var v=k;return E.objectLiteral(v)&&n.is(v.uri)&&E.string(v.name)}m.is=S})(Re=t.WorkspaceFolder||(t.WorkspaceFolder={})),t.EOL=[`
`,`\r
`,"\r"];var Ee;(function(m){function S(I,j,ve,gt){return new ot(I,j,ve,gt)}m.create=S;function k(I){var j=I;return!!(E.defined(j)&&E.string(j.uri)&&(E.undefined(j.languageId)||E.string(j.languageId))&&E.uinteger(j.lineCount)&&E.func(j.getText)&&E.func(j.positionAt)&&E.func(j.offsetAt))}m.is=k;function v(I,j){for(var ve=I.getText(),gt=f(j,function(Qo,nu){var gT=Qo.range.start.line-nu.range.start.line;return gT===0?Qo.range.start.character-nu.range.start.character:gT}),He=ve.length,fn=gt.length-1;fn>=0;fn--){var dn=gt[fn],ri=I.offsetAt(dn.range.start),Ce=I.offsetAt(dn.range.end);if(Ce<=He)ve=ve.substring(0,ri)+dn.newText+ve.substring(Ce,ve.length);else throw new Error("Overlapping edit");He=ri}return ve}m.applyEdits=v;function f(I,j){if(I.length<=1)return I;var ve=I.length/2|0,gt=I.slice(0,ve),He=I.slice(ve);f(gt,j),f(He,j);for(var fn=0,dn=0,ri=0;fn<gt.length&&dn<He.length;){var Ce=j(gt[fn],He[dn]);Ce<=0?I[ri++]=gt[fn++]:I[ri++]=He[dn++]}for(;fn<gt.length;)I[ri++]=gt[fn++];for(;dn<He.length;)I[ri++]=He[dn++];return I}})(Ee=t.TextDocument||(t.TextDocument={}));var ot=function(){function m(S,k,v,f){this._uri=S,this._languageId=k,this._version=v,this._content=f,this._lineOffsets=void 0}return Object.defineProperty(m.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),m.prototype.getText=function(S){if(S){var k=this.offsetAt(S.start),v=this.offsetAt(S.end);return this._content.substring(k,v)}return this._content},m.prototype.update=function(S,k){this._content=S.text,this._version=k,this._lineOffsets=void 0},m.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var S=[],k=this._content,v=!0,f=0;f<k.length;f++){v&&(S.push(f),v=!1);var I=k.charAt(f);v=I==="\r"||I===`
`,I==="\r"&&f+1<k.length&&k.charAt(f+1)===`
`&&f++}v&&k.length>0&&S.push(k.length),this._lineOffsets=S}return this._lineOffsets},m.prototype.positionAt=function(S){S=Math.max(Math.min(S,this._content.length),0);var k=this.getLineOffsets(),v=0,f=k.length;if(f===0)return s.create(0,S);for(;v<f;){var I=Math.floor((v+f)/2);k[I]>S?f=I:v=I+1}var j=v-1;return s.create(j,S-k[j])},m.prototype.offsetAt=function(S){var k=this.getLineOffsets();if(S.line>=k.length)return this._content.length;if(S.line<0)return 0;var v=k[S.line],f=S.line+1<k.length?k[S.line+1]:this._content.length;return Math.max(Math.min(v+S.character,f),v)},Object.defineProperty(m.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),m}(),E;(function(m){var S=Object.prototype.toString;function k(Ce){return typeof Ce<"u"}m.defined=k;function v(Ce){return typeof Ce>"u"}m.undefined=v;function f(Ce){return Ce===!0||Ce===!1}m.boolean=f;function I(Ce){return S.call(Ce)==="[object String]"}m.string=I;function j(Ce){return S.call(Ce)==="[object Number]"}m.number=j;function ve(Ce,Qo,nu){return S.call(Ce)==="[object Number]"&&Qo<=Ce&&Ce<=nu}m.numberRange=ve;function gt(Ce){return S.call(Ce)==="[object Number]"&&-2147483648<=Ce&&Ce<=2147483647}m.integer=gt;function He(Ce){return S.call(Ce)==="[object Number]"&&0<=Ce&&Ce<=2147483647}m.uinteger=He;function fn(Ce){return S.call(Ce)==="[object Function]"}m.func=fn;function dn(Ce){return Ce!==null&&typeof Ce=="object"}m.objectLiteral=dn;function ri(Ce,Qo){return Array.isArray(Ce)&&Ce.every(Qo)}m.typedArray=ri})(E||(E={}))})});var pt=P(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.ProtocolNotificationType=kr.ProtocolNotificationType0=kr.ProtocolRequestType=kr.ProtocolRequestType0=kr.RegistrationType=kr.MessageDirection=void 0;var ga=li(),AW;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(AW=kr.MessageDirection||(kr.MessageDirection={}));var cv=class{constructor(t){this.method=t}};kr.RegistrationType=cv;var uv=class extends ga.RequestType0{constructor(t){super(t)}};kr.ProtocolRequestType0=uv;var lv=class extends ga.RequestType{constructor(t){super(t,ga.ParameterStructures.byName)}};kr.ProtocolRequestType=lv;var fv=class extends ga.NotificationType0{constructor(t){super(t)}};kr.ProtocolNotificationType0=fv;var dv=class extends ga.NotificationType{constructor(t){super(t,ga.ParameterStructures.byName)}};kr.ProtocolNotificationType=dv});var hd=P(Pt=>{"use strict";Object.defineProperty(Pt,"__esModule",{value:!0});Pt.objectLiteral=Pt.typedArray=Pt.stringArray=Pt.array=Pt.func=Pt.error=Pt.number=Pt.string=Pt.boolean=void 0;function EW(e){return e===!0||e===!1}Pt.boolean=EW;function zA(e){return typeof e=="string"||e instanceof String}Pt.string=zA;function NW(e){return typeof e=="number"||e instanceof Number}Pt.number=NW;function PW(e){return e instanceof Error}Pt.error=PW;function DW(e){return typeof e=="function"}Pt.func=DW;function VA(e){return Array.isArray(e)}Pt.array=VA;function IW(e){return VA(e)&&e.every(t=>zA(t))}Pt.stringArray=IW;function OW(e,t){return Array.isArray(e)&&e.every(t)}Pt.typedArray=OW;function LW(e){return e!==null&&typeof e=="object"}Pt.objectLiteral=LW});var XA=P(Ic=>{"use strict";Object.defineProperty(Ic,"__esModule",{value:!0});Ic.ImplementationRequest=void 0;var YA=pt(),MW;(function(e){e.method="textDocument/implementation",e.messageDirection=YA.MessageDirection.clientToServer,e.type=new YA.ProtocolRequestType(e.method)})(MW=Ic.ImplementationRequest||(Ic.ImplementationRequest={}))});var QA=P(Oc=>{"use strict";Object.defineProperty(Oc,"__esModule",{value:!0});Oc.TypeDefinitionRequest=void 0;var JA=pt(),$W;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=JA.MessageDirection.clientToServer,e.type=new JA.ProtocolRequestType(e.method)})($W=Oc.TypeDefinitionRequest||(Oc.TypeDefinitionRequest={}))});var ZA=P(ao=>{"use strict";Object.defineProperty(ao,"__esModule",{value:!0});ao.DidChangeWorkspaceFoldersNotification=ao.WorkspaceFoldersRequest=void 0;var md=pt(),FW;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=md.MessageDirection.serverToClient,e.type=new md.ProtocolRequestType0(e.method)})(FW=ao.WorkspaceFoldersRequest||(ao.WorkspaceFoldersRequest={}));var qW;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=md.MessageDirection.clientToServer,e.type=new md.ProtocolNotificationType(e.method)})(qW=ao.DidChangeWorkspaceFoldersNotification||(ao.DidChangeWorkspaceFoldersNotification={}))});var tE=P(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.ConfigurationRequest=void 0;var eE=pt(),jW;(function(e){e.method="workspace/configuration",e.messageDirection=eE.MessageDirection.serverToClient,e.type=new eE.ProtocolRequestType(e.method)})(jW=Lc.ConfigurationRequest||(Lc.ConfigurationRequest={}))});var rE=P(co=>{"use strict";Object.defineProperty(co,"__esModule",{value:!0});co.ColorPresentationRequest=co.DocumentColorRequest=void 0;var gd=pt(),UW;(function(e){e.method="textDocument/documentColor",e.messageDirection=gd.MessageDirection.clientToServer,e.type=new gd.ProtocolRequestType(e.method)})(UW=co.DocumentColorRequest||(co.DocumentColorRequest={}));var HW;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=gd.MessageDirection.clientToServer,e.type=new gd.ProtocolRequestType(e.method)})(HW=co.ColorPresentationRequest||(co.ColorPresentationRequest={}))});var iE=P(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});Mc.FoldingRangeRequest=void 0;var nE=pt(),WW;(function(e){e.method="textDocument/foldingRange",e.messageDirection=nE.MessageDirection.clientToServer,e.type=new nE.ProtocolRequestType(e.method)})(WW=Mc.FoldingRangeRequest||(Mc.FoldingRangeRequest={}))});var sE=P($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.DeclarationRequest=void 0;var oE=pt(),GW;(function(e){e.method="textDocument/declaration",e.messageDirection=oE.MessageDirection.clientToServer,e.type=new oE.ProtocolRequestType(e.method)})(GW=$c.DeclarationRequest||($c.DeclarationRequest={}))});var cE=P(Fc=>{"use strict";Object.defineProperty(Fc,"__esModule",{value:!0});Fc.SelectionRangeRequest=void 0;var aE=pt(),BW;(function(e){e.method="textDocument/selectionRange",e.messageDirection=aE.MessageDirection.clientToServer,e.type=new aE.ProtocolRequestType(e.method)})(BW=Fc.SelectionRangeRequest||(Fc.SelectionRangeRequest={}))});var uE=P(Rn=>{"use strict";Object.defineProperty(Rn,"__esModule",{value:!0});Rn.WorkDoneProgressCancelNotification=Rn.WorkDoneProgressCreateRequest=Rn.WorkDoneProgress=void 0;var KW=li(),yd=pt(),zW;(function(e){e.type=new KW.ProgressType;function t(r){return r===e.type}e.is=t})(zW=Rn.WorkDoneProgress||(Rn.WorkDoneProgress={}));var VW;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=yd.MessageDirection.serverToClient,e.type=new yd.ProtocolRequestType(e.method)})(VW=Rn.WorkDoneProgressCreateRequest||(Rn.WorkDoneProgressCreateRequest={}));var YW;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=yd.MessageDirection.clientToServer,e.type=new yd.ProtocolNotificationType(e.method)})(YW=Rn.WorkDoneProgressCancelNotification||(Rn.WorkDoneProgressCancelNotification={}))});var lE=P(bn=>{"use strict";Object.defineProperty(bn,"__esModule",{value:!0});bn.CallHierarchyOutgoingCallsRequest=bn.CallHierarchyIncomingCallsRequest=bn.CallHierarchyPrepareRequest=void 0;var ya=pt(),XW;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=ya.MessageDirection.clientToServer,e.type=new ya.ProtocolRequestType(e.method)})(XW=bn.CallHierarchyPrepareRequest||(bn.CallHierarchyPrepareRequest={}));var JW;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=ya.MessageDirection.clientToServer,e.type=new ya.ProtocolRequestType(e.method)})(JW=bn.CallHierarchyIncomingCallsRequest||(bn.CallHierarchyIncomingCallsRequest={}));var QW;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=ya.MessageDirection.clientToServer,e.type=new ya.ProtocolRequestType(e.method)})(QW=bn.CallHierarchyOutgoingCallsRequest||(bn.CallHierarchyOutgoingCallsRequest={}))});var fE=P(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SemanticTokensRefreshRequest=Dt.SemanticTokensRangeRequest=Dt.SemanticTokensDeltaRequest=Dt.SemanticTokensRequest=Dt.SemanticTokensRegistrationType=Dt.TokenFormat=void 0;var Si=pt(),ZW;(function(e){e.Relative="relative"})(ZW=Dt.TokenFormat||(Dt.TokenFormat={}));var vd;(function(e){e.method="textDocument/semanticTokens",e.type=new Si.RegistrationType(e.method)})(vd=Dt.SemanticTokensRegistrationType||(Dt.SemanticTokensRegistrationType={}));var eG;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Si.MessageDirection.clientToServer,e.type=new Si.ProtocolRequestType(e.method),e.registrationMethod=vd.method})(eG=Dt.SemanticTokensRequest||(Dt.SemanticTokensRequest={}));var tG;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Si.MessageDirection.clientToServer,e.type=new Si.ProtocolRequestType(e.method),e.registrationMethod=vd.method})(tG=Dt.SemanticTokensDeltaRequest||(Dt.SemanticTokensDeltaRequest={}));var rG;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Si.MessageDirection.clientToServer,e.type=new Si.ProtocolRequestType(e.method),e.registrationMethod=vd.method})(rG=Dt.SemanticTokensRangeRequest||(Dt.SemanticTokensRangeRequest={}));var nG;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Si.MessageDirection.serverToClient,e.type=new Si.ProtocolRequestType0(e.method)})(nG=Dt.SemanticTokensRefreshRequest||(Dt.SemanticTokensRefreshRequest={}))});var pE=P(qc=>{"use strict";Object.defineProperty(qc,"__esModule",{value:!0});qc.ShowDocumentRequest=void 0;var dE=pt(),iG;(function(e){e.method="window/showDocument",e.messageDirection=dE.MessageDirection.serverToClient,e.type=new dE.ProtocolRequestType(e.method)})(iG=qc.ShowDocumentRequest||(qc.ShowDocumentRequest={}))});var mE=P(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.LinkedEditingRangeRequest=void 0;var hE=pt(),oG;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=hE.MessageDirection.clientToServer,e.type=new hE.ProtocolRequestType(e.method)})(oG=jc.LinkedEditingRangeRequest||(jc.LinkedEditingRangeRequest={}))});var gE=P(ht=>{"use strict";Object.defineProperty(ht,"__esModule",{value:!0});ht.WillDeleteFilesRequest=ht.DidDeleteFilesNotification=ht.DidRenameFilesNotification=ht.WillRenameFilesRequest=ht.DidCreateFilesNotification=ht.WillCreateFilesRequest=ht.FileOperationPatternKind=void 0;var sn=pt(),sG;(function(e){e.file="file",e.folder="folder"})(sG=ht.FileOperationPatternKind||(ht.FileOperationPatternKind={}));var aG;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolRequestType(e.method)})(aG=ht.WillCreateFilesRequest||(ht.WillCreateFilesRequest={}));var cG;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolNotificationType(e.method)})(cG=ht.DidCreateFilesNotification||(ht.DidCreateFilesNotification={}));var uG;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolRequestType(e.method)})(uG=ht.WillRenameFilesRequest||(ht.WillRenameFilesRequest={}));var lG;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolNotificationType(e.method)})(lG=ht.DidRenameFilesNotification||(ht.DidRenameFilesNotification={}));var fG;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolNotificationType(e.method)})(fG=ht.DidDeleteFilesNotification||(ht.DidDeleteFilesNotification={}));var dG;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=sn.MessageDirection.clientToServer,e.type=new sn.ProtocolRequestType(e.method)})(dG=ht.WillDeleteFilesRequest||(ht.WillDeleteFilesRequest={}))});var vE=P(_n=>{"use strict";Object.defineProperty(_n,"__esModule",{value:!0});_n.MonikerRequest=_n.MonikerKind=_n.UniquenessLevel=void 0;var yE=pt(),pG;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(pG=_n.UniquenessLevel||(_n.UniquenessLevel={}));var hG;(function(e){e.$import="import",e.$export="export",e.local="local"})(hG=_n.MonikerKind||(_n.MonikerKind={}));var mG;(function(e){e.method="textDocument/moniker",e.messageDirection=yE.MessageDirection.clientToServer,e.type=new yE.ProtocolRequestType(e.method)})(mG=_n.MonikerRequest||(_n.MonikerRequest={}))});var TE=P(Sn=>{"use strict";Object.defineProperty(Sn,"__esModule",{value:!0});Sn.TypeHierarchySubtypesRequest=Sn.TypeHierarchySupertypesRequest=Sn.TypeHierarchyPrepareRequest=void 0;var va=pt(),gG;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=va.MessageDirection.clientToServer,e.type=new va.ProtocolRequestType(e.method)})(gG=Sn.TypeHierarchyPrepareRequest||(Sn.TypeHierarchyPrepareRequest={}));var yG;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=va.MessageDirection.clientToServer,e.type=new va.ProtocolRequestType(e.method)})(yG=Sn.TypeHierarchySupertypesRequest||(Sn.TypeHierarchySupertypesRequest={}));var vG;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=va.MessageDirection.clientToServer,e.type=new va.ProtocolRequestType(e.method)})(vG=Sn.TypeHierarchySubtypesRequest||(Sn.TypeHierarchySubtypesRequest={}))});var xE=P(uo=>{"use strict";Object.defineProperty(uo,"__esModule",{value:!0});uo.InlineValueRefreshRequest=uo.InlineValueRequest=void 0;var Td=pt(),TG;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Td.MessageDirection.clientToServer,e.type=new Td.ProtocolRequestType(e.method)})(TG=uo.InlineValueRequest||(uo.InlineValueRequest={}));var xG;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Td.MessageDirection.serverToClient,e.type=new Td.ProtocolRequestType0(e.method)})(xG=uo.InlineValueRefreshRequest||(uo.InlineValueRefreshRequest={}))});var RE=P(kn=>{"use strict";Object.defineProperty(kn,"__esModule",{value:!0});kn.InlayHintRefreshRequest=kn.InlayHintResolveRequest=kn.InlayHintRequest=void 0;var Ta=pt(),RG;(function(e){e.method="textDocument/inlayHint",e.messageDirection=Ta.MessageDirection.clientToServer,e.type=new Ta.ProtocolRequestType(e.method)})(RG=kn.InlayHintRequest||(kn.InlayHintRequest={}));var bG;(function(e){e.method="inlayHint/resolve",e.messageDirection=Ta.MessageDirection.clientToServer,e.type=new Ta.ProtocolRequestType(e.method)})(bG=kn.InlayHintResolveRequest||(kn.InlayHintResolveRequest={}));var _G;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=Ta.MessageDirection.serverToClient,e.type=new Ta.ProtocolRequestType0(e.method)})(_G=kn.InlayHintRefreshRequest||(kn.InlayHintRefreshRequest={}))});var _E=P(Jt=>{"use strict";Object.defineProperty(Jt,"__esModule",{value:!0});Jt.DiagnosticRefreshRequest=Jt.WorkspaceDiagnosticRequest=Jt.DocumentDiagnosticRequest=Jt.DocumentDiagnosticReportKind=Jt.DiagnosticServerCancellationData=void 0;var bE=li(),SG=hd(),xa=pt(),kG;(function(e){function t(r){let n=r;return n&&SG.boolean(n.retriggerRequest)}e.is=t})(kG=Jt.DiagnosticServerCancellationData||(Jt.DiagnosticServerCancellationData={}));var wG;(function(e){e.Full="full",e.Unchanged="unchanged"})(wG=Jt.DocumentDiagnosticReportKind||(Jt.DocumentDiagnosticReportKind={}));var CG;(function(e){e.method="textDocument/diagnostic",e.messageDirection=xa.MessageDirection.clientToServer,e.type=new xa.ProtocolRequestType(e.method),e.partialResult=new bE.ProgressType})(CG=Jt.DocumentDiagnosticRequest||(Jt.DocumentDiagnosticRequest={}));var AG;(function(e){e.method="workspace/diagnostic",e.messageDirection=xa.MessageDirection.clientToServer,e.type=new xa.ProtocolRequestType(e.method),e.partialResult=new bE.ProgressType})(AG=Jt.WorkspaceDiagnosticRequest||(Jt.WorkspaceDiagnosticRequest={}));var EG;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=xa.MessageDirection.serverToClient,e.type=new xa.ProtocolRequestType0(e.method)})(EG=Jt.DiagnosticRefreshRequest||(Jt.DiagnosticRefreshRequest={}))});var wE=P(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.DidCloseNotebookDocumentNotification=Ie.DidSaveNotebookDocumentNotification=Ie.DidChangeNotebookDocumentNotification=Ie.NotebookCellArrayChange=Ie.DidOpenNotebookDocumentNotification=Ie.NotebookDocumentSyncRegistrationType=Ie.NotebookDocument=Ie.NotebookCell=Ie.ExecutionSummary=Ie.NotebookCellKind=void 0;var Uc=pd(),wn=hd(),Yn=pt(),SE;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}e.is=t})(SE=Ie.NotebookCellKind||(Ie.NotebookCellKind={}));var kE;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function r(i){let o=i;return wn.objectLiteral(o)&&Uc.uinteger.is(o.executionOrder)&&(o.success===void 0||wn.boolean(o.success))}e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=n})(kE=Ie.ExecutionSummary||(Ie.ExecutionSummary={}));var pv;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function r(o){let s=o;return wn.objectLiteral(s)&&SE.is(s.kind)&&Uc.DocumentUri.is(s.document)&&(s.metadata===void 0||wn.objectLiteral(s.metadata))}e.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!kE.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++)if(!i(o[u],s[u]))return!1}if(wn.objectLiteral(o)&&wn.objectLiteral(s)){let u=Object.keys(o),h=Object.keys(s);if(u.length!==h.length||(u.sort(),h.sort(),!i(u,h)))return!1;for(let g=0;g<u.length;g++){let T=u[g];if(!i(o[T],s[T]))return!1}}return!0}})(pv=Ie.NotebookCell||(Ie.NotebookCell={}));var NG;(function(e){function t(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}e.create=t;function r(n){let i=n;return wn.objectLiteral(i)&&wn.string(i.uri)&&Uc.integer.is(i.version)&&wn.typedArray(i.cells,pv.is)}e.is=r})(NG=Ie.NotebookDocument||(Ie.NotebookDocument={}));var Hc;(function(e){e.method="notebookDocument/sync",e.messageDirection=Yn.MessageDirection.clientToServer,e.type=new Yn.RegistrationType(e.method)})(Hc=Ie.NotebookDocumentSyncRegistrationType||(Ie.NotebookDocumentSyncRegistrationType={}));var PG;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Yn.MessageDirection.clientToServer,e.type=new Yn.ProtocolNotificationType(e.method),e.registrationMethod=Hc.method})(PG=Ie.DidOpenNotebookDocumentNotification||(Ie.DidOpenNotebookDocumentNotification={}));var DG;(function(e){function t(n){let i=n;return wn.objectLiteral(i)&&Uc.uinteger.is(i.start)&&Uc.uinteger.is(i.deleteCount)&&(i.cells===void 0||wn.typedArray(i.cells,pv.is))}e.is=t;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=r})(DG=Ie.NotebookCellArrayChange||(Ie.NotebookCellArrayChange={}));var IG;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Yn.MessageDirection.clientToServer,e.type=new Yn.ProtocolNotificationType(e.method),e.registrationMethod=Hc.method})(IG=Ie.DidChangeNotebookDocumentNotification||(Ie.DidChangeNotebookDocumentNotification={}));var OG;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Yn.MessageDirection.clientToServer,e.type=new Yn.ProtocolNotificationType(e.method),e.registrationMethod=Hc.method})(OG=Ie.DidSaveNotebookDocumentNotification||(Ie.DidSaveNotebookDocumentNotification={}));var LG;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Yn.MessageDirection.clientToServer,e.type=new Yn.ProtocolNotificationType(e.method),e.registrationMethod=Hc.method})(LG=Ie.DidCloseNotebookDocumentNotification||(Ie.DidCloseNotebookDocumentNotification={}))});var LE=P(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});y.WorkspaceSymbolRequest=y.CodeActionResolveRequest=y.CodeActionRequest=y.DocumentSymbolRequest=y.DocumentHighlightRequest=y.ReferencesRequest=y.DefinitionRequest=y.SignatureHelpRequest=y.SignatureHelpTriggerKind=y.HoverRequest=y.CompletionResolveRequest=y.CompletionRequest=y.CompletionTriggerKind=y.PublishDiagnosticsNotification=y.WatchKind=y.RelativePattern=y.FileChangeType=y.DidChangeWatchedFilesNotification=y.WillSaveTextDocumentWaitUntilRequest=y.WillSaveTextDocumentNotification=y.TextDocumentSaveReason=y.DidSaveTextDocumentNotification=y.DidCloseTextDocumentNotification=y.DidChangeTextDocumentNotification=y.TextDocumentContentChangeEvent=y.DidOpenTextDocumentNotification=y.TextDocumentSyncKind=y.TelemetryEventNotification=y.LogMessageNotification=y.ShowMessageRequest=y.ShowMessageNotification=y.MessageType=y.DidChangeConfigurationNotification=y.ExitNotification=y.ShutdownRequest=y.InitializedNotification=y.InitializeErrorCodes=y.InitializeRequest=y.WorkDoneProgressOptions=y.TextDocumentRegistrationOptions=y.StaticRegistrationOptions=y.PositionEncodingKind=y.FailureHandlingKind=y.ResourceOperationKind=y.UnregistrationRequest=y.RegistrationRequest=y.DocumentSelector=y.NotebookCellTextDocumentFilter=y.NotebookDocumentFilter=y.TextDocumentFilter=void 0;y.TypeHierarchySubtypesRequest=y.TypeHierarchyPrepareRequest=y.MonikerRequest=y.MonikerKind=y.UniquenessLevel=y.WillDeleteFilesRequest=y.DidDeleteFilesNotification=y.WillRenameFilesRequest=y.DidRenameFilesNotification=y.WillCreateFilesRequest=y.DidCreateFilesNotification=y.FileOperationPatternKind=y.LinkedEditingRangeRequest=y.ShowDocumentRequest=y.SemanticTokensRegistrationType=y.SemanticTokensRefreshRequest=y.SemanticTokensRangeRequest=y.SemanticTokensDeltaRequest=y.SemanticTokensRequest=y.TokenFormat=y.CallHierarchyPrepareRequest=y.CallHierarchyOutgoingCallsRequest=y.CallHierarchyIncomingCallsRequest=y.WorkDoneProgressCancelNotification=y.WorkDoneProgressCreateRequest=y.WorkDoneProgress=y.SelectionRangeRequest=y.DeclarationRequest=y.FoldingRangeRequest=y.ColorPresentationRequest=y.DocumentColorRequest=y.ConfigurationRequest=y.DidChangeWorkspaceFoldersNotification=y.WorkspaceFoldersRequest=y.TypeDefinitionRequest=y.ImplementationRequest=y.ApplyWorkspaceEditRequest=y.ExecuteCommandRequest=y.PrepareRenameRequest=y.RenameRequest=y.PrepareSupportDefaultBehavior=y.DocumentOnTypeFormattingRequest=y.DocumentRangeFormattingRequest=y.DocumentFormattingRequest=y.DocumentLinkResolveRequest=y.DocumentLinkRequest=y.CodeLensRefreshRequest=y.CodeLensResolveRequest=y.CodeLensRequest=y.WorkspaceSymbolResolveRequest=void 0;y.DidCloseNotebookDocumentNotification=y.DidSaveNotebookDocumentNotification=y.DidChangeNotebookDocumentNotification=y.NotebookCellArrayChange=y.DidOpenNotebookDocumentNotification=y.NotebookDocumentSyncRegistrationType=y.NotebookDocument=y.NotebookCell=y.ExecutionSummary=y.NotebookCellKind=y.DiagnosticRefreshRequest=y.WorkspaceDiagnosticRequest=y.DocumentDiagnosticRequest=y.DocumentDiagnosticReportKind=y.DiagnosticServerCancellationData=y.InlayHintRefreshRequest=y.InlayHintResolveRequest=y.InlayHintRequest=y.InlineValueRefreshRequest=y.InlineValueRequest=y.TypeHierarchySupertypesRequest=void 0;var H=pt(),CE=pd(),Qt=hd(),MG=XA();Object.defineProperty(y,"ImplementationRequest",{enumerable:!0,get:function(){return MG.ImplementationRequest}});var $G=QA();Object.defineProperty(y,"TypeDefinitionRequest",{enumerable:!0,get:function(){return $G.TypeDefinitionRequest}});var AE=ZA();Object.defineProperty(y,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return AE.WorkspaceFoldersRequest}});Object.defineProperty(y,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return AE.DidChangeWorkspaceFoldersNotification}});var FG=tE();Object.defineProperty(y,"ConfigurationRequest",{enumerable:!0,get:function(){return FG.ConfigurationRequest}});var EE=rE();Object.defineProperty(y,"DocumentColorRequest",{enumerable:!0,get:function(){return EE.DocumentColorRequest}});Object.defineProperty(y,"ColorPresentationRequest",{enumerable:!0,get:function(){return EE.ColorPresentationRequest}});var qG=iE();Object.defineProperty(y,"FoldingRangeRequest",{enumerable:!0,get:function(){return qG.FoldingRangeRequest}});var jG=sE();Object.defineProperty(y,"DeclarationRequest",{enumerable:!0,get:function(){return jG.DeclarationRequest}});var UG=cE();Object.defineProperty(y,"SelectionRangeRequest",{enumerable:!0,get:function(){return UG.SelectionRangeRequest}});var hv=uE();Object.defineProperty(y,"WorkDoneProgress",{enumerable:!0,get:function(){return hv.WorkDoneProgress}});Object.defineProperty(y,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return hv.WorkDoneProgressCreateRequest}});Object.defineProperty(y,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return hv.WorkDoneProgressCancelNotification}});var mv=lE();Object.defineProperty(y,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return mv.CallHierarchyIncomingCallsRequest}});Object.defineProperty(y,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return mv.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(y,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return mv.CallHierarchyPrepareRequest}});var Ra=fE();Object.defineProperty(y,"TokenFormat",{enumerable:!0,get:function(){return Ra.TokenFormat}});Object.defineProperty(y,"SemanticTokensRequest",{enumerable:!0,get:function(){return Ra.SemanticTokensRequest}});Object.defineProperty(y,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return Ra.SemanticTokensDeltaRequest}});Object.defineProperty(y,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return Ra.SemanticTokensRangeRequest}});Object.defineProperty(y,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return Ra.SemanticTokensRefreshRequest}});Object.defineProperty(y,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return Ra.SemanticTokensRegistrationType}});var HG=pE();Object.defineProperty(y,"ShowDocumentRequest",{enumerable:!0,get:function(){return HG.ShowDocumentRequest}});var WG=mE();Object.defineProperty(y,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return WG.LinkedEditingRangeRequest}});var Bo=gE();Object.defineProperty(y,"FileOperationPatternKind",{enumerable:!0,get:function(){return Bo.FileOperationPatternKind}});Object.defineProperty(y,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Bo.DidCreateFilesNotification}});Object.defineProperty(y,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Bo.WillCreateFilesRequest}});Object.defineProperty(y,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Bo.DidRenameFilesNotification}});Object.defineProperty(y,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Bo.WillRenameFilesRequest}});Object.defineProperty(y,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Bo.DidDeleteFilesNotification}});Object.defineProperty(y,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Bo.WillDeleteFilesRequest}});var gv=vE();Object.defineProperty(y,"UniquenessLevel",{enumerable:!0,get:function(){return gv.UniquenessLevel}});Object.defineProperty(y,"MonikerKind",{enumerable:!0,get:function(){return gv.MonikerKind}});Object.defineProperty(y,"MonikerRequest",{enumerable:!0,get:function(){return gv.MonikerRequest}});var yv=TE();Object.defineProperty(y,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return yv.TypeHierarchyPrepareRequest}});Object.defineProperty(y,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return yv.TypeHierarchySubtypesRequest}});Object.defineProperty(y,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return yv.TypeHierarchySupertypesRequest}});var NE=xE();Object.defineProperty(y,"InlineValueRequest",{enumerable:!0,get:function(){return NE.InlineValueRequest}});Object.defineProperty(y,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return NE.InlineValueRefreshRequest}});var vv=RE();Object.defineProperty(y,"InlayHintRequest",{enumerable:!0,get:function(){return vv.InlayHintRequest}});Object.defineProperty(y,"InlayHintResolveRequest",{enumerable:!0,get:function(){return vv.InlayHintResolveRequest}});Object.defineProperty(y,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return vv.InlayHintRefreshRequest}});var Wc=_E();Object.defineProperty(y,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Wc.DiagnosticServerCancellationData}});Object.defineProperty(y,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Wc.DocumentDiagnosticReportKind}});Object.defineProperty(y,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Wc.DocumentDiagnosticRequest}});Object.defineProperty(y,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Wc.WorkspaceDiagnosticRequest}});Object.defineProperty(y,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Wc.DiagnosticRefreshRequest}});var Xn=wE();Object.defineProperty(y,"NotebookCellKind",{enumerable:!0,get:function(){return Xn.NotebookCellKind}});Object.defineProperty(y,"ExecutionSummary",{enumerable:!0,get:function(){return Xn.ExecutionSummary}});Object.defineProperty(y,"NotebookCell",{enumerable:!0,get:function(){return Xn.NotebookCell}});Object.defineProperty(y,"NotebookDocument",{enumerable:!0,get:function(){return Xn.NotebookDocument}});Object.defineProperty(y,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Xn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(y,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Xn.DidOpenNotebookDocumentNotification}});Object.defineProperty(y,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Xn.NotebookCellArrayChange}});Object.defineProperty(y,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Xn.DidChangeNotebookDocumentNotification}});Object.defineProperty(y,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Xn.DidSaveNotebookDocumentNotification}});Object.defineProperty(y,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Xn.DidCloseNotebookDocumentNotification}});var PE;(function(e){function t(r){let n=r;return Qt.string(n.language)||Qt.string(n.scheme)||Qt.string(n.pattern)}e.is=t})(PE=y.TextDocumentFilter||(y.TextDocumentFilter={}));var DE;(function(e){function t(r){let n=r;return Qt.objectLiteral(n)&&(Qt.string(n.notebookType)||Qt.string(n.scheme)||Qt.string(n.pattern))}e.is=t})(DE=y.NotebookDocumentFilter||(y.NotebookDocumentFilter={}));var IE;(function(e){function t(r){let n=r;return Qt.objectLiteral(n)&&(Qt.string(n.notebook)||DE.is(n.notebook))&&(n.language===void 0||Qt.string(n.language))}e.is=t})(IE=y.NotebookCellTextDocumentFilter||(y.NotebookCellTextDocumentFilter={}));var OE;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Qt.string(n)&&!PE.is(n)&&!IE.is(n))return!1;return!0}e.is=t})(OE=y.DocumentSelector||(y.DocumentSelector={}));var GG;(function(e){e.method="client/registerCapability",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(GG=y.RegistrationRequest||(y.RegistrationRequest={}));var BG;(function(e){e.method="client/unregisterCapability",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(BG=y.UnregistrationRequest||(y.UnregistrationRequest={}));var KG;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(KG=y.ResourceOperationKind||(y.ResourceOperationKind={}));var zG;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(zG=y.FailureHandlingKind||(y.FailureHandlingKind={}));var VG;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(VG=y.PositionEncodingKind||(y.PositionEncodingKind={}));var YG;(function(e){function t(r){let n=r;return n&&Qt.string(n.id)&&n.id.length>0}e.hasId=t})(YG=y.StaticRegistrationOptions||(y.StaticRegistrationOptions={}));var XG;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||OE.is(n.documentSelector))}e.is=t})(XG=y.TextDocumentRegistrationOptions||(y.TextDocumentRegistrationOptions={}));var JG;(function(e){function t(n){let i=n;return Qt.objectLiteral(i)&&(i.workDoneProgress===void 0||Qt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Qt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(JG=y.WorkDoneProgressOptions||(y.WorkDoneProgressOptions={}));var QG;(function(e){e.method="initialize",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(QG=y.InitializeRequest||(y.InitializeRequest={}));var ZG;(function(e){e.unknownProtocolVersion=1})(ZG=y.InitializeErrorCodes||(y.InitializeErrorCodes={}));var eB;(function(e){e.method="initialized",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(eB=y.InitializedNotification||(y.InitializedNotification={}));var tB;(function(e){e.method="shutdown",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType0(e.method)})(tB=y.ShutdownRequest||(y.ShutdownRequest={}));var rB;(function(e){e.method="exit",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType0(e.method)})(rB=y.ExitNotification||(y.ExitNotification={}));var nB;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(nB=y.DidChangeConfigurationNotification||(y.DidChangeConfigurationNotification={}));var iB;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(iB=y.MessageType||(y.MessageType={}));var oB;(function(e){e.method="window/showMessage",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(oB=y.ShowMessageNotification||(y.ShowMessageNotification={}));var sB;(function(e){e.method="window/showMessageRequest",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType(e.method)})(sB=y.ShowMessageRequest||(y.ShowMessageRequest={}));var aB;(function(e){e.method="window/logMessage",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(aB=y.LogMessageNotification||(y.LogMessageNotification={}));var cB;(function(e){e.method="telemetry/event",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(cB=y.TelemetryEventNotification||(y.TelemetryEventNotification={}));var uB;(function(e){e.None=0,e.Full=1,e.Incremental=2})(uB=y.TextDocumentSyncKind||(y.TextDocumentSyncKind={}));var lB;(function(e){e.method="textDocument/didOpen",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(lB=y.DidOpenTextDocumentNotification||(y.DidOpenTextDocumentNotification={}));var fB;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(fB=y.TextDocumentContentChangeEvent||(y.TextDocumentContentChangeEvent={}));var dB;(function(e){e.method="textDocument/didChange",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(dB=y.DidChangeTextDocumentNotification||(y.DidChangeTextDocumentNotification={}));var pB;(function(e){e.method="textDocument/didClose",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(pB=y.DidCloseTextDocumentNotification||(y.DidCloseTextDocumentNotification={}));var hB;(function(e){e.method="textDocument/didSave",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(hB=y.DidSaveTextDocumentNotification||(y.DidSaveTextDocumentNotification={}));var mB;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(mB=y.TextDocumentSaveReason||(y.TextDocumentSaveReason={}));var gB;(function(e){e.method="textDocument/willSave",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(gB=y.WillSaveTextDocumentNotification||(y.WillSaveTextDocumentNotification={}));var yB;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(yB=y.WillSaveTextDocumentWaitUntilRequest||(y.WillSaveTextDocumentWaitUntilRequest={}));var vB;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolNotificationType(e.method)})(vB=y.DidChangeWatchedFilesNotification||(y.DidChangeWatchedFilesNotification={}));var TB;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(TB=y.FileChangeType||(y.FileChangeType={}));var xB;(function(e){function t(r){let n=r;return Qt.objectLiteral(n)&&(CE.URI.is(n.baseUri)||CE.WorkspaceFolder.is(n.baseUri))&&Qt.string(n.pattern)}e.is=t})(xB=y.RelativePattern||(y.RelativePattern={}));var RB;(function(e){e.Create=1,e.Change=2,e.Delete=4})(RB=y.WatchKind||(y.WatchKind={}));var bB;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolNotificationType(e.method)})(bB=y.PublishDiagnosticsNotification||(y.PublishDiagnosticsNotification={}));var _B;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(_B=y.CompletionTriggerKind||(y.CompletionTriggerKind={}));var SB;(function(e){e.method="textDocument/completion",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(SB=y.CompletionRequest||(y.CompletionRequest={}));var kB;(function(e){e.method="completionItem/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(kB=y.CompletionResolveRequest||(y.CompletionResolveRequest={}));var wB;(function(e){e.method="textDocument/hover",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(wB=y.HoverRequest||(y.HoverRequest={}));var CB;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(CB=y.SignatureHelpTriggerKind||(y.SignatureHelpTriggerKind={}));var AB;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(AB=y.SignatureHelpRequest||(y.SignatureHelpRequest={}));var EB;(function(e){e.method="textDocument/definition",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(EB=y.DefinitionRequest||(y.DefinitionRequest={}));var NB;(function(e){e.method="textDocument/references",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(NB=y.ReferencesRequest||(y.ReferencesRequest={}));var PB;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(PB=y.DocumentHighlightRequest||(y.DocumentHighlightRequest={}));var DB;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(DB=y.DocumentSymbolRequest||(y.DocumentSymbolRequest={}));var IB;(function(e){e.method="textDocument/codeAction",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(IB=y.CodeActionRequest||(y.CodeActionRequest={}));var OB;(function(e){e.method="codeAction/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(OB=y.CodeActionResolveRequest||(y.CodeActionResolveRequest={}));var LB;(function(e){e.method="workspace/symbol",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(LB=y.WorkspaceSymbolRequest||(y.WorkspaceSymbolRequest={}));var MB;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(MB=y.WorkspaceSymbolResolveRequest||(y.WorkspaceSymbolResolveRequest={}));var $B;(function(e){e.method="textDocument/codeLens",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})($B=y.CodeLensRequest||(y.CodeLensRequest={}));var FB;(function(e){e.method="codeLens/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(FB=y.CodeLensResolveRequest||(y.CodeLensResolveRequest={}));var qB;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType0(e.method)})(qB=y.CodeLensRefreshRequest||(y.CodeLensRefreshRequest={}));var jB;(function(e){e.method="textDocument/documentLink",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(jB=y.DocumentLinkRequest||(y.DocumentLinkRequest={}));var UB;(function(e){e.method="documentLink/resolve",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(UB=y.DocumentLinkResolveRequest||(y.DocumentLinkResolveRequest={}));var HB;(function(e){e.method="textDocument/formatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(HB=y.DocumentFormattingRequest||(y.DocumentFormattingRequest={}));var WB;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(WB=y.DocumentRangeFormattingRequest||(y.DocumentRangeFormattingRequest={}));var GB;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(GB=y.DocumentOnTypeFormattingRequest||(y.DocumentOnTypeFormattingRequest={}));var BB;(function(e){e.Identifier=1})(BB=y.PrepareSupportDefaultBehavior||(y.PrepareSupportDefaultBehavior={}));var KB;(function(e){e.method="textDocument/rename",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(KB=y.RenameRequest||(y.RenameRequest={}));var zB;(function(e){e.method="textDocument/prepareRename",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(zB=y.PrepareRenameRequest||(y.PrepareRenameRequest={}));var VB;(function(e){e.method="workspace/executeCommand",e.messageDirection=H.MessageDirection.clientToServer,e.type=new H.ProtocolRequestType(e.method)})(VB=y.ExecuteCommandRequest||(y.ExecuteCommandRequest={}));var YB;(function(e){e.method="workspace/applyEdit",e.messageDirection=H.MessageDirection.serverToClient,e.type=new H.ProtocolRequestType("workspace/applyEdit")})(YB=y.ApplyWorkspaceEditRequest||(y.ApplyWorkspaceEditRequest={}))});var $E=P(xd=>{"use strict";Object.defineProperty(xd,"__esModule",{value:!0});xd.createProtocolConnection=void 0;var ME=li();function XB(e,t,r,n){return ME.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,ME.createMessageConnection)(e,t,r,n)}xd.createProtocolConnection=XB});var FE=P(wr=>{"use strict";var JB=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rd=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&JB(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});wr.LSPErrorCodes=wr.createProtocolConnection=void 0;Rd(li(),wr);Rd(pd(),wr);Rd(pt(),wr);Rd(LE(),wr);var QB=$E();Object.defineProperty(wr,"createProtocolConnection",{enumerable:!0,get:function(){return QB.createProtocolConnection}});var ZB;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(ZB=wr.LSPErrorCodes||(wr.LSPErrorCodes={}))});var jt=P(Jn=>{"use strict";var e2=Jn&&Jn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qE=Jn&&Jn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&e2(t,e,r)};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.createProtocolConnection=void 0;var t2=av();qE(av(),Jn);qE(FE(),Jn);function r2(e,t,r,n){return(0,t2.createMessageConnection)(e,t,r,n)}Jn.createProtocolConnection=r2});var xv=P(lo=>{"use strict";Object.defineProperty(lo,"__esModule",{value:!0});lo.SemanticTokensBuilder=lo.SemanticTokensDiff=lo.SemanticTokensFeature=void 0;var bd=jt(),n2=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(bd.SemanticTokensRefreshRequest.type),on:t=>{let r=bd.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:t=>{let r=bd.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=bd.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};lo.SemanticTokensFeature=n2;var _d=class{constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};lo.SemanticTokensDiff=_d;var Tv=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let s=t,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new _d(this._prevData,this._data).computeDiff()}:this.build()}};lo.SemanticTokensBuilder=Tv});var bv=P(Sd=>{"use strict";Object.defineProperty(Sd,"__esModule",{value:!0});Sd.TextDocuments=void 0;var Ko=jt(),Rv=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Ko.Emitter,this._onDidOpen=new Ko.Emitter,this._onDidClose=new Ko.Emitter,this._onDidSave=new Ko.Emitter,this._onWillSave=new Ko.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Ko.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Ko.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};Sd.TextDocuments=Rv});var Sv=P(ba=>{"use strict";Object.defineProperty(ba,"__esModule",{value:!0});ba.NotebookDocuments=ba.NotebookSyncFeature=void 0;var an=jt(),jE=bv(),i2=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(an.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(an.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(an.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(an.DidCloseNotebookDocumentNotification.type,r=>{t(r)})}}};ba.NotebookSyncFeature=i2;var kd=class e{onDidOpenTextDocument(t){return this.openHandler=t,an.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,an.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,an.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};kd.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var _v=class{constructor(t){t instanceof jE.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new jE.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new an.Emitter,this._onDidChange=new an.Emitter,this._onDidSave=new an.Emitter,this._onDidClose=new an.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new kd,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,c=i.change;c.metadata!==void 0&&(a=!0,o.metadata=c.metadata);let u=[],h=[],g=[],T=[];if(c.cells!==void 0){let w=c.cells;if(w.structure!==void 0){let p=w.structure.array;if(o.cells.splice(p.start,p.deleteCount,...p.cells!==void 0?p.cells:[]),w.structure.didOpen!==void 0)for(let d of w.structure.didOpen)r.openTextDocument({textDocument:d}),u.push(d.uri);if(w.structure.didClose)for(let d of w.structure.didClose)r.closeTextDocument({textDocument:d}),h.push(d.uri)}if(w.data!==void 0){let p=new Map(w.data.map(d=>[d.document,d]));for(let d=0;d<=o.cells.length;d++){let _=p.get(o.cells[d].document);if(_!==void 0){let q=o.cells.splice(d,1,_);if(g.push({old:q[0],new:_}),p.delete(_.document),p.size===0)break}}}if(w.textContent!==void 0)for(let p of w.textContent)r.changeTextDocument({textDocument:p.document,contentChanges:p.changes}),T.push(p.document.uri)}this.updateCellMap(o);let R={notebookDocument:o};a&&(R.metadata={old:s,new:o.metadata});let C=[];for(let w of u)C.push(this.getNotebookCell(w));let A=[];for(let w of h)A.push(this.getNotebookCell(w));let O=[];for(let w of T)O.push(this.getNotebookCell(w));(C.length>0||A.length>0||g.length>0||O.length>0)&&(R.cells={added:C,removed:A,changed:{data:g,textContent:O}}),(R.metadata!==void 0||R.cells!==void 0)&&this._onDidChange.fire(R)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),an.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};ba.NotebookDocuments=_v});var kv=P(It=>{"use strict";Object.defineProperty(It,"__esModule",{value:!0});It.thenable=It.typedArray=It.stringArray=It.array=It.func=It.error=It.number=It.string=It.boolean=void 0;function o2(e){return e===!0||e===!1}It.boolean=o2;function UE(e){return typeof e=="string"||e instanceof String}It.string=UE;function s2(e){return typeof e=="number"||e instanceof Number}It.number=s2;function a2(e){return e instanceof Error}It.error=a2;function HE(e){return typeof e=="function"}It.func=HE;function WE(e){return Array.isArray(e)}It.array=WE;function c2(e){return WE(e)&&e.every(t=>UE(t))}It.stringArray=c2;function u2(e,t){return Array.isArray(e)&&e.every(t)}It.typedArray=u2;function l2(e){return e&&HE(e.then)}It.thenable=l2});var wv=P(cn=>{"use strict";Object.defineProperty(cn,"__esModule",{value:!0});cn.generateUuid=cn.parse=cn.isUUID=cn.v4=cn.empty=void 0;var Gc=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Bc=class e extends Gc{constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}};Bc._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Bc._timeHighBits=["8","9","a","b"];cn.empty=new Gc("00000000-0000-0000-0000-000000000000");function GE(){return new Bc}cn.v4=GE;var f2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function BE(e){return f2.test(e)}cn.isUUID=BE;function d2(e){if(!BE(e))throw new Error("invalid uuid");return new Gc(e)}cn.parse=d2;function p2(){return GE().asHex()}cn.generateUuid=p2});var KE=P(po=>{"use strict";Object.defineProperty(po,"__esModule",{value:!0});po.attachPartialResult=po.ProgressFeature=po.attachWorkDone=void 0;var fo=jt(),h2=wv(),zo=class e{constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(fo.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(fo.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(fo.WorkDoneProgress.type,this._token,{kind:"end"})}};zo.Instances=new Map;var wd=class extends zo{constructor(t,r){super(t,r),this._source=new fo.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Kc=class{constructor(){}begin(){}report(){}done(){}},Cd=class extends Kc{constructor(){super(),this._source=new fo.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function m2(e,t){if(t===void 0||t.workDoneToken===void 0)return new Kc;let r=t.workDoneToken;return delete t.workDoneToken,new zo(e,r)}po.attachWorkDone=m2;var g2=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(fo.WorkDoneProgressCancelNotification.type,r=>{let n=zo.Instances.get(r.token);(n instanceof wd||n instanceof Cd)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Kc:new zo(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,h2.generateUuid)();return this.connection.sendRequest(fo.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new wd(this.connection,t))}else return Promise.resolve(new Cd)}};po.ProgressFeature=g2;var Cv;(function(e){e.type=new fo.ProgressType})(Cv||(Cv={}));var Av=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(Cv.type,this._token,t)}};function y2(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new Av(e,r)}po.attachPartialResult=y2});var zE=P(Ad=>{"use strict";Object.defineProperty(Ad,"__esModule",{value:!0});Ad.ConfigurationFeature=void 0;var v2=jt(),T2=kv(),x2=e=>class extends e{getConfiguration(t){return t?T2.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(v2.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}};Ad.ConfigurationFeature=x2});var VE=P(Nd=>{"use strict";Object.defineProperty(Nd,"__esModule",{value:!0});Nd.WorkspaceFoldersFeature=void 0;var Ed=jt(),R2=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Ed.Emitter,this.connection.onNotification(Ed.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Ed.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Ed.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Nd.WorkspaceFoldersFeature=R2});var YE=P(Pd=>{"use strict";Object.defineProperty(Pd,"__esModule",{value:!0});Pd.CallHierarchyFeature=void 0;var Ev=jt(),b2=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(Ev.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:t=>{let r=Ev.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=Ev.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Pd.CallHierarchyFeature=b2});var XE=P(Dd=>{"use strict";Object.defineProperty(Dd,"__esModule",{value:!0});Dd.ShowDocumentFeature=void 0;var _2=jt(),S2=e=>class extends e{showDocument(t){return this.connection.sendRequest(_2.ShowDocumentRequest.type,t)}};Dd.ShowDocumentFeature=S2});var JE=P(Id=>{"use strict";Object.defineProperty(Id,"__esModule",{value:!0});Id.FileOperationsFeature=void 0;var _a=jt(),k2=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(_a.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(_a.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(_a.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(_a.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(_a.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(_a.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}};Id.FileOperationsFeature=k2});var QE=P(Od=>{"use strict";Object.defineProperty(Od,"__esModule",{value:!0});Od.LinkedEditingRangeFeature=void 0;var w2=jt(),C2=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(w2.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}};Od.LinkedEditingRangeFeature=C2});var ZE=P(Ld=>{"use strict";Object.defineProperty(Ld,"__esModule",{value:!0});Ld.TypeHierarchyFeature=void 0;var Nv=jt(),A2=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Nv.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:t=>{let r=Nv.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:t=>{let r=Nv.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Ld.TypeHierarchyFeature=A2});var t0=P(Md=>{"use strict";Object.defineProperty(Md,"__esModule",{value:!0});Md.InlineValueFeature=void 0;var e0=jt(),E2=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(e0.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(e0.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};Md.InlineValueFeature=E2});var r0=P($d=>{"use strict";Object.defineProperty($d,"__esModule",{value:!0});$d.InlayHintFeature=void 0;var Pv=jt(),N2=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Pv.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Pv.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),resolve:t=>this.connection.onRequest(Pv.InlayHintResolveRequest.type,(r,n)=>t(r,n))}}};$d.InlayHintFeature=N2});var n0=P(Fd=>{"use strict";Object.defineProperty(Fd,"__esModule",{value:!0});Fd.DiagnosticFeature=void 0;var zc=jt(),P2=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(zc.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(zc.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(zc.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:t=>this.connection.onRequest(zc.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(zc.WorkspaceDiagnosticRequest.partialResult,r)))}}};Fd.DiagnosticFeature=P2});var i0=P(qd=>{"use strict";Object.defineProperty(qd,"__esModule",{value:!0});qd.MonikerFeature=void 0;var D2=jt(),I2=e=>class extends e{get moniker(){return{on:t=>{let r=D2.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};qd.MonikerFeature=I2});var y0=P(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createConnection=Ae.combineFeatures=Ae.combineNotebooksFeatures=Ae.combineLanguagesFeatures=Ae.combineWorkspaceFeatures=Ae.combineWindowFeatures=Ae.combineClientFeatures=Ae.combineTracerFeatures=Ae.combineTelemetryFeatures=Ae.combineConsoleFeatures=Ae._NotebooksImpl=Ae._LanguagesImpl=Ae.BulkUnregistration=Ae.BulkRegistration=Ae.ErrorMessageTracker=void 0;var K=jt(),un=kv(),Iv=wv(),ye=KE(),O2=zE(),L2=VE(),M2=YE(),$2=xv(),F2=XE(),q2=JE(),j2=QE(),U2=ZE(),H2=t0(),W2=r0(),G2=n0(),B2=Sv(),K2=i0();function Dv(e){if(e!==null)return e}var Ov=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Ae.ErrorMessageTracker=Ov;var jd=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(K.MessageType.Error,t)}warn(t){this.send(K.MessageType.Warning,t)}info(t){this.send(K.MessageType.Info,t)}log(t){this.send(K.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(K.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,K.RAL)().console.error("Sending log message failed")})}},Lv=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:K.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(K.ShowMessageRequest.type,n).then(Dv)}showWarningMessage(t,...r){let n={type:K.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(K.ShowMessageRequest.type,n).then(Dv)}showInformationMessage(t,...r){let n={type:K.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(K.ShowMessageRequest.type,n).then(Dv)}},o0=(0,F2.ShowDocumentFeature)((0,ye.ProgressFeature)(Lv)),z2;(function(e){function t(){return new Ud}e.create=t})(z2=Ae.BulkRegistration||(Ae.BulkRegistration={}));var Ud=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=un.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Iv.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},V2;(function(e){function t(){return new Vc(void 0,[])}e.create=t})(V2=Ae.BulkUnregistration||(Ae.BulkUnregistration={}));var Vc=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(K.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=un.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(K.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},Hd=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof Ud?this.registerMany(t):t instanceof Vc?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=un.string(r)?r:r.method,o=Iv.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(K.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=un.string(t)?t:t.method,i=Iv.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(K.RegistrationRequest.type,o).then(s=>K.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(K.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(K.RegistrationRequest.type,r).then(()=>new Vc(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},Mv=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this.connection.sendRequest(K.ApplyWorkspaceEditRequest.type,n)}},s0=(0,q2.FileOperationsFeature)((0,L2.WorkspaceFoldersFeature)((0,O2.ConfigurationFeature)(Mv))),Wd=class{constructor(){this._trace=K.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==K.Trace.Off&&this.connection.sendNotification(K.LogTraceNotification.type,{message:t,verbose:this._trace===K.Trace.Verbose?r:void 0}).catch(()=>{})}},Gd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(K.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},Bd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ye.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ye.attachPartialResult)(this.connection,r)}};Ae._LanguagesImpl=Bd;var a0=(0,K2.MonikerFeature)((0,G2.DiagnosticFeature)((0,W2.InlayHintFeature)((0,H2.InlineValueFeature)((0,U2.TypeHierarchyFeature)((0,j2.LinkedEditingRangeFeature)((0,$2.SemanticTokensFeature)((0,M2.CallHierarchyFeature)(Bd)))))))),Kd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ye.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ye.attachPartialResult)(this.connection,r)}};Ae._NotebooksImpl=Kd;var c0=(0,B2.NotebookSyncFeature)(Kd);function u0(e,t){return function(r){return t(e(r))}}Ae.combineConsoleFeatures=u0;function l0(e,t){return function(r){return t(e(r))}}Ae.combineTelemetryFeatures=l0;function f0(e,t){return function(r){return t(e(r))}}Ae.combineTracerFeatures=f0;function d0(e,t){return function(r){return t(e(r))}}Ae.combineClientFeatures=d0;function p0(e,t){return function(r){return t(e(r))}}Ae.combineWindowFeatures=p0;function h0(e,t){return function(r){return t(e(r))}}Ae.combineWorkspaceFeatures=h0;function m0(e,t){return function(r){return t(e(r))}}Ae.combineLanguagesFeatures=m0;function g0(e,t){return function(r){return t(e(r))}}Ae.combineNotebooksFeatures=g0;function Y2(e,t){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(e.console,t.console,u0),tracer:r(e.tracer,t.tracer,f0),telemetry:r(e.telemetry,t.telemetry,l0),client:r(e.client,t.client,d0),window:r(e.window,t.window,p0),workspace:r(e.workspace,t.workspace,h0),languages:r(e.languages,t.languages,m0),notebooks:r(e.notebooks,t.notebooks,g0)}}Ae.combineFeatures=Y2;function X2(e,t,r){let n=r&&r.console?new(r.console(jd)):new jd,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(Wd)):new Wd,s=r&&r.telemetry?new(r.telemetry(Gd)):new Gd,a=r&&r.client?new(r.client(Hd)):new Hd,c=r&&r.window?new(r.window(o0)):new o0,u=r&&r.workspace?new(r.workspace(s0)):new s0,h=r&&r.languages?new(r.languages(a0)):new a0,g=r&&r.notebooks?new(r.notebooks(c0)):new c0,T=[n,o,s,a,c,u,h,g];function R(p){return p instanceof Promise?p:un.thenable(p)?new Promise((d,_)=>{p.then(q=>d(q),q=>_(q))}):Promise.resolve(p)}let C,A,O,w={listen:()=>i.listen(),sendRequest:(p,...d)=>i.sendRequest(un.string(p)?p:p.method,...d),onRequest:(p,d)=>i.onRequest(p,d),sendNotification:(p,d)=>{let _=un.string(p)?p:p.method;return arguments.length===1?i.sendNotification(_):i.sendNotification(_,d)},onNotification:(p,d)=>i.onNotification(p,d),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:p=>(A=p,{dispose:()=>{A=void 0}}),onInitialized:p=>i.onNotification(K.InitializedNotification.type,p),onShutdown:p=>(C=p,{dispose:()=>{C=void 0}}),onExit:p=>(O=p,{dispose:()=>{O=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return c},get workspace(){return u},get languages(){return h},get notebooks(){return g},onDidChangeConfiguration:p=>i.onNotification(K.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>i.onNotification(K.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>i.onNotification(K.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>i.onNotification(K.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>i.onNotification(K.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>i.onNotification(K.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>i.onRequest(K.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>i.onNotification(K.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>i.sendNotification(K.PublishDiagnosticsNotification.type,p),onHover:p=>i.onRequest(K.HoverRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),onCompletion:p=>i.onRequest(K.CompletionRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onCompletionResolve:p=>i.onRequest(K.CompletionResolveRequest.type,p),onSignatureHelp:p=>i.onRequest(K.SignatureHelpRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),onDeclaration:p=>i.onRequest(K.DeclarationRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onDefinition:p=>i.onRequest(K.DefinitionRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onTypeDefinition:p=>i.onRequest(K.TypeDefinitionRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onImplementation:p=>i.onRequest(K.ImplementationRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onReferences:p=>i.onRequest(K.ReferencesRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onDocumentHighlight:p=>i.onRequest(K.DocumentHighlightRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onDocumentSymbol:p=>i.onRequest(K.DocumentSymbolRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onWorkspaceSymbol:p=>i.onRequest(K.WorkspaceSymbolRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onWorkspaceSymbolResolve:p=>i.onRequest(K.WorkspaceSymbolResolveRequest.type,p),onCodeAction:p=>i.onRequest(K.CodeActionRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onCodeActionResolve:p=>i.onRequest(K.CodeActionResolveRequest.type,(d,_)=>p(d,_)),onCodeLens:p=>i.onRequest(K.CodeLensRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onCodeLensResolve:p=>i.onRequest(K.CodeLensResolveRequest.type,(d,_)=>p(d,_)),onDocumentFormatting:p=>i.onRequest(K.DocumentFormattingRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),onDocumentRangeFormatting:p=>i.onRequest(K.DocumentRangeFormattingRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),onDocumentOnTypeFormatting:p=>i.onRequest(K.DocumentOnTypeFormattingRequest.type,(d,_)=>p(d,_)),onRenameRequest:p=>i.onRequest(K.RenameRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),onPrepareRename:p=>i.onRequest(K.PrepareRenameRequest.type,(d,_)=>p(d,_)),onDocumentLinks:p=>i.onRequest(K.DocumentLinkRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onDocumentLinkResolve:p=>i.onRequest(K.DocumentLinkResolveRequest.type,(d,_)=>p(d,_)),onDocumentColor:p=>i.onRequest(K.DocumentColorRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onColorPresentation:p=>i.onRequest(K.ColorPresentationRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onFoldingRanges:p=>i.onRequest(K.FoldingRangeRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onSelectionRanges:p=>i.onRequest(K.SelectionRangeRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),(0,ye.attachPartialResult)(i,d))),onExecuteCommand:p=>i.onRequest(K.ExecuteCommandRequest.type,(d,_)=>p(d,_,(0,ye.attachWorkDone)(i,d),void 0)),dispose:()=>i.dispose()};for(let p of T)p.attach(w);return i.onRequest(K.InitializeRequest.type,p=>{t.initialize(p),un.string(p.trace)&&(o.trace=K.Trace.fromString(p.trace));for(let d of T)d.initialize(p.capabilities);if(A){let d=A(p,new K.CancellationTokenSource().token,(0,ye.attachWorkDone)(i,p),void 0);return R(d).then(_=>{if(_ instanceof K.ResponseError)return _;let q=_;q||(q={capabilities:{}});let X=q.capabilities;X||(X={},q.capabilities=X),X.textDocumentSync===void 0||X.textDocumentSync===null?X.textDocumentSync=un.number(w.__textDocumentSync)?w.__textDocumentSync:K.TextDocumentSyncKind.None:!un.number(X.textDocumentSync)&&!un.number(X.textDocumentSync.change)&&(X.textDocumentSync.change=un.number(w.__textDocumentSync)?w.__textDocumentSync:K.TextDocumentSyncKind.None);for(let Se of T)Se.fillServerCapabilities(X);return q})}else{let d={capabilities:{textDocumentSync:K.TextDocumentSyncKind.None}};for(let _ of T)_.fillServerCapabilities(d.capabilities);return d}}),i.onRequest(K.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,C)return C(new K.CancellationTokenSource().token)}),i.onNotification(K.ExitNotification.type,()=>{try{O&&O()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(K.SetTraceNotification.type,p=>{o.trace=K.Trace.fromString(p.value)}),w}Ae.createConnection=X2});var $v=P(Zt=>{"use strict";var J2=Zt&&Zt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),v0=Zt&&Zt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&J2(t,e,r)};Object.defineProperty(Zt,"__esModule",{value:!0});Zt.ProposedFeatures=Zt.NotebookDocuments=Zt.TextDocuments=Zt.SemanticTokensBuilder=void 0;var Q2=xv();Object.defineProperty(Zt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return Q2.SemanticTokensBuilder}});v0(jt(),Zt);var Z2=bv();Object.defineProperty(Zt,"TextDocuments",{enumerable:!0,get:function(){return Z2.TextDocuments}});var eK=Sv();Object.defineProperty(Zt,"NotebookDocuments",{enumerable:!0,get:function(){return eK.NotebookDocuments}});v0(y0(),Zt);var tK;(function(e){e.all={__brand:"features"}})(tK=Zt.ProposedFeatures||(Zt.ProposedFeatures={}))});var x0=P((lbe,T0)=>{"use strict";T0.exports=jt()});var _0=P(Qn=>{"use strict";var rK=Qn&&Qn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),b0=Qn&&Qn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rK(t,e,r)};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.createConnection=void 0;var zd=$v();b0(x0(),Qn);b0($v(),Qn);var R0=!1,nK={initialize:e=>{},get shutdownReceived(){return R0},set shutdownReceived(e){R0=e},exit:e=>{}};function iK(e,t,r,n){let i,o,s,a;e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),zd.ConnectionStrategy.is(e)||zd.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=r);let c=u=>(0,zd.createProtocolConnection)(o,s,u,a);return(0,zd.createConnection)(c,nK,i)}Qn.createConnection=iK});var k0=P((dbe,S0)=>{"use strict";S0.exports=_0()});var Sa=P((pbe,Vo)=>{"use strict";function w0(e){return typeof e>"u"||e===null}function oK(e){return typeof e=="object"&&e!==null}function sK(e){return Array.isArray(e)?e:w0(e)?[]:[e]}function aK(e,t){var r,n,i,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)i=o[r],e[i]=t[i];return e}function cK(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function uK(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}Vo.exports.isNothing=w0;Vo.exports.isObject=oK;Vo.exports.toArray=sK;Vo.exports.repeat=cK;Vo.exports.isNegativeZero=uK;Vo.exports.extend=aK});var ka=P((hbe,A0)=>{"use strict";function C0(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function Yc(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=C0(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Yc.prototype=Object.create(Error.prototype);Yc.prototype.constructor=Yc;Yc.prototype.toString=function(t){return this.name+": "+C0(this,t)};A0.exports=Yc});var N0=P((mbe,E0)=>{"use strict";var Xc=Sa();function Fv(e,t,r,n,i){var o="",s="",a=Math.floor(i/2)-1;return n-t>a&&(o=" ... ",t=n-a+o.length),r-n>a&&(s=" ...",r=n+a-s.length),{str:o+e.slice(t,r).replace(/\t/g,"\u2192")+s,pos:n-t+o.length}}function qv(e,t){return Xc.repeat(" ",t-e.length)+e}function lK(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],o,s=-1;o=r.exec(e.buffer);)i.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&s<0&&(s=n.length-2);s<0&&(s=n.length-1);var a="",c,u,h=Math.min(e.line+t.linesAfter,i.length).toString().length,g=t.maxLength-(t.indent+h+3);for(c=1;c<=t.linesBefore&&!(s-c<0);c++)u=Fv(e.buffer,n[s-c],i[s-c],e.position-(n[s]-n[s-c]),g),a=Xc.repeat(" ",t.indent)+qv((e.line-c+1).toString(),h)+" | "+u.str+`
`+a;for(u=Fv(e.buffer,n[s],i[s],e.position,g),a+=Xc.repeat(" ",t.indent)+qv((e.line+1).toString(),h)+" | "+u.str+`
`,a+=Xc.repeat("-",t.indent+h+3+u.pos)+`^
`,c=1;c<=t.linesAfter&&!(s+c>=i.length);c++)u=Fv(e.buffer,n[s+c],i[s+c],e.position-(n[s]-n[s+c]),g),a+=Xc.repeat(" ",t.indent)+qv((e.line+c+1).toString(),h)+" | "+u.str+`
`;return a.replace(/\n$/,"")}E0.exports=lK});var fr=P((gbe,D0)=>{"use strict";var P0=ka(),fK=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],dK=["scalar","sequence","mapping"];function pK(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function hK(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(fK.indexOf(r)===-1)throw new P0('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=pK(t.styleAliases||null),dK.indexOf(this.kind)===-1)throw new P0('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}D0.exports=hK});var Hv=P((ybe,O0)=>{"use strict";var Jc=ka(),jv=fr();function I0(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(o,s){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(i=s)}),r[i]=n}),r}function mK(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Uv(e){return this.extend(e)}Uv.prototype.extend=function(t){var r=[],n=[];if(t instanceof jv)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new Jc("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof jv))throw new Jc("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new Jc("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new Jc("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof jv))throw new Jc("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Uv.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=I0(i,"implicit"),i.compiledExplicit=I0(i,"explicit"),i.compiledTypeMap=mK(i.compiledImplicit,i.compiledExplicit),i};O0.exports=Uv});var Wv=P((vbe,L0)=>{"use strict";var gK=fr();L0.exports=new gK("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var Gv=P((Tbe,M0)=>{"use strict";var yK=fr();M0.exports=new yK("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Bv=P((xbe,$0)=>{"use strict";var vK=fr();$0.exports=new vK("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Kv=P((Rbe,F0)=>{"use strict";var TK=Hv();F0.exports=new TK({explicit:[Wv(),Gv(),Bv()]})});var zv=P((bbe,q0)=>{"use strict";var xK=fr();function RK(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function bK(){return null}function _K(e){return e===null}q0.exports=new xK("tag:yaml.org,2002:null",{kind:"scalar",resolve:RK,construct:bK,predicate:_K,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Vv=P((_be,j0)=>{"use strict";var SK=fr();function kK(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function wK(e){return e==="true"||e==="True"||e==="TRUE"}function CK(e){return Object.prototype.toString.call(e)==="[object Boolean]"}j0.exports=new SK("tag:yaml.org,2002:bool",{kind:"scalar",resolve:kK,construct:wK,predicate:CK,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Yv=P((Sbe,U0)=>{"use strict";var AK=Sa(),EK=fr();function NK(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function PK(e){return 48<=e&&e<=55}function DK(e){return 48<=e&&e<=57}function IK(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!NK(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!PK(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!DK(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function OK(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function LK(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!AK.isNegativeZero(e)}U0.exports=new EK("tag:yaml.org,2002:int",{kind:"scalar",resolve:IK,construct:OK,predicate:LK,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Xv=P((kbe,W0)=>{"use strict";var H0=Sa(),MK=fr(),$K=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function FK(e){return!(e===null||!$K.test(e)||e[e.length-1]==="_")}function qK(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var jK=/^[-+]?[0-9]+e/;function UK(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(H0.isNegativeZero(e))return"-0.0";return r=e.toString(10),jK.test(r)?r.replace("e",".e"):r}function HK(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||H0.isNegativeZero(e))}W0.exports=new MK("tag:yaml.org,2002:float",{kind:"scalar",resolve:FK,construct:qK,predicate:HK,represent:UK,defaultStyle:"lowercase"})});var Jv=P((wbe,G0)=>{"use strict";G0.exports=Kv().extend({implicit:[zv(),Vv(),Yv(),Xv()]})});var Qv=P((Cbe,B0)=>{"use strict";B0.exports=Jv()});var Zv=P((Abe,V0)=>{"use strict";var WK=fr(),K0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),z0=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function GK(e){return e===null?!1:K0.exec(e)!==null||z0.exec(e)!==null}function BK(e){var t,r,n,i,o,s,a,c=0,u=null,h,g,T;if(t=K0.exec(e),t===null&&(t=z0.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(o=+t[4],s=+t[5],a=+t[6],t[7]){for(c=t[7].slice(0,3);c.length<3;)c+="0";c=+c}return t[9]&&(h=+t[10],g=+(t[11]||0),u=(h*60+g)*6e4,t[9]==="-"&&(u=-u)),T=new Date(Date.UTC(r,n,i,o,s,a,c)),u&&T.setTime(T.getTime()-u),T}function KK(e){return e.toISOString()}V0.exports=new WK("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:GK,construct:BK,instanceOf:Date,represent:KK})});var eT=P((Ebe,Y0)=>{"use strict";var zK=fr();function VK(e){return e==="<<"||e===null}Y0.exports=new zK("tag:yaml.org,2002:merge",{kind:"scalar",resolve:VK})});var rT=P((Nbe,X0)=>{"use strict";var YK=fr(),tT=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function XK(e){if(e===null)return!1;var t,r,n=0,i=e.length,o=tT;for(r=0;r<i;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function JK(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,o=tT,s=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)),s=s<<6|o.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(s>>16&255),a.push(s>>8&255),a.push(s&255)):r===18?(a.push(s>>10&255),a.push(s>>2&255)):r===12&&a.push(s>>4&255),new Uint8Array(a)}function QK(e){var t="",r=0,n,i,o=e.length,s=tT;for(n=0;n<o;n++)n%3===0&&n&&(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]),r=(r<<8)+e[n];return i=o%3,i===0?(t+=s[r>>18&63],t+=s[r>>12&63],t+=s[r>>6&63],t+=s[r&63]):i===2?(t+=s[r>>10&63],t+=s[r>>4&63],t+=s[r<<2&63],t+=s[64]):i===1&&(t+=s[r>>2&63],t+=s[r<<4&63],t+=s[64],t+=s[64]),t}function ZK(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}X0.exports=new YK("tag:yaml.org,2002:binary",{kind:"scalar",resolve:XK,construct:JK,predicate:ZK,represent:QK})});var nT=P((Pbe,J0)=>{"use strict";var ez=fr(),tz=Object.prototype.hasOwnProperty,rz=Object.prototype.toString;function nz(e){if(e===null)return!0;var t=[],r,n,i,o,s,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],s=!1,rz.call(i)!=="[object Object]")return!1;for(o in i)if(tz.call(i,o))if(!s)s=!0;else return!1;if(!s)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function iz(e){return e!==null?e:[]}J0.exports=new ez("tag:yaml.org,2002:omap",{kind:"sequence",resolve:nz,construct:iz})});var iT=P((Dbe,Q0)=>{"use strict";var oz=fr(),sz=Object.prototype.toString;function az(e){if(e===null)return!0;var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1){if(n=s[t],sz.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;o[t]=[i[0],n[i[0]]]}return!0}function cz(e){if(e===null)return[];var t,r,n,i,o,s=e;for(o=new Array(s.length),t=0,r=s.length;t<r;t+=1)n=s[t],i=Object.keys(n),o[t]=[i[0],n[i[0]]];return o}Q0.exports=new oz("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:az,construct:cz})});var oT=P((Ibe,Z0)=>{"use strict";var uz=fr(),lz=Object.prototype.hasOwnProperty;function fz(e){if(e===null)return!0;var t,r=e;for(t in r)if(lz.call(r,t)&&r[t]!==null)return!1;return!0}function dz(e){return e!==null?e:{}}Z0.exports=new uz("tag:yaml.org,2002:set",{kind:"mapping",resolve:fz,construct:dz})});var Vd=P((Obe,eN)=>{"use strict";eN.exports=Qv().extend({implicit:[Zv(),eT()],explicit:[rT(),nT(),iT(),oT()]})});var gN=P((Lbe,uT)=>{"use strict";var Xo=Sa(),aN=ka(),pz=N0(),hz=Vd(),mo=Object.prototype.hasOwnProperty,Yd=1,cN=2,uN=3,Xd=4,sT=1,mz=2,tN=3,gz=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,yz=/[\x85\u2028\u2029]/,vz=/[,\[\]\{\}]/,lN=/^(?:!|!!|![a-z\-]+!)$/i,fN=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function rN(e){return Object.prototype.toString.call(e)}function Zn(e){return e===10||e===13}function Jo(e){return e===9||e===32}function qr(e){return e===9||e===32||e===10||e===13}function wa(e){return e===44||e===91||e===93||e===123||e===125}function Tz(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function xz(e){return e===120?2:e===117?4:e===85?8:0}function Rz(e){return 48<=e&&e<=57?e-48:-1}function nN(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function bz(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var dN=new Array(256),pN=new Array(256);for(Yo=0;Yo<256;Yo++)dN[Yo]=nN(Yo)?1:0,pN[Yo]=nN(Yo);var Yo;function _z(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||hz,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function hN(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=pz(r),new aN(t,r)}function se(e,t){throw hN(e,t)}function Jd(e,t){e.onWarning&&e.onWarning.call(null,hN(e,t))}var iN={YAML:function(t,r,n){var i,o,s;t.version!==null&&se(t,"duplication of %YAML directive"),n.length!==1&&se(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&se(t,"ill-formed argument of the YAML directive"),o=parseInt(i[1],10),s=parseInt(i[2],10),o!==1&&se(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=s<2,s!==1&&s!==2&&Jd(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,o;n.length!==2&&se(t,"TAG directive accepts exactly two arguments"),i=n[0],o=n[1],lN.test(i)||se(t,"ill-formed tag handle (first argument) of the TAG directive"),mo.call(t.tagMap,i)&&se(t,'there is a previously declared suffix for "'+i+'" tag handle'),fN.test(o)||se(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{se(t,"tag prefix is malformed: "+o)}t.tagMap[i]=o}};function ho(e,t,r,n){var i,o,s,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,o=a.length;i<o;i+=1)s=a.charCodeAt(i),s===9||32<=s&&s<=1114111||se(e,"expected valid JSON character");else gz.test(a)&&se(e,"the stream contains non-printable characters");e.result+=a}}function oN(e,t,r,n){var i,o,s,a;for(Xo.isObject(r)||se(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),s=0,a=i.length;s<a;s+=1)o=i[s],mo.call(t,o)||(t[o]=r[o],n[o]=!0)}function Ca(e,t,r,n,i,o,s,a,c){var u,h;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),u=0,h=i.length;u<h;u+=1)Array.isArray(i[u])&&se(e,"nested arrays are not supported inside keys"),typeof i=="object"&&rN(i[u])==="[object Object]"&&(i[u]="[object Object]");if(typeof i=="object"&&rN(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(u=0,h=o.length;u<h;u+=1)oN(e,t,o[u],r);else oN(e,t,o,r);else!e.json&&!mo.call(r,i)&&mo.call(t,i)&&(e.line=s||e.line,e.lineStart=a||e.lineStart,e.position=c||e.position,se(e,"duplicated mapping key")),i==="__proto__"?Object.defineProperty(t,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):t[i]=o,delete r[i];return t}function aT(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):se(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ot(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;Jo(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(Zn(i))for(aT(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Jd(e,"deficient indentation"),n}function Qd(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||qr(r)))}function cT(e,t){t===1?e.result+=" ":t>1&&(e.result+=Xo.repeat(`
`,t-1))}function Sz(e,t,r){var n,i,o,s,a,c,u,h,g=e.kind,T=e.result,R;if(R=e.input.charCodeAt(e.position),qr(R)||wa(R)||R===35||R===38||R===42||R===33||R===124||R===62||R===39||R===34||R===37||R===64||R===96||(R===63||R===45)&&(i=e.input.charCodeAt(e.position+1),qr(i)||r&&wa(i)))return!1;for(e.kind="scalar",e.result="",o=s=e.position,a=!1;R!==0;){if(R===58){if(i=e.input.charCodeAt(e.position+1),qr(i)||r&&wa(i))break}else if(R===35){if(n=e.input.charCodeAt(e.position-1),qr(n))break}else{if(e.position===e.lineStart&&Qd(e)||r&&wa(R))break;if(Zn(R))if(c=e.line,u=e.lineStart,h=e.lineIndent,Ot(e,!1,-1),e.lineIndent>=t){a=!0,R=e.input.charCodeAt(e.position);continue}else{e.position=s,e.line=c,e.lineStart=u,e.lineIndent=h;break}}a&&(ho(e,o,s,!1),cT(e,e.line-c),o=s=e.position,a=!1),Jo(R)||(s=e.position+1),R=e.input.charCodeAt(++e.position)}return ho(e,o,s,!1),e.result?!0:(e.kind=g,e.result=T,!1)}function kz(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(ho(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else Zn(r)?(ho(e,n,i,!0),cT(e,Ot(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Qd(e)?se(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);se(e,"unexpected end of the stream within a single quoted scalar")}function wz(e,t){var r,n,i,o,s,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return ho(e,r,e.position,!0),e.position++,!0;if(a===92){if(ho(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),Zn(a))Ot(e,!1,t);else if(a<256&&dN[a])e.result+=pN[a],e.position++;else if((s=xz(a))>0){for(i=s,o=0;i>0;i--)a=e.input.charCodeAt(++e.position),(s=Tz(a))>=0?o=(o<<4)+s:se(e,"expected hexadecimal character");e.result+=bz(o),e.position++}else se(e,"unknown escape sequence");r=n=e.position}else Zn(a)?(ho(e,r,n,!0),cT(e,Ot(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Qd(e)?se(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}se(e,"unexpected end of the stream within a double quoted scalar")}function Cz(e,t){var r=!0,n,i,o,s=e.tag,a,c=e.anchor,u,h,g,T,R,C=Object.create(null),A,O,w,p;if(p=e.input.charCodeAt(e.position),p===91)h=93,R=!1,a=[];else if(p===123)h=125,R=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),p=e.input.charCodeAt(++e.position);p!==0;){if(Ot(e,!0,t),p=e.input.charCodeAt(e.position),p===h)return e.position++,e.tag=s,e.anchor=c,e.kind=R?"mapping":"sequence",e.result=a,!0;r?p===44&&se(e,"expected the node content, but found ','"):se(e,"missed comma between flow collection entries"),O=A=w=null,g=T=!1,p===63&&(u=e.input.charCodeAt(e.position+1),qr(u)&&(g=T=!0,e.position++,Ot(e,!0,t))),n=e.line,i=e.lineStart,o=e.position,Aa(e,t,Yd,!1,!0),O=e.tag,A=e.result,Ot(e,!0,t),p=e.input.charCodeAt(e.position),(T||e.line===n)&&p===58&&(g=!0,p=e.input.charCodeAt(++e.position),Ot(e,!0,t),Aa(e,t,Yd,!1,!0),w=e.result),R?Ca(e,a,C,O,A,w,n,i,o):g?a.push(Ca(e,null,C,O,A,w,n,i,o)):a.push(A),Ot(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}se(e,"unexpected end of the stream within a flow collection")}function Az(e,t){var r,n,i=sT,o=!1,s=!1,a=t,c=0,u=!1,h,g;if(g=e.input.charCodeAt(e.position),g===124)n=!1;else if(g===62)n=!0;else return!1;for(e.kind="scalar",e.result="";g!==0;)if(g=e.input.charCodeAt(++e.position),g===43||g===45)sT===i?i=g===43?tN:mz:se(e,"repeat of a chomping mode identifier");else if((h=Rz(g))>=0)h===0?se(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):s?se(e,"repeat of an indentation width identifier"):(a=t+h-1,s=!0);else break;if(Jo(g)){do g=e.input.charCodeAt(++e.position);while(Jo(g));if(g===35)do g=e.input.charCodeAt(++e.position);while(!Zn(g)&&g!==0)}for(;g!==0;){for(aT(e),e.lineIndent=0,g=e.input.charCodeAt(e.position);(!s||e.lineIndent<a)&&g===32;)e.lineIndent++,g=e.input.charCodeAt(++e.position);if(!s&&e.lineIndent>a&&(a=e.lineIndent),Zn(g)){c++;continue}if(e.lineIndent<a){i===tN?e.result+=Xo.repeat(`
`,o?1+c:c):i===sT&&o&&(e.result+=`
`);break}for(n?Jo(g)?(u=!0,e.result+=Xo.repeat(`
`,o?1+c:c)):u?(u=!1,e.result+=Xo.repeat(`
`,c+1)):c===0?o&&(e.result+=" "):e.result+=Xo.repeat(`
`,c):e.result+=Xo.repeat(`
`,o?1+c:c),o=!0,s=!0,c=0,r=e.position;!Zn(g)&&g!==0;)g=e.input.charCodeAt(++e.position);ho(e,r,e.position,!1)}return!0}function sN(e,t){var r,n=e.tag,i=e.anchor,o=[],s,a=!1,c;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),c=e.input.charCodeAt(e.position);c!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),!(c!==45||(s=e.input.charCodeAt(e.position+1),!qr(s))));){if(a=!0,e.position++,Ot(e,!0,-1)&&e.lineIndent<=t){o.push(null),c=e.input.charCodeAt(e.position);continue}if(r=e.line,Aa(e,t,uN,!1,!0),o.push(e.result),Ot(e,!0,-1),c=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&c!==0)se(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=o,!0):!1}function Ez(e,t,r){var n,i,o,s,a,c,u=e.tag,h=e.anchor,g={},T=Object.create(null),R=null,C=null,A=null,O=!1,w=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=g),p=e.input.charCodeAt(e.position);p!==0;){if(!O&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,se(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(p===63||p===58)&&qr(n))p===63?(O&&(Ca(e,g,T,R,C,null,s,a,c),R=C=A=null),w=!0,O=!0,i=!0):O?(O=!1,i=!0):se(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(s=e.line,a=e.lineStart,c=e.position,!Aa(e,r,cN,!1,!0))break;if(e.line===o){for(p=e.input.charCodeAt(e.position);Jo(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),qr(p)||se(e,"a whitespace character is expected after the key-value separator within a block mapping"),O&&(Ca(e,g,T,R,C,null,s,a,c),R=C=A=null),w=!0,O=!1,i=!1,R=e.tag,C=e.result;else if(w)se(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=u,e.anchor=h,!0}else if(w)se(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=u,e.anchor=h,!0}if((e.line===o||e.lineIndent>t)&&(O&&(s=e.line,a=e.lineStart,c=e.position),Aa(e,t,Xd,!0,i)&&(O?C=e.result:A=e.result),O||(Ca(e,g,T,R,C,A,s,a,c),R=C=A=null),Ot(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&p!==0)se(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return O&&Ca(e,g,T,R,C,null,s,a,c),w&&(e.tag=u,e.anchor=h,e.kind="mapping",e.result=g),w}function Nz(e){var t,r=!1,n=!1,i,o,s;if(s=e.input.charCodeAt(e.position),s!==33)return!1;if(e.tag!==null&&se(e,"duplication of a tag property"),s=e.input.charCodeAt(++e.position),s===60?(r=!0,s=e.input.charCodeAt(++e.position)):s===33?(n=!0,i="!!",s=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do s=e.input.charCodeAt(++e.position);while(s!==0&&s!==62);e.position<e.length?(o=e.input.slice(t,e.position),s=e.input.charCodeAt(++e.position)):se(e,"unexpected end of the stream within a verbatim tag")}else{for(;s!==0&&!qr(s);)s===33&&(n?se(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),lN.test(i)||se(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),s=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),vz.test(o)&&se(e,"tag suffix cannot contain flow indicator characters")}o&&!fN.test(o)&&se(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{se(e,"tag name is malformed: "+o)}return r?e.tag=o:mo.call(e.tagMap,i)?e.tag=e.tagMap[i]+o:i==="!"?e.tag="!"+o:i==="!!"?e.tag="tag:yaml.org,2002:"+o:se(e,'undeclared tag handle "'+i+'"'),!0}function Pz(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&se(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!qr(r)&&!wa(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Dz(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!qr(n)&&!wa(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&se(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),mo.call(e.anchorMap,r)||se(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ot(e,!0,-1),!0}function Aa(e,t,r,n,i){var o,s,a,c=1,u=!1,h=!1,g,T,R,C,A,O;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=s=a=Xd===r||uN===r,n&&Ot(e,!0,-1)&&(u=!0,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)),c===1)for(;Nz(e)||Pz(e);)Ot(e,!0,-1)?(u=!0,a=o,e.lineIndent>t?c=1:e.lineIndent===t?c=0:e.lineIndent<t&&(c=-1)):a=!1;if(a&&(a=u||i),(c===1||Xd===r)&&(Yd===r||cN===r?A=t:A=t+1,O=e.position-e.lineStart,c===1?a&&(sN(e,O)||Ez(e,O,A))||Cz(e,A)?h=!0:(s&&Az(e,A)||kz(e,A)||wz(e,A)?h=!0:Dz(e)?(h=!0,(e.tag!==null||e.anchor!==null)&&se(e,"alias node should not have any properties")):Sz(e,A,Yd===r)&&(h=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):c===0&&(h=a&&sN(e,O))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&se(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,T=e.implicitTypes.length;g<T;g+=1)if(C=e.implicitTypes[g],C.resolve(e.result)){e.result=C.construct(e.result),e.tag=C.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(mo.call(e.typeMap[e.kind||"fallback"],e.tag))C=e.typeMap[e.kind||"fallback"][e.tag];else for(C=null,R=e.typeMap.multi[e.kind||"fallback"],g=0,T=R.length;g<T;g+=1)if(e.tag.slice(0,R[g].tag.length)===R[g].tag){C=R[g];break}C||se(e,"unknown tag !<"+e.tag+">"),e.result!==null&&C.kind!==e.kind&&se(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+C.kind+'", not "'+e.kind+'"'),C.resolve(e.result,e.tag)?(e.result=C.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):se(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||h}function Iz(e){var t=e.position,r,n,i,o=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(s=e.input.charCodeAt(e.position))!==0&&(Ot(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(o=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!qr(s);)s=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&se(e,"directive name must not be less than one character in length");s!==0;){for(;Jo(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!Zn(s));break}if(Zn(s))break;for(r=e.position;s!==0&&!qr(s);)s=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}s!==0&&aT(e),mo.call(iN,n)?iN[n](e,n,i):Jd(e,'unknown document directive "'+n+'"')}if(Ot(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ot(e,!0,-1)):o&&se(e,"directives end mark is expected"),Aa(e,e.lineIndent-1,Xd,!1,!0),Ot(e,!0,-1),e.checkLineBreaks&&yz.test(e.input.slice(t,e.position))&&Jd(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Qd(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ot(e,!0,-1));return}if(e.position<e.length-1)se(e,"end of the stream or a document separator is expected");else return}function mN(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new _z(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,se(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)Iz(r);return r.documents}function Oz(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=mN(e,r);if(typeof t!="function")return n;for(var i=0,o=n.length;i<o;i+=1)t(n[i])}function Lz(e,t){var r=mN(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new aN("expected a single document in the stream, but found more")}}uT.exports.loadAll=Oz;uT.exports.load=Lz});var $N=P((Mbe,MN)=>{"use strict";var tp=Sa(),ru=ka(),Mz=Vd(),kN=Object.prototype.toString,wN=Object.prototype.hasOwnProperty,hT=65279,$z=9,Zc=10,Fz=13,qz=32,jz=33,Uz=34,lT=35,Hz=37,Wz=38,Gz=39,Bz=42,CN=44,Kz=45,Zd=58,zz=61,Vz=62,Yz=63,Xz=64,AN=91,EN=93,Jz=96,NN=123,Qz=124,PN=125,dr={};dr[0]="\\0";dr[7]="\\a";dr[8]="\\b";dr[9]="\\t";dr[10]="\\n";dr[11]="\\v";dr[12]="\\f";dr[13]="\\r";dr[27]="\\e";dr[34]='\\"';dr[92]="\\\\";dr[133]="\\N";dr[160]="\\_";dr[8232]="\\L";dr[8233]="\\P";var Zz=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],e3=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function t3(e,t){var r,n,i,o,s,a,c;if(t===null)return{};for(r={},n=Object.keys(t),i=0,o=n.length;i<o;i+=1)s=n[i],a=String(t[s]),s.slice(0,2)==="!!"&&(s="tag:yaml.org,2002:"+s.slice(2)),c=e.compiledTypeMap.fallback[s],c&&wN.call(c.styleAliases,a)&&(a=c.styleAliases[a]),r[s]=a;return r}function r3(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ru("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+tp.repeat("0",n-t.length)+t}var n3=1,eu=2;function i3(e){this.schema=e.schema||Mz,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=tp.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=t3(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?eu:n3,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function yN(e,t){for(var r=tp.repeat(" ",t),n=0,i=-1,o="",s,a=e.length;n<a;)i=e.indexOf(`
`,n),i===-1?(s=e.slice(n),n=a):(s=e.slice(n,i+1),n=i+1),s.length&&s!==`
`&&(o+=r),o+=s;return o}function fT(e,t){return`
`+tp.repeat(" ",e.indent*t)}function o3(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function ep(e){return e===qz||e===$z}function tu(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==hT||65536<=e&&e<=1114111}function vN(e){return tu(e)&&e!==hT&&e!==Fz&&e!==Zc}function TN(e,t,r){var n=vN(e),i=n&&!ep(e);return(r?n:n&&e!==CN&&e!==AN&&e!==EN&&e!==NN&&e!==PN)&&e!==lT&&!(t===Zd&&!i)||vN(t)&&!ep(t)&&e===lT||t===Zd&&i}function s3(e){return tu(e)&&e!==hT&&!ep(e)&&e!==Kz&&e!==Yz&&e!==Zd&&e!==CN&&e!==AN&&e!==EN&&e!==NN&&e!==PN&&e!==lT&&e!==Wz&&e!==Bz&&e!==jz&&e!==Qz&&e!==zz&&e!==Vz&&e!==Gz&&e!==Uz&&e!==Hz&&e!==Xz&&e!==Jz}function a3(e){return!ep(e)&&e!==Zd}function Qc(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function DN(e){var t=/^\n* /;return t.test(e)}var IN=1,dT=2,ON=3,LN=4,Ea=5;function c3(e,t,r,n,i,o,s,a){var c,u=0,h=null,g=!1,T=!1,R=n!==-1,C=-1,A=s3(Qc(e,0))&&a3(Qc(e,e.length-1));if(t||s)for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Qc(e,c),!tu(u))return Ea;A=A&&TN(u,h,a),h=u}else{for(c=0;c<e.length;u>=65536?c+=2:c++){if(u=Qc(e,c),u===Zc)g=!0,R&&(T=T||c-C-1>n&&e[C+1]!==" ",C=c);else if(!tu(u))return Ea;A=A&&TN(u,h,a),h=u}T=T||R&&c-C-1>n&&e[C+1]!==" "}return!g&&!T?A&&!s&&!i(e)?IN:o===eu?Ea:dT:r>9&&DN(e)?Ea:s?o===eu?Ea:dT:T?LN:ON}function u3(e,t,r,n,i){e.dump=function(){if(t.length===0)return e.quotingType===eu?'""':"''";if(!e.noCompatMode&&(Zz.indexOf(t)!==-1||e3.test(t)))return e.quotingType===eu?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),s=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),a=n||e.flowLevel>-1&&r>=e.flowLevel;function c(u){return o3(e,u)}switch(c3(t,a,e.indent,s,c,e.quotingType,e.forceQuotes&&!n,i)){case IN:return t;case dT:return"'"+t.replace(/'/g,"''")+"'";case ON:return"|"+xN(t,e.indent)+RN(yN(t,o));case LN:return">"+xN(t,e.indent)+RN(yN(l3(t,s),o));case Ea:return'"'+f3(t,s)+'"';default:throw new ru("impossible error: invalid scalar style")}}()}function xN(e,t){var r=DN(e)?String(t):"",n=e[e.length-1]===`
`,i=n&&(e[e.length-2]===`
`||e===`
`),o=i?"+":n?"":"-";return r+o+`
`}function RN(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function l3(e,t){for(var r=/(\n+)([^\n]*)/g,n=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,bN(e.slice(0,u),t)}(),i=e[0]===`
`||e[0]===" ",o,s;s=r.exec(e);){var a=s[1],c=s[2];o=c[0]===" ",n+=a+(!i&&!o&&c!==""?`
`:"")+bN(c,t),i=o}return n}function bN(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,o,s=0,a=0,c="";n=r.exec(e);)a=n.index,a-i>t&&(o=s>i?s:a,c+=`
`+e.slice(i,o),i=o+1),s=a;return c+=`
`,e.length-i>t&&s>i?c+=e.slice(i,s)+`
`+e.slice(s+1):c+=e.slice(i),c.slice(1)}function f3(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=Qc(e,i),n=dr[r],!n&&tu(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||r3(r);return t}function d3(e,t,r){var n="",i=e.tag,o,s,a;for(o=0,s=r.length;o<s;o+=1)a=r[o],e.replacer&&(a=e.replacer.call(r,String(o),a)),(ki(e,t,a,!1,!1)||typeof a>"u"&&ki(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function _N(e,t,r,n){var i="",o=e.tag,s,a,c;for(s=0,a=r.length;s<a;s+=1)c=r[s],e.replacer&&(c=e.replacer.call(r,String(s),c)),(ki(e,t+1,c,!0,!0,!1,!0)||typeof c>"u"&&ki(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=fT(e,t)),e.dump&&Zc===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=o,e.dump=i||"[]"}function p3(e,t,r){var n="",i=e.tag,o=Object.keys(r),s,a,c,u,h;for(s=0,a=o.length;s<a;s+=1)h="",n!==""&&(h+=", "),e.condenseFlow&&(h+='"'),c=o[s],u=r[c],e.replacer&&(u=e.replacer.call(r,c,u)),ki(e,t,c,!1,!1)&&(e.dump.length>1024&&(h+="? "),h+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ki(e,t,u,!1,!1)&&(h+=e.dump,n+=h));e.tag=i,e.dump="{"+n+"}"}function h3(e,t,r,n){var i="",o=e.tag,s=Object.keys(r),a,c,u,h,g,T;if(e.sortKeys===!0)s.sort();else if(typeof e.sortKeys=="function")s.sort(e.sortKeys);else if(e.sortKeys)throw new ru("sortKeys must be a boolean or a function");for(a=0,c=s.length;a<c;a+=1)T="",(!n||i!=="")&&(T+=fT(e,t)),u=s[a],h=r[u],e.replacer&&(h=e.replacer.call(r,u,h)),ki(e,t+1,u,!0,!0,!0)&&(g=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,g&&(e.dump&&Zc===e.dump.charCodeAt(0)?T+="?":T+="? "),T+=e.dump,g&&(T+=fT(e,t)),ki(e,t+1,h,!0,g)&&(e.dump&&Zc===e.dump.charCodeAt(0)?T+=":":T+=": ",T+=e.dump,i+=T));e.tag=o,e.dump=i||"{}"}function SN(e,t,r){var n,i,o,s,a,c;for(i=r?e.explicitTypes:e.implicitTypes,o=0,s=i.length;o<s;o+=1)if(a=i[o],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(c=e.styleMap[a.tag]||a.defaultStyle,kN.call(a.represent)==="[object Function]")n=a.represent(t,c);else if(wN.call(a.represent,c))n=a.represent[c](t,c);else throw new ru("!<"+a.tag+'> tag resolver accepts not "'+c+'" style');e.dump=n}return!0}return!1}function ki(e,t,r,n,i,o,s){e.tag=null,e.dump=r,SN(e,r,!1)||SN(e,r,!0);var a=kN.call(e.dump),c=n,u;n&&(n=e.flowLevel<0||e.flowLevel>t);var h=a==="[object Object]"||a==="[object Array]",g,T;if(h&&(g=e.duplicates.indexOf(r),T=g!==-1),(e.tag!==null&&e.tag!=="?"||T||e.indent!==2&&t>0)&&(i=!1),T&&e.usedDuplicates[g])e.dump="*ref_"+g;else{if(h&&T&&!e.usedDuplicates[g]&&(e.usedDuplicates[g]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(h3(e,t,e.dump,i),T&&(e.dump="&ref_"+g+e.dump)):(p3(e,t,e.dump),T&&(e.dump="&ref_"+g+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!s&&t>0?_N(e,t-1,e.dump,i):_N(e,t,e.dump,i),T&&(e.dump="&ref_"+g+e.dump)):(d3(e,t,e.dump),T&&(e.dump="&ref_"+g+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&u3(e,e.dump,t,o,c);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ru("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(u=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?u="!"+u:u.slice(0,18)==="tag:yaml.org,2002:"?u="!!"+u.slice(18):u="!<"+u+">",e.dump=u+" "+e.dump)}return!0}function m3(e,t){var r=[],n=[],i,o;for(pT(e,r,n),i=0,o=n.length;i<o;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(o)}function pT(e,t,r){var n,i,o;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,o=e.length;i<o;i+=1)pT(e[i],t,r);else for(n=Object.keys(e),i=0,o=n.length;i<o;i+=1)pT(e[n[i]],t,r)}function g3(e,t){t=t||{};var r=new i3(t);r.noRefs||m3(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),ki(r,0,n,!0,!0)?r.dump+`
`:""}MN.exports.dump=g3});var qN=P(($be,Cr)=>{"use strict";var FN=gN(),y3=$N();function mT(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Cr.exports.Type=fr();Cr.exports.Schema=Hv();Cr.exports.FAILSAFE_SCHEMA=Kv();Cr.exports.JSON_SCHEMA=Jv();Cr.exports.CORE_SCHEMA=Qv();Cr.exports.DEFAULT_SCHEMA=Vd();Cr.exports.load=FN.load;Cr.exports.loadAll=FN.loadAll;Cr.exports.dump=y3.dump;Cr.exports.YAMLException=ka();Cr.exports.types={binary:rT(),float:Xv(),map:Bv(),null:zv(),pairs:iT(),set:oT(),timestamp:Zv(),bool:Vv(),int:Yv(),merge:eT(),omap:nT(),seq:Gv(),str:Wv()};Cr.exports.safeLoad=mT("safeLoad","load");Cr.exports.safeLoadAll=mT("safeLoadAll","loadAll");Cr.exports.safeDump=mT("safeDump","dump")});var vT=Ne(rp("file:///home/jyj/vela-demo/aom/node_modules/.pnpm/jiti@1.21.0/node_modules/jiti/lib/index.js"),1),W=(0,vT.default)(null,{interopDefault:!0,esmResolve:!0})("/home/jyj/vela-demo/aom/packages/aom-core/src/index.ts"),k3=W.URI,w3=W.UriUtils,C3=W.AppError,A3=W.DiagnosticError,E3=W.InternalError,TT=W.ir,N3=W.parser,P3=W.runtime,xT=W.services,D3=W.ft_utils,I3=W.types,O3=W.convertToAOM,L3=W.makeIrService,M3=W.ApiService,$3=W.convertFromAst,F3=W.AOM_VERSION,q3=W.VelaApiStyle,j3=W.TFApiStyle,U3=W.isAtomicValue,H3=W.validateValue,W3=W.validateBlock,G3=W.AOMGrammar,B3=W.AOMGeneratedModule,K3=W.AOMLanguageMetaData,z3=W.AomGeneratedSharedModule,V3=W.ast,Y3=W.AomTerminals,X3=W.AppBlock,J3=W.isAppBlock,Q3=W.Block,Z3=W.isBlock,eV=W.CompCompBlock,tV=W.isCompCompBlock,rV=W.Expr,nV=W.isExpr,iV=W.Literal,oV=W.isLiteral,sV=W.AppDefBlock,aV=W.isAppDefBlock,cV=W.BlockExpr,uV=W.isBlockExpr,lV=W.CompBlock,fV=W.isCompBlock,dV=W.CompDefBlock,pV=W.isCompDefBlock,hV=W.DataBlock,mV=W.isDataBlock,gV=W.Fn,yV=W.isFn,vV=W.ListExpr,TV=W.isListExpr,xV=W.LiteralBool,RV=W.isLiteralBool,bV=W.LiteralFloat,_V=W.isLiteralFloat,SV=W.LiteralInt,kV=W.isLiteralInt,wV=W.LiteralString,CV=W.isLiteralString,AV=W.Model,EV=W.isModel,NV=W.ModelImport,PV=W.isModelImport,DV=W.PolicyBlock,IV=W.isPolicyBlock,OV=W.Property,LV=W.isProperty,MV=W.ProviderBlock,$V=W.isProviderBlock,FV=W.QualifiedName,qV=W.isQualifiedName,jV=W.ResourceBlock,UV=W.isResourceBlock,HV=W.SecretDefBlock,WV=W.isSecretDefBlock,GV=W.WorkflowBlock,BV=W.isWorkflowBlock,KV=W.AomAstReflection,zV=W.reflection,VV=W.parse,YV=W.createAomServices,XV=W.readableToStream,JV=W.StringPrinter;var CW=Ne(Me(),1);var kl=class e{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=M_(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),u=this._lineOffsets,h=L_(n.text,!1,o);if(c-a===h.length)for(let T=0,R=h.length;T<R;T++)u[T+a+1]=h[T];else h.length<1e4?u.splice(a+1,c-a,...h):this._lineOffsets=u=u.slice(0,a+1).concat(h,u.slice(c+1));let g=n.text.length-(s-o);if(g!==0)for(let T=a+1+h.length,R=u.length;T<R;T++)u[T]=u[T]+g}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=L_(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let o=n-1;return{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},wl;(function(e){function t(i,o,s,a){return new kl(i,o,s,a)}e.create=t;function r(i,o,s){if(i instanceof kl)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(i,o){let s=i.getText(),a=Vm(o.map(YD),(h,g)=>{let T=h.range.start.line-g.range.start.line;return T===0?h.range.start.character-g.range.start.character:T}),c=0,u=[];for(let h of a){let g=i.offsetAt(h.range.start);if(g<c)throw new Error("Overlapping edit");g>c&&u.push(s.substring(c,g)),h.newText.length&&u.push(h.newText),c=i.offsetAt(h.range.end)}return u.push(s.substr(c)),u.join("")}e.applyEdits=n})(wl||(wl={}));function Vm(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);Vm(n,t),Vm(i,t);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)t(n[o],i[s])<=0?e[a++]=n[o++]:e[a++]=i[s++];for(;o<n.length;)e[a++]=n[o++];for(;s<i.length;)e[a++]=i[s++];return e}function L_(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function M_(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function YD(e){let t=M_(e.range);return t!==e.range?{newText:e.newText,range:t}:e}function ks(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}var ec=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return ks(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});let i=n[r];if(i!==void 0)return i;{let o=this.computeIsSubtype(t,r);return n[r]=o,o}}getAllSubTypes(t){let r=this.allSubtypes[t];if(r)return r;{let n=this.getAllTypes(),i=[];for(let o of n)this.isSubtype(o,t)&&i.push(o);return this.allSubtypes[t]=i,i}}};var oi=class e{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new e(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return mn})}join(t=","){let r=this.iterator(),n="",i,o=!1;do i=r.next(),i.done||(o&&(n+=t),n+=XD(i.value)),o=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,o=n.next();for(;!o.done;){if(i>=r&&o.value===t)return i;o=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new e(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?mn:{done:!1,value:t(i)}})}filter(t){return new e(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return mn})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,o=n.next();for(;!o.done;)i===void 0?i=o.value:i=t(i,o.value),o=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let o=this.recursiveReduce(t,r,n);return o===void 0?i.value:r(o,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new e(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let o=r.iterator.next();if(o.done)r.iterator=void 0;else return o}let{done:n,value:i}=this.nextFn(r.this);if(!n){let o=t(i);if(Cl(o))r.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(r.iterator);return mn})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}let{done:i,value:o}=r.nextFn(n.this);if(!i)if(Cl(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(n.iterator);return mn})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new e(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new e(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?mn:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let o=r?r(i):i;n.add(o)}return this.filter(i=>{let o=r?r(i):i;return!n.has(o)})}};function XD(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Cl(e){return!!e&&typeof e[Symbol.iterator]=="function"}var Ym=new oi(()=>{},()=>mn),mn=Object.freeze({done:!0,value:void 0});function xt(...e){if(e.length===1){let t=e[0];if(t instanceof oi)return t;if(Cl(t))return new oi(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new oi(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:mn)}return e.length>1?new oi(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Cl(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return mn}):Ym}var Al;(function(e){function t(o){return o.reduce((s,a)=>s+a,0)}e.sum=t;function r(o){return o.reduce((s,a)=>s*a,0)}e.product=r;function n(o){return o.reduce((s,a)=>Math.min(s,a))}e.min=n;function i(o){return o.reduce((s,a)=>Math.max(s,a))}e.max=i})(Al||(Al={}));var $_;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})($_||($_={}));var L6=Symbol("isProxy");var M6=Symbol();var gn=class{constructor(t){if(this.map=new Map,t)for(let[r,n]of t)this.add(r,n)}get size(){return Al.sum(xt(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{let n=this.map.get(t);if(n){let i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{let n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return xt(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return xt(this.map.keys())}values(){return xt(this.map.values()).flat()}entriesGroupedByKey(){return xt(this.map.entries())}};var Qm="AbstractRule";var tc="AbstractType";var QD="Condition";var ZD="TypeDefinition";var F_="AbstractElement";var eI="ArrayType";var tI="Conjunction";var rI="Disjunction";var nI="Grammar";var j_="Interface";var iI="LiteralCondition";var oI="Negation";var sI="Parameter";var aI="ParameterReference";var cI="ParserRule";var uI="ReferenceType";var lI="SimpleType";var q_="TerminalRule";var U_="Type";var fI="UnionType";var dI="Action";var pI="Alternatives";var hI="Assignment";var mI="CharacterRange";var gI="CrossReference";var yI="EndOfFile";var vI="Group";var TI="Keyword";var xI="NegatedToken";var RI="RegexToken";var bI="RuleCall";var _I="TerminalAlternatives";var SI="TerminalGroup";var kI="TerminalRuleCall";var wI="UnorderedGroup";var CI="UntilToken";var AI="Wildcard";var El=class extends ec{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayType","Assignment","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","LiteralCondition","NamedArgument","NegatedToken","Negation","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","Wildcard"]}computeIsSubtype(t,r){switch(t){case dI:return this.isSubtype(F_,r)||this.isSubtype(tc,r);case pI:case hI:case mI:case gI:case yI:case vI:case TI:case xI:case RI:case bI:case _I:case SI:case kI:case wI:case CI:case AI:return this.isSubtype(F_,r);case eI:case uI:case lI:case fI:return this.isSubtype(ZD,r);case tI:case rI:case iI:case oI:case aI:return this.isSubtype(QD,r);case j_:case U_:return this.isSubtype(tc,r);case cI:return this.isSubtype(Qm,r)||this.isSubtype(tc,r);case q_:return this.isSubtype(Qm,r);default:return!1}}getReferenceType(t){let r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return tc;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return Qm;case"Grammar:usedGrammars":return nI;case"NamedArgument:parameter":case"ParameterReference:parameter":return sI;case"TerminalRuleCall:rule":return q_;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"Grammar":return{name:"Grammar",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"imports",type:"array"},{name:"interfaces",type:"array"},{name:"isDeclared",type:"boolean"},{name:"rules",type:"array"},{name:"types",type:"array"},{name:"usedGrammars",type:"array"}]};case"Interface":return{name:"Interface",mandatory:[{name:"attributes",type:"array"},{name:"superTypes",type:"array"}]};case"LiteralCondition":return{name:"LiteralCondition",mandatory:[{name:"true",type:"boolean"}]};case"NamedArgument":return{name:"NamedArgument",mandatory:[{name:"calledByName",type:"boolean"}]};case"ParserRule":return{name:"ParserRule",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"entry",type:"boolean"},{name:"fragment",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"parameters",type:"array"},{name:"wildcard",type:"boolean"}]};case"TerminalRule":return{name:"TerminalRule",mandatory:[{name:"fragment",type:"boolean"},{name:"hidden",type:"boolean"}]};case"TypeAttribute":return{name:"TypeAttribute",mandatory:[{name:"isOptional",type:"boolean"}]};case"UnionType":return{name:"UnionType",mandatory:[{name:"types",type:"array"}]};case"Alternatives":return{name:"Alternatives",mandatory:[{name:"elements",type:"array"}]};case"CrossReference":return{name:"CrossReference",mandatory:[{name:"deprecatedSyntax",type:"boolean"}]};case"Group":return{name:"Group",mandatory:[{name:"elements",type:"array"}]};case"RuleCall":return{name:"RuleCall",mandatory:[{name:"arguments",type:"array"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",mandatory:[{name:"elements",type:"array"}]};case"TerminalGroup":return{name:"TerminalGroup",mandatory:[{name:"elements",type:"array"}]};case"UnorderedGroup":return{name:"UnorderedGroup",mandatory:[{name:"elements",type:"array"}]};default:return{name:t,mandatory:[]}}}},U6=new El;var r8=Object.freeze("__\xABSKIP^NEW^LINE^IF^EMPTY\xBB__");var W_=typeof process>"u"?`
`:process.platform==="win32"?`\r
`:`
`;var rc=class{constructor(t,r=!1){this.ifNotEmpty=!1,this.lineDelimiter=t??W_,this.ifNotEmpty=r}},OI=new rc,h8=new rc(void 0,!0);function fe(e){return e.charCodeAt(0)}function Dl(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function Cs(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function No(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function ic(){throw Error("Internal Error - Should never get here!")}function tg(e){return e.type==="Character"}var oc=[];for(let e=fe("0");e<=fe("9");e++)oc.push(e);var sc=[fe("_")].concat(oc);for(let e=fe("a");e<=fe("z");e++)sc.push(e);for(let e=fe("A");e<=fe("Z");e++)sc.push(e);var rg=[fe(" "),fe("\f"),fe(`
`),fe("\r"),fe("	"),fe("\v"),fe("	"),fe("\xA0"),fe("\u1680"),fe("\u2000"),fe("\u2001"),fe("\u2002"),fe("\u2003"),fe("\u2004"),fe("\u2005"),fe("\u2006"),fe("\u2007"),fe("\u2008"),fe("\u2009"),fe("\u200A"),fe("\u2028"),fe("\u2029"),fe("\u202F"),fe("\u205F"),fe("\u3000"),fe("\uFEFF")];var FI=/[0-9a-fA-F]/,Il=/[0-9]/,qI=/[1-9]/,Po=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Cs(n,"global");break;case"i":Cs(n,"ignoreCase");break;case"m":Cs(n,"multiLine");break;case"u":Cs(n,"unicode");break;case"y":Cs(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){let t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}No(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return ic()}quantifier(t=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),r={atLeast:i,atMost:o}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;No(r);break}if(!(t===!0&&r===void 0)&&No(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t,r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),No(t)?(t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t):ic()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[fe(`
`),fe("\r"),fe("\u2028"),fe("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=oc;break;case"D":t=oc,r=!0;break;case"s":t=rg;break;case"S":t=rg,r=!0;break;case"w":t=sc;break;case"W":t=sc,r=!0;break}return No(t)?{type:"Set",value:t,complement:r}:ic()}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=fe("\f");break;case"n":t=fe(`
`);break;case"r":t=fe("\r");break;case"t":t=fe("	");break;case"v":t=fe("\v");break}return No(t)?{type:"Character",value:t}:ic()}controlLetterEscapeAtom(){this.consumeChar("c");let t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:fe("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let t=this.popChar();return{type:"Character",value:fe(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let t=this.popChar();return{type:"Character",value:fe(t)}}}characterClass(){let t=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom(),i=n.type==="Character";if(tg(n)&&this.isRangeDash()){this.consumeChar("-");let o=this.classAtom(),s=o.type==="Character";if(tg(o)){if(o.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:o.value})}else Dl(n.value,t),t.push(fe("-")),Dl(o.value,t)}else Dl(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:fe("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(qI.test(t)===!1)throw Error("Expecting a positive integer");for(;Il.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(Il.test(t)===!1)throw Error("Expecting an integer");for(;Il.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){let t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:fe(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Il.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){let o=this.popChar();if(FI.test(o)===!1)throw Error("Expecting a HexDecimal digits");r+=o}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){let t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}};var On=class{visitChildren(t){for(let r in t){let n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}};var $8=new Po,ng=class extends On{constructor(){super(...arguments),this.isStarting=!0,this.endRegexStack=[],this.multiline=!1}get endRegex(){return this.endRegexStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegex="",this.isStarting=!0,this.endRegexStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexStack=[])}visitCharacter(t){let r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let n=Ol(r);this.endRegexStack.push(n),this.isStarting&&(this.startRegex+=n)}}visitSet(t){if(!this.multiline){let r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexStack.push(r),this.isStarting&&(this.startRegex+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}},F8=new ng;function Ol(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var K_;(()=>{"use strict";var e={470:i=>{function o(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,u){for(var h,g="",T=0,R=-1,C=0,A=0;A<=c.length;++A){if(A<c.length)h=c.charCodeAt(A);else{if(h===47)break;h=47}if(h===47){if(!(R===A-1||C===1))if(R!==A-1&&C===2){if(g.length<2||T!==2||g.charCodeAt(g.length-1)!==46||g.charCodeAt(g.length-2)!==46){if(g.length>2){var O=g.lastIndexOf("/");if(O!==g.length-1){O===-1?(g="",T=0):T=(g=g.slice(0,O)).length-1-g.lastIndexOf("/"),R=A,C=0;continue}}else if(g.length===2||g.length===1){g="",T=0,R=A,C=0;continue}}u&&(g.length>0?g+="/..":g="..",T=2)}else g.length>0?g+="/"+c.slice(R+1,A):g=c.slice(R+1,A),T=A-R-1;R=A,C=0}else h===46&&C!==-1?++C:C=-1}return g}var a={resolve:function(){for(var c,u="",h=!1,g=arguments.length-1;g>=-1&&!h;g--){var T;g>=0?T=arguments[g]:(c===void 0&&(c=process.cwd()),T=c),o(T),T.length!==0&&(u=T+"/"+u,h=T.charCodeAt(0)===47)}return u=s(u,!h),h?u.length>0?"/"+u:"/":u.length>0?u:"."},normalize:function(c){if(o(c),c.length===0)return".";var u=c.charCodeAt(0)===47,h=c.charCodeAt(c.length-1)===47;return(c=s(c,!u)).length!==0||u||(c="."),c.length>0&&h&&(c+="/"),u?"/"+c:c},isAbsolute:function(c){return o(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,u=0;u<arguments.length;++u){var h=arguments[u];o(h),h.length>0&&(c===void 0?c=h:c+="/"+h)}return c===void 0?".":a.normalize(c)},relative:function(c,u){if(o(c),o(u),c===u||(c=a.resolve(c))===(u=a.resolve(u)))return"";for(var h=1;h<c.length&&c.charCodeAt(h)===47;++h);for(var g=c.length,T=g-h,R=1;R<u.length&&u.charCodeAt(R)===47;++R);for(var C=u.length-R,A=T<C?T:C,O=-1,w=0;w<=A;++w){if(w===A){if(C>A){if(u.charCodeAt(R+w)===47)return u.slice(R+w+1);if(w===0)return u.slice(R+w)}else T>A&&(c.charCodeAt(h+w)===47?O=w:w===0&&(O=0));break}var p=c.charCodeAt(h+w);if(p!==u.charCodeAt(R+w))break;p===47&&(O=w)}var d="";for(w=h+O+1;w<=g;++w)w!==g&&c.charCodeAt(w)!==47||(d.length===0?d+="..":d+="/..");return d.length>0?d+u.slice(R+O):(R+=O,u.charCodeAt(R)===47&&++R,u.slice(R))},_makeLong:function(c){return c},dirname:function(c){if(o(c),c.length===0)return".";for(var u=c.charCodeAt(0),h=u===47,g=-1,T=!0,R=c.length-1;R>=1;--R)if((u=c.charCodeAt(R))===47){if(!T){g=R;break}}else T=!1;return g===-1?h?"/":".":h&&g===1?"//":c.slice(0,g)},basename:function(c,u){if(u!==void 0&&typeof u!="string")throw new TypeError('"ext" argument must be a string');o(c);var h,g=0,T=-1,R=!0;if(u!==void 0&&u.length>0&&u.length<=c.length){if(u.length===c.length&&u===c)return"";var C=u.length-1,A=-1;for(h=c.length-1;h>=0;--h){var O=c.charCodeAt(h);if(O===47){if(!R){g=h+1;break}}else A===-1&&(R=!1,A=h+1),C>=0&&(O===u.charCodeAt(C)?--C==-1&&(T=h):(C=-1,T=A))}return g===T?T=A:T===-1&&(T=c.length),c.slice(g,T)}for(h=c.length-1;h>=0;--h)if(c.charCodeAt(h)===47){if(!R){g=h+1;break}}else T===-1&&(R=!1,T=h+1);return T===-1?"":c.slice(g,T)},extname:function(c){o(c);for(var u=-1,h=0,g=-1,T=!0,R=0,C=c.length-1;C>=0;--C){var A=c.charCodeAt(C);if(A!==47)g===-1&&(T=!1,g=C+1),A===46?u===-1?u=C:R!==1&&(R=1):u!==-1&&(R=-1);else if(!T){h=C+1;break}}return u===-1||g===-1||R===0||R===1&&u===g-1&&u===h+1?"":c.slice(u,g)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(u,h){var g=h.dir||h.root,T=h.base||(h.name||"")+(h.ext||"");return g?g===h.root?g+T:g+"/"+T:T}(0,c)},parse:function(c){o(c);var u={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return u;var h,g=c.charCodeAt(0),T=g===47;T?(u.root="/",h=1):h=0;for(var R=-1,C=0,A=-1,O=!0,w=c.length-1,p=0;w>=h;--w)if((g=c.charCodeAt(w))!==47)A===-1&&(O=!1,A=w+1),g===46?R===-1?R=w:p!==1&&(p=1):R!==-1&&(p=-1);else if(!O){C=w+1;break}return R===-1||A===-1||p===0||p===1&&R===A-1&&R===C+1?A!==-1&&(u.base=u.name=C===0&&T?c.slice(1,A):c.slice(C,A)):(C===0&&T?(u.name=c.slice(1,R),u.base=c.slice(1,A)):(u.name=c.slice(C,R),u.base=c.slice(C,A)),u.ext=c.slice(R,A)),C>0?u.dir=c.slice(0,C-1):T&&(u.dir="/"),u},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.d=(i,o)=>{for(var s in o)r.o(o,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>T,Utils:()=>_t}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(G,L){if(!G.scheme&&L)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${G.authority}", path: "${G.path}", query: "${G.query}", fragment: "${G.fragment}"}`);if(G.scheme&&!o.test(G.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(G.path){if(G.authority){if(!s.test(G.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(G.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let u="",h="/",g=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class T{static isUri(L){return L instanceof T||!!L&&typeof L.authority=="string"&&typeof L.fragment=="string"&&typeof L.path=="string"&&typeof L.query=="string"&&typeof L.scheme=="string"&&typeof L.fsPath=="string"&&typeof L.with=="function"&&typeof L.toString=="function"}scheme;authority;path;query;fragment;constructor(L,Q,z,be,ue,ce=!1){typeof L=="object"?(this.scheme=L.scheme||u,this.authority=L.authority||u,this.path=L.path||u,this.query=L.query||u,this.fragment=L.fragment||u):(this.scheme=function(it,Ve){return it||Ve?it:"file"}(L,ce),this.authority=Q||u,this.path=function(it,Ve){switch(it){case"https":case"http":case"file":Ve?Ve[0]!==h&&(Ve=h+Ve):Ve=h}return Ve}(this.scheme,z||u),this.query=be||u,this.fragment=ue||u,c(this,ce))}get fsPath(){return p(this,!1)}with(L){if(!L)return this;let{scheme:Q,authority:z,path:be,query:ue,fragment:ce}=L;return Q===void 0?Q=this.scheme:Q===null&&(Q=u),z===void 0?z=this.authority:z===null&&(z=u),be===void 0?be=this.path:be===null&&(be=u),ue===void 0?ue=this.query:ue===null&&(ue=u),ce===void 0?ce=this.fragment:ce===null&&(ce=u),Q===this.scheme&&z===this.authority&&be===this.path&&ue===this.query&&ce===this.fragment?this:new C(Q,z,be,ue,ce)}static parse(L,Q=!1){let z=g.exec(L);return z?new C(z[2]||u,X(z[4]||u),X(z[5]||u),X(z[7]||u),X(z[9]||u),Q):new C(u,u,u,u,u)}static file(L){let Q=u;if(i&&(L=L.replace(/\\/g,h)),L[0]===h&&L[1]===h){let z=L.indexOf(h,2);z===-1?(Q=L.substring(2),L=h):(Q=L.substring(2,z),L=L.substring(z)||h)}return new C("file",Q,L,u,u)}static from(L){let Q=new C(L.scheme,L.authority,L.path,L.query,L.fragment);return c(Q,!0),Q}toString(L=!1){return d(this,L)}toJSON(){return this}static revive(L){if(L){if(L instanceof T)return L;{let Q=new C(L);return Q._formatted=L.external,Q._fsPath=L._sep===R?L.fsPath:null,Q}}return L}}let R=i?1:void 0;class C extends T{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=p(this,!1)),this._fsPath}toString(L=!1){return L?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){let L={$mid:1};return this._fsPath&&(L.fsPath=this._fsPath,L._sep=R),this._formatted&&(L.external=this._formatted),this.path&&(L.path=this.path),this.scheme&&(L.scheme=this.scheme),this.authority&&(L.authority=this.authority),this.query&&(L.query=this.query),this.fragment&&(L.fragment=this.fragment),L}}let A={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function O(G,L,Q){let z,be=-1;for(let ue=0;ue<G.length;ue++){let ce=G.charCodeAt(ue);if(ce>=97&&ce<=122||ce>=65&&ce<=90||ce>=48&&ce<=57||ce===45||ce===46||ce===95||ce===126||L&&ce===47||Q&&ce===91||Q&&ce===93||Q&&ce===58)be!==-1&&(z+=encodeURIComponent(G.substring(be,ue)),be=-1),z!==void 0&&(z+=G.charAt(ue));else{z===void 0&&(z=G.substr(0,ue));let it=A[ce];it!==void 0?(be!==-1&&(z+=encodeURIComponent(G.substring(be,ue)),be=-1),z+=it):be===-1&&(be=ue)}}return be!==-1&&(z+=encodeURIComponent(G.substring(be))),z!==void 0?z:G}function w(G){let L;for(let Q=0;Q<G.length;Q++){let z=G.charCodeAt(Q);z===35||z===63?(L===void 0&&(L=G.substr(0,Q)),L+=A[z]):L!==void 0&&(L+=G[Q])}return L!==void 0?L:G}function p(G,L){let Q;return Q=G.authority&&G.path.length>1&&G.scheme==="file"?`//${G.authority}${G.path}`:G.path.charCodeAt(0)===47&&(G.path.charCodeAt(1)>=65&&G.path.charCodeAt(1)<=90||G.path.charCodeAt(1)>=97&&G.path.charCodeAt(1)<=122)&&G.path.charCodeAt(2)===58?L?G.path.substr(1):G.path[1].toLowerCase()+G.path.substr(2):G.path,i&&(Q=Q.replace(/\//g,"\\")),Q}function d(G,L){let Q=L?w:O,z="",{scheme:be,authority:ue,path:ce,query:it,fragment:Ve}=G;if(be&&(z+=be,z+=":"),(ue||be==="file")&&(z+=h,z+=h),ue){let xe=ue.indexOf("@");if(xe!==-1){let er=ue.substr(0,xe);ue=ue.substr(xe+1),xe=er.lastIndexOf(":"),xe===-1?z+=Q(er,!1,!1):(z+=Q(er.substr(0,xe),!1,!1),z+=":",z+=Q(er.substr(xe+1),!1,!0)),z+="@"}ue=ue.toLowerCase(),xe=ue.lastIndexOf(":"),xe===-1?z+=Q(ue,!1,!0):(z+=Q(ue.substr(0,xe),!1,!0),z+=ue.substr(xe))}if(ce){if(ce.length>=3&&ce.charCodeAt(0)===47&&ce.charCodeAt(2)===58){let xe=ce.charCodeAt(1);xe>=65&&xe<=90&&(ce=`/${String.fromCharCode(xe+32)}:${ce.substr(3)}`)}else if(ce.length>=2&&ce.charCodeAt(1)===58){let xe=ce.charCodeAt(0);xe>=65&&xe<=90&&(ce=`${String.fromCharCode(xe+32)}:${ce.substr(2)}`)}z+=Q(ce,!0,!1)}return it&&(z+="?",z+=Q(it,!1,!1)),Ve&&(z+="#",z+=L?Ve:O(Ve,!1,!1)),z}function _(G){try{return decodeURIComponent(G)}catch{return G.length>3?G.substr(0,3)+_(G.substr(3)):G}}let q=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function X(G){return G.match(q)?G.replace(q,L=>_(L)):G}var Se=r(470);let Le=Se.posix||Se,Ut="/";var _t;(function(G){G.joinPath=function(L,...Q){return L.with({path:Le.join(L.path,...Q)})},G.resolvePath=function(L,...Q){let z=L.path,be=!1;z[0]!==Ut&&(z=Ut+z,be=!0);let ue=Le.resolve(z,...Q);return be&&ue[0]===Ut&&!L.authority&&(ue=ue.substring(1)),L.with({path:ue})},G.dirname=function(L){if(L.path.length===0||L.path===Ut)return L;let Q=Le.dirname(L.path);return Q.length===1&&Q.charCodeAt(0)===46&&(Q=""),L.with({path:Q})},G.basename=function(L){return Le.basename(L.path)},G.extname=function(L){return Le.extname(L.path)}})(_t||(_t={}))})(),K_=n})();var{URI:Zr,Utils:As}=K_;var Dr;(function(e){e.basename=As.basename,e.dirname=As.dirname,e.extname=As.extname,e.joinPath=As.joinPath,e.resolvePath=As.resolvePath;function t(n,i){return n?.toString()===i?.toString()}e.equals=t;function r(n,i){let o=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,a=o.split("/").filter(T=>T.length>0),c=s.split("/").filter(T=>T.length>0),u=0;for(;u<a.length&&a[u]===c[u];u++);let h="../".repeat(a.length-u),g=c.slice(u).join("/");return h+g}e.relative=r})(Dr||(Dr={}));var H8=Dr.equals,W8=Dr.relative;ko();var yS=Ne(li(),1);var TO=Symbol("OperationCancelled");function Kl(e){return e===TO}var hy;(function(e){e.all=["fast","slow","built-in"]})(hy||(hy={}));var gy;(function(e){e.GrammarNameUppercase="grammar-name-uppercase",e.RuleNameUppercase="rule-name-uppercase",e.HiddenGrammarTokens="hidden-grammar-tokens",e.UseRegexTokens="use-regex-tokens",e.EntryRuleTokenSyntax="entry-rule-token-syntax",e.CrossRefTokenSyntax="cross-ref-token-syntax",e.UnnecessaryFileExtension="unnecessary-file-extension",e.InvalidReturns="invalid-returns",e.InvalidInfers="invalid-infers",e.MissingInfer="missing-infer",e.MissingReturns="missing-returns",e.SuperfluousInfer="superfluous-infer",e.OptionalUnorderedGroup="optional-unordered-group"})(gy||(gy={}));var X9=/[\s\S]/.source;var NO=Ne(li(),1);var MO=Ne(Me(),1);var Ql=Ne(Me(),1);var Ty;(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})(Ty||(Ty={}));ko();var xy=Ne(Me(),1);var IS=Ne(Me(),1);var Ls;(function(e){function t(...h){return{options:{},moves:h.flatMap(g=>g.moves).sort(u)}}e.fit=t;function r(h){return i(0,h)}e.noSpace=r;function n(h){return i(1,h)}e.oneSpace=n;function i(h,g){return{options:g??{},moves:[{characters:h}]}}e.spaces=i;function o(h){return s(1,h)}e.newLine=o;function s(h,g){return{options:g??{},moves:[{lines:h}]}}e.newLines=s;function a(h){return{options:h??{},moves:[{tabs:1,lines:1}]}}e.indent=a;function c(h){return{options:h??{},moves:[{tabs:0}]}}e.noIndent=c;function u(h,g){var T,R,C,A,O,w;let p=(T=h.lines)!==null&&T!==void 0?T:0,d=(R=g.lines)!==null&&R!==void 0?R:0,_=(C=h.tabs)!==null&&C!==void 0?C:0,q=(A=g.tabs)!==null&&A!==void 0?A:0,X=(O=h.characters)!==null&&O!==void 0?O:0,Se=(w=g.characters)!==null&&w!==void 0?w:0;return p<d?-1:p>d?1:_<q?-1:_>q?1:X<Se?-1:X>Se?1:0}})(Ls||(Ls={}));var p5=Ls.fit(Ls.oneSpace(),Ls.indent());var KO=Ne(Me(),1);var ke=Ne(Me(),1);var LS={[ke.SemanticTokenTypes.class]:0,[ke.SemanticTokenTypes.comment]:1,[ke.SemanticTokenTypes.enum]:2,[ke.SemanticTokenTypes.enumMember]:3,[ke.SemanticTokenTypes.event]:4,[ke.SemanticTokenTypes.function]:5,[ke.SemanticTokenTypes.interface]:6,[ke.SemanticTokenTypes.keyword]:7,[ke.SemanticTokenTypes.macro]:8,[ke.SemanticTokenTypes.method]:9,[ke.SemanticTokenTypes.modifier]:10,[ke.SemanticTokenTypes.namespace]:11,[ke.SemanticTokenTypes.number]:12,[ke.SemanticTokenTypes.operator]:13,[ke.SemanticTokenTypes.parameter]:14,[ke.SemanticTokenTypes.property]:15,[ke.SemanticTokenTypes.regexp]:16,[ke.SemanticTokenTypes.string]:17,[ke.SemanticTokenTypes.struct]:18,[ke.SemanticTokenTypes.type]:19,[ke.SemanticTokenTypes.typeParameter]:20,[ke.SemanticTokenTypes.variable]:21,[ke.SemanticTokenTypes.decorator]:22},WO={[ke.SemanticTokenModifiers.abstract]:1,[ke.SemanticTokenModifiers.async]:2,[ke.SemanticTokenModifiers.declaration]:4,[ke.SemanticTokenModifiers.defaultLibrary]:8,[ke.SemanticTokenModifiers.definition]:16,[ke.SemanticTokenModifiers.deprecated]:32,[ke.SemanticTokenModifiers.documentation]:64,[ke.SemanticTokenModifiers.modification]:128,[ke.SemanticTokenModifiers.readonly]:256,[ke.SemanticTokenModifiers.static]:512},GO={legend:{tokenTypes:Object.keys(LS),tokenModifiers:Object.keys(WO)},full:{delta:!0},range:!0};var OS;(function(e){function t(n,i){let o=new Map;Object.entries(LS).forEach(([c,u])=>o.set(u,c));let s=0,a=0;return r(n.data,5).map(c=>{s+=c[0],c[0]!==0&&(a=0),a+=c[1];let u=c[2];return{offset:i.textDocument.offsetAt({line:s,character:a}),tokenType:o.get(c[3]),tokenModifiers:c[4],text:i.textDocument.getText({start:{line:s,character:a},end:{line:s,character:a+u}})}})}e.decode=t;function r(n,i){let o=[];for(let s=0;s<n.length;s+=i){let a=n.slice(s,s+i);o.push(a)}return o}})(OS||(OS={}));var jS=Ne(Me(),1);var XO=Ne(Me(),1);var JO=Ne(Me(),1);var QO=Ne(Me(),1);var ZO=Ne(Me(),1);var uX="a".charCodeAt(0),lX="z".charCodeAt(0),fX="A".charCodeAt(0),dX="Z".charCodeAt(0),pX="_".charCodeAt(0);var eL=Ne(Me(),1);var tL=Ne(Me(),1);var mi=Ne(Me(),1);var hi;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(hi||(hi={}));var rL=Ne(Me(),1);function FS(e){let t=e.lsp.Connection;if(!t)throw new Error("Starting a language server requires the languageServer.Connection service to be set.");nL(t,e),iL(t,e),oL(t,e),sL(t,e),cL(t,e),uL(t,e),lL(t,e),fL(t,e),pL(t,e),mL(t,e),gL(t,e),aL(t,e),yL(t,e),hL(t,e),vL(t,e),TL(t,e),RL(t,e),_L(t,e),wL(t,e),SL(t,e),bL(t,e),xL(t,e),dL(t,e),kL(t,e),t.onInitialize(n=>e.lsp.LanguageServer.initialize(n)),t.onInitialized(n=>e.lsp.LanguageServer.initialized(n)),e.workspace.TextDocuments.listen(t),t.listen()}function nL(e,t){let r=t.workspace.DocumentBuilder,n=t.workspace.MutexLock;function i(s,a){n.lock(c=>r.update(s,a,c))}t.workspace.TextDocuments.onDidChangeContent(s=>{i([Zr.parse(s.document.uri)],[])}),e.onDidChangeWatchedFiles(s=>{let a=[],c=[];for(let u of s.changes){let h=Zr.parse(u.uri);u.type===mi.FileChangeType.Deleted?c.push(h):a.push(h)}i(a,c)})}function iL(e,t){t.workspace.DocumentBuilder.onBuildPhase(hi.Validated,async(n,i)=>{for(let o of n)if(o.diagnostics&&e.sendDiagnostics({uri:o.uri.toString(),diagnostics:o.diagnostics}),i.isCancellationRequested)return})}function oL(e,t){e.onCompletion(ar((r,n,i,o)=>{var s;return(s=r.lsp.CompletionProvider)===null||s===void 0?void 0:s.getCompletion(n,i,o)},t))}function sL(e,t){e.onReferences(ar((r,n,i,o)=>{var s;return(s=r.lsp.ReferencesProvider)===null||s===void 0?void 0:s.findReferences(n,i,o)},t))}function aL(e,t){e.onCodeAction(ar((r,n,i,o)=>{var s;return(s=r.lsp.CodeActionProvider)===null||s===void 0?void 0:s.getCodeActions(n,i,o)},t))}function cL(e,t){e.onDocumentSymbol(ar((r,n,i,o)=>{var s;return(s=r.lsp.DocumentSymbolProvider)===null||s===void 0?void 0:s.getSymbols(n,i,o)},t))}function uL(e,t){e.onDefinition(ar((r,n,i,o)=>{var s;return(s=r.lsp.DefinitionProvider)===null||s===void 0?void 0:s.getDefinition(n,i,o)},t))}function lL(e,t){e.onTypeDefinition(ar((r,n,i,o)=>{var s;return(s=r.lsp.TypeProvider)===null||s===void 0?void 0:s.getTypeDefinition(n,i,o)},t))}function fL(e,t){e.onImplementation(ar((r,n,i,o)=>{var s;return(s=r.lsp.ImplementationProvider)===null||s===void 0?void 0:s.getImplementation(n,i,o)},t))}function dL(e,t){e.onDeclaration(ar((r,n,i,o)=>{var s;return(s=r.lsp.DeclarationProvider)===null||s===void 0?void 0:s.getDeclaration(n,i,o)},t))}function pL(e,t){e.onDocumentHighlight(ar((r,n,i,o)=>{var s;return(s=r.lsp.DocumentHighlightProvider)===null||s===void 0?void 0:s.getDocumentHighlight(n,i,o)},t))}function hL(e,t){e.onHover(ar((r,n,i,o)=>{var s;return(s=r.lsp.HoverProvider)===null||s===void 0?void 0:s.getHoverContent(n,i,o)},t))}function mL(e,t){e.onFoldingRanges(ar((r,n,i,o)=>{var s;return(s=r.lsp.FoldingRangeProvider)===null||s===void 0?void 0:s.getFoldingRanges(n,i,o)},t))}function gL(e,t){e.onDocumentFormatting(ar((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocument(n,i,o)},t)),e.onDocumentRangeFormatting(ar((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocumentRange(n,i,o)},t)),e.onDocumentOnTypeFormatting(ar((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocumentOnType(n,i,o)},t))}function yL(e,t){e.onRenameRequest(ar((r,n,i,o)=>{var s;return(s=r.lsp.RenameProvider)===null||s===void 0?void 0:s.rename(n,i,o)},t)),e.onPrepareRename(ar((r,n,i,o)=>{var s;return(s=r.lsp.RenameProvider)===null||s===void 0?void 0:s.prepareRename(n,i,o)},t))}function vL(e,t){e.languages.inlayHint.on(Wi((r,n,i,o)=>{var s;return(s=r.lsp.InlayHintProvider)===null||s===void 0?void 0:s.getInlayHints(n,i,o)},t))}function TL(e,t){let r={data:[]};e.languages.semanticTokens.on(Wi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlight(i,o,s):r,t)),e.languages.semanticTokens.onDelta(Wi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlightDelta(i,o,s):r,t)),e.languages.semanticTokens.onRange(Wi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlightRange(i,o,s):r,t))}function xL(e,t){e.onDidChangeConfiguration(r=>{r.settings&&t.workspace.ConfigurationProvider.updateConfiguration(r)})}function RL(e,t){let r=t.lsp.ExecuteCommandHandler;r&&e.onExecuteCommand(async(n,i)=>{var o;try{return await r.executeCommand(n.command,(o=n.arguments)!==null&&o!==void 0?o:[],i)}catch(s){return Ms(s)}})}function bL(e,t){e.onDocumentLinks(Wi((r,n,i,o)=>{var s;return(s=r.lsp.DocumentLinkProvider)===null||s===void 0?void 0:s.getDocumentLinks(n,i,o)},t))}function _L(e,t){e.onSignatureHelp(Wi((r,n,i,o)=>{var s;return(s=r.lsp.SignatureHelp)===null||s===void 0?void 0:s.provideSignatureHelp(n,i,o)},t))}function SL(e,t){e.onCodeLens(Wi((r,n,i,o)=>{var s;return(s=r.lsp.CodeLensProvider)===null||s===void 0?void 0:s.provideCodeLens(n,i,o)},t))}function kL(e,t){var r;let n=t.lsp.WorkspaceSymbolProvider;if(n){e.onWorkspaceSymbol(async(o,s)=>{try{return await n.getSymbols(o,s)}catch(a){return Ms(a)}});let i=(r=n.resolveSymbol)===null||r===void 0?void 0:r.bind(n);i&&e.onWorkspaceSymbolResolve(async(o,s)=>{try{return await i(o,s)}catch(a){return Ms(a)}})}}function wL(e,t){e.languages.callHierarchy.onPrepare(Wi((r,n,i,o)=>{var s;return r.lsp.CallHierarchyProvider&&(s=r.lsp.CallHierarchyProvider.prepareCallHierarchy(n,i,o))!==null&&s!==void 0?s:null},t)),e.languages.callHierarchy.onIncomingCalls($S((r,n,i)=>{var o;return r.lsp.CallHierarchyProvider&&(o=r.lsp.CallHierarchyProvider.incomingCalls(n,i))!==null&&o!==void 0?o:null},t)),e.languages.callHierarchy.onOutgoingCalls($S((r,n,i)=>{var o;return r.lsp.CallHierarchyProvider&&(o=r.lsp.CallHierarchyProvider.outgoingCalls(n,i))!==null&&o!==void 0?o:null},t))}function $S(e,t){let r=t.ServiceRegistry;return async(n,i)=>{let o=Zr.parse(n.item.uri),s=r.getServices(o);if(!s){let a=`Could not find service instance for uri: '${o.toString()}'`;throw console.error(a),new Error(a)}try{return await e(s,n,i)}catch(a){return Ms(a)}}}function Wi(e,t){let r=t.workspace.LangiumDocuments,n=t.ServiceRegistry;return async(i,o)=>{let s=Zr.parse(i.textDocument.uri),a=n.getServices(s);if(!a)throw console.error(`Could not find service instance for uri: '${s.toString()}'`),new Error;let c=r.getOrCreateDocument(s);if(!c)throw new Error;try{return await e(a,c,i,o)}catch(u){return Ms(u)}}}function ar(e,t){let r=t.workspace.LangiumDocuments,n=t.ServiceRegistry;return async(i,o)=>{let s=Zr.parse(i.textDocument.uri),a=n.getServices(s);if(!a)return console.error(`Could not find service instance for uri: '${s.toString()}'`),null;let c=r.getOrCreateDocument(s);if(!c)return null;try{return await e(a,c,i,o)}catch(u){return Ms(u)}}}function Ms(e){if(Kl(e))return new mi.ResponseError(mi.LSPErrorCodes.RequestCancelled,"The request has been cancelled.");if(e instanceof mi.ResponseError)return e;throw e}var qS=Ne(Me(),1);var CL=Ne(Me(),1);var AL=Ne(Me(),1);var EL=Ne(Me(),1);var NL=Ne(Me(),1);var DL=Ne(Me(),1);var Ry=class{readFile(){throw new Error("Method not implemented.")}readFileSync(){throw new Error("Method not implemented.")}async readDirectory(){return[]}},by={fileSystemProvider:()=>new Ry};var ML=typeof global=="object"&&global&&global.Object===Object&&global,Zl=ML;var $L=typeof self=="object"&&self&&self.Object===Object&&self,FL=Zl||$L||Function("return this")(),wt=FL;var qL=wt.Symbol,Gt=qL;var US=Object.prototype,jL=US.hasOwnProperty,UL=US.toString,hc=Gt?Gt.toStringTag:void 0;function HL(e){var t=jL.call(e,hc),r=e[hc];try{e[hc]=void 0;var n=!0}catch{}var i=UL.call(e);return n&&(t?e[hc]=r:delete e[hc]),i}var HS=HL;var WL=Object.prototype,GL=WL.toString;function BL(e){return GL.call(e)}var WS=BL;var KL="[object Null]",zL="[object Undefined]",GS=Gt?Gt.toStringTag:void 0;function VL(e){return e==null?e===void 0?zL:KL:GS&&GS in Object(e)?HS(e):WS(e)}var xr=VL;function YL(e){return e!=null&&typeof e=="object"}var Rt=YL;var XL="[object Symbol]";function JL(e){return typeof e=="symbol"||Rt(e)&&xr(e)==XL}var Gi=JL;function QL(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Fn=QL;var ZL=Array.isArray,te=ZL;var eM=1/0,BS=Gt?Gt.prototype:void 0,KS=BS?BS.toString:void 0;function zS(e){if(typeof e=="string")return e;if(te(e))return Fn(e,zS)+"";if(Gi(e))return KS?KS.call(e):"";var t=e+"";return t=="0"&&1/e==-eM?"-0":t}var VS=zS;var tM=/\s/;function rM(e){for(var t=e.length;t--&&tM.test(e.charAt(t)););return t}var YS=rM;var nM=/^\s+/;function iM(e){return e&&e.slice(0,YS(e)+1).replace(nM,"")}var XS=iM;function oM(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var ct=oM;var JS=0/0,sM=/^[-+]0x[0-9a-f]+$/i,aM=/^0b[01]+$/i,cM=/^0o[0-7]+$/i,uM=parseInt;function lM(e){if(typeof e=="number")return e;if(Gi(e))return JS;if(ct(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ct(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=XS(e);var r=aM.test(e);return r||cM.test(e)?uM(e.slice(2),r?2:8):sM.test(e)?JS:+e}var QS=lM;var ZS=1/0,fM=17976931348623157e292;function dM(e){if(!e)return e===0?e:0;if(e=QS(e),e===ZS||e===-ZS){var t=e<0?-1:1;return t*fM}return e===e?e:0}var ek=dM;function pM(e){var t=ek(e),r=t%1;return t===t?r?t-r:t:0}var qn=pM;function hM(e){return e}var tn=hM;var mM="[object AsyncFunction]",gM="[object Function]",yM="[object GeneratorFunction]",vM="[object Proxy]";function TM(e){if(!ct(e))return!1;var t=xr(e);return t==gM||t==yM||t==mM||t==vM}var Rr=TM;var xM=wt["__core-js_shared__"],ef=xM;var tk=function(){var e=/[^.]+$/.exec(ef&&ef.keys&&ef.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function RM(e){return!!tk&&tk in e}var rk=RM;var bM=Function.prototype,_M=bM.toString;function SM(e){if(e!=null){try{return _M.call(e)}catch{}try{return e+""}catch{}}return""}var gi=SM;var kM=/[\\^$.*+?()[\]{}|]/g,wM=/^\[object .+?Constructor\]$/,CM=Function.prototype,AM=Object.prototype,EM=CM.toString,NM=AM.hasOwnProperty,PM=RegExp("^"+EM.call(NM).replace(kM,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function DM(e){if(!ct(e)||rk(e))return!1;var t=Rr(e)?PM:wM;return t.test(gi(e))}var nk=DM;function IM(e,t){return e?.[t]}var ik=IM;function OM(e,t){var r=ik(e,t);return nk(r)?r:void 0}var Or=OM;var LM=Or(wt,"WeakMap"),tf=LM;var ok=Object.create,MM=function(){function e(){}return function(t){if(!ct(t))return{};if(ok)return ok(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),sk=MM;function $M(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var ak=$M;function FM(){}var ut=FM;function qM(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var ck=qM;var jM=800,UM=16,HM=Date.now;function WM(e){var t=0,r=0;return function(){var n=HM(),i=UM-(n-r);if(r=n,i>0){if(++t>=jM)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var uk=WM;function GM(e){return function(){return e}}var lk=GM;var BM=function(){try{var e=Or(Object,"defineProperty");return e({},"",{}),e}catch{}}(),$s=BM;var KM=$s?function(e,t){return $s(e,"toString",{configurable:!0,enumerable:!1,value:lk(t),writable:!0})}:tn,fk=KM;var zM=uk(fk),dk=zM;function VM(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var rf=VM;function YM(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var nf=YM;function XM(e){return e!==e}var pk=XM;function JM(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var hk=JM;function QM(e,t,r){return t===t?hk(e,t,r):nf(e,pk,r)}var Fs=QM;function ZM(e,t){var r=e==null?0:e.length;return!!r&&Fs(e,t,0)>-1}var of=ZM;var e$=9007199254740991,t$=/^(?:0|[1-9]\d*)$/;function r$(e,t){var r=typeof e;return t=t??e$,!!t&&(r=="number"||r!="symbol"&&t$.test(e))&&e>-1&&e%1==0&&e<t}var Bi=r$;function n$(e,t,r){t=="__proto__"&&$s?$s(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var qs=n$;function i$(e,t){return e===t||e!==e&&t!==t}var jn=i$;var o$=Object.prototype,s$=o$.hasOwnProperty;function a$(e,t,r){var n=e[t];(!(s$.call(e,t)&&jn(n,r))||r===void 0&&!(t in e))&&qs(e,t,r)}var Ki=a$;function c$(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),i?qs(r,a,c):Ki(r,a,c)}return r}var Un=c$;var mk=Math.max;function u$(e,t,r){return t=mk(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=mk(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),ak(e,this,a)}}var gk=u$;function l$(e,t){return dk(gk(e,t,tn),e+"")}var js=l$;var f$=9007199254740991;function d$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=f$}var Us=d$;function p$(e){return e!=null&&Us(e.length)&&!Rr(e)}var Ct=p$;function h$(e,t,r){if(!ct(r))return!1;var n=typeof t;return(n=="number"?Ct(r)&&Bi(t,r.length):n=="string"&&t in r)?jn(r[t],e):!1}var zi=h$;function m$(e){return js(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&zi(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t})}var yk=m$;var g$=Object.prototype;function y$(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||g$;return e===r}var Hn=y$;function v$(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var vk=v$;var T$="[object Arguments]";function x$(e){return Rt(e)&&xr(e)==T$}var _y=x$;var Tk=Object.prototype,R$=Tk.hasOwnProperty,b$=Tk.propertyIsEnumerable,_$=_y(function(){return arguments}())?_y:function(e){return Rt(e)&&R$.call(e,"callee")&&!b$.call(e,"callee")},Vi=_$;function S$(){return!1}var xk=S$;var _k=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Rk=_k&&typeof module=="object"&&module&&!module.nodeType&&module,k$=Rk&&Rk.exports===_k,bk=k$?wt.Buffer:void 0,w$=bk?bk.isBuffer:void 0,C$=w$||xk,yi=C$;var A$="[object Arguments]",E$="[object Array]",N$="[object Boolean]",P$="[object Date]",D$="[object Error]",I$="[object Function]",O$="[object Map]",L$="[object Number]",M$="[object Object]",$$="[object RegExp]",F$="[object Set]",q$="[object String]",j$="[object WeakMap]",U$="[object ArrayBuffer]",H$="[object DataView]",W$="[object Float32Array]",G$="[object Float64Array]",B$="[object Int8Array]",K$="[object Int16Array]",z$="[object Int32Array]",V$="[object Uint8Array]",Y$="[object Uint8ClampedArray]",X$="[object Uint16Array]",J$="[object Uint32Array]",Je={};Je[W$]=Je[G$]=Je[B$]=Je[K$]=Je[z$]=Je[V$]=Je[Y$]=Je[X$]=Je[J$]=!0;Je[A$]=Je[E$]=Je[U$]=Je[N$]=Je[H$]=Je[P$]=Je[D$]=Je[I$]=Je[O$]=Je[L$]=Je[M$]=Je[$$]=Je[F$]=Je[q$]=Je[j$]=!1;function Q$(e){return Rt(e)&&Us(e.length)&&!!Je[xr(e)]}var Sk=Q$;function Z$(e){return function(t){return e(t)}}var Wn=Z$;var kk=typeof exports=="object"&&exports&&!exports.nodeType&&exports,mc=kk&&typeof module=="object"&&module&&!module.nodeType&&module,eF=mc&&mc.exports===kk,Sy=eF&&Zl.process,tF=function(){try{var e=mc&&mc.require&&mc.require("util").types;return e||Sy&&Sy.binding&&Sy.binding("util")}catch{}}(),rn=tF;var wk=rn&&rn.isTypedArray,rF=wk?Wn(wk):Sk,Hs=rF;var nF=Object.prototype,iF=nF.hasOwnProperty;function oF(e,t){var r=te(e),n=!r&&Vi(e),i=!r&&!n&&yi(e),o=!r&&!n&&!i&&Hs(e),s=r||n||i||o,a=s?vk(e.length,String):[],c=a.length;for(var u in e)(t||iF.call(e,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Bi(u,c)))&&a.push(u);return a}var sf=oF;function sF(e,t){return function(r){return e(t(r))}}var af=sF;var aF=af(Object.keys,Object),Ck=aF;var cF=Object.prototype,uF=cF.hasOwnProperty;function lF(e){if(!Hn(e))return Ck(e);var t=[];for(var r in Object(e))uF.call(e,r)&&r!="constructor"&&t.push(r);return t}var cf=lF;function fF(e){return Ct(e)?sf(e):cf(e)}var Be=fF;var dF=Object.prototype,pF=dF.hasOwnProperty,hF=yk(function(e,t){if(Hn(t)||Ct(t)){Un(t,Be(t),e);return}for(var r in t)pF.call(t,r)&&Ki(e,r,t[r])}),Xt=hF;function mF(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Ak=mF;var gF=Object.prototype,yF=gF.hasOwnProperty;function vF(e){if(!ct(e))return Ak(e);var t=Hn(e),r=[];for(var n in e)n=="constructor"&&(t||!yF.call(e,n))||r.push(n);return r}var Ek=vF;function TF(e){return Ct(e)?sf(e,!0):Ek(e)}var Yi=TF;var xF=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,RF=/^\w*$/;function bF(e,t){if(te(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Gi(e)?!0:RF.test(e)||!xF.test(e)||t!=null&&e in Object(t)}var Ws=bF;var _F=Or(Object,"create"),vi=_F;function SF(){this.__data__=vi?vi(null):{},this.size=0}var Nk=SF;function kF(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Pk=kF;var wF="__lodash_hash_undefined__",CF=Object.prototype,AF=CF.hasOwnProperty;function EF(e){var t=this.__data__;if(vi){var r=t[e];return r===wF?void 0:r}return AF.call(t,e)?t[e]:void 0}var Dk=EF;var NF=Object.prototype,PF=NF.hasOwnProperty;function DF(e){var t=this.__data__;return vi?t[e]!==void 0:PF.call(t,e)}var Ik=DF;var IF="__lodash_hash_undefined__";function OF(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=vi&&t===void 0?IF:t,this}var Ok=OF;function Gs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gs.prototype.clear=Nk;Gs.prototype.delete=Pk;Gs.prototype.get=Dk;Gs.prototype.has=Ik;Gs.prototype.set=Ok;var ky=Gs;function LF(){this.__data__=[],this.size=0}var Lk=LF;function MF(e,t){for(var r=e.length;r--;)if(jn(e[r][0],t))return r;return-1}var Xi=MF;var $F=Array.prototype,FF=$F.splice;function qF(e){var t=this.__data__,r=Xi(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():FF.call(t,r,1),--this.size,!0}var Mk=qF;function jF(e){var t=this.__data__,r=Xi(t,e);return r<0?void 0:t[r][1]}var $k=jF;function UF(e){return Xi(this.__data__,e)>-1}var Fk=UF;function HF(e,t){var r=this.__data__,n=Xi(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var qk=HF;function Bs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bs.prototype.clear=Lk;Bs.prototype.delete=Mk;Bs.prototype.get=$k;Bs.prototype.has=Fk;Bs.prototype.set=qk;var Ji=Bs;var WF=Or(wt,"Map"),Qi=WF;function GF(){this.size=0,this.__data__={hash:new ky,map:new(Qi||Ji),string:new ky}}var jk=GF;function BF(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var Uk=BF;function KF(e,t){var r=e.__data__;return Uk(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Zi=KF;function zF(e){var t=Zi(this,e).delete(e);return this.size-=t?1:0,t}var Hk=zF;function VF(e){return Zi(this,e).get(e)}var Wk=VF;function YF(e){return Zi(this,e).has(e)}var Gk=YF;function XF(e,t){var r=Zi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var Bk=XF;function Ks(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ks.prototype.clear=jk;Ks.prototype.delete=Hk;Ks.prototype.get=Wk;Ks.prototype.has=Gk;Ks.prototype.set=Bk;var $o=Ks;var JF="Expected a function";function wy(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(JF);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(wy.Cache||$o),r}wy.Cache=$o;var Kk=wy;var QF=500;function ZF(e){var t=Kk(e,function(n){return r.size===QF&&r.clear(),n}),r=t.cache;return t}var zk=ZF;var e1=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,t1=/\\(\\)?/g,r1=zk(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(e1,function(r,n,i,o){t.push(i?o.replace(t1,"$1"):n||r)}),t}),Vk=r1;function n1(e){return e==null?"":VS(e)}var Yk=n1;function i1(e,t){return te(e)?e:Ws(e,t)?[e]:Vk(Yk(e))}var eo=i1;var o1=1/0;function s1(e){if(typeof e=="string"||Gi(e))return e;var t=e+"";return t=="0"&&1/e==-o1?"-0":t}var Gn=s1;function a1(e,t){t=eo(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Gn(t[r++])];return r&&r==n?e:void 0}var zs=a1;function c1(e,t,r){var n=e==null?void 0:zs(e,t);return n===void 0?r:n}var Xk=c1;function u1(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Vs=u1;var Jk=Gt?Gt.isConcatSpreadable:void 0;function l1(e){return te(e)||Vi(e)||!!(Jk&&e&&e[Jk])}var Qk=l1;function Zk(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=Qk),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?Zk(a,t-1,r,n,i):Vs(i,a):n||(i[i.length]=a)}return i}var Ys=Zk;function f1(e){var t=e==null?0:e.length;return t?Ys(e,1):[]}var $t=f1;var d1=af(Object.getPrototypeOf,Object),uf=d1;function p1(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var lf=p1;function h1(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}var ew=h1;function m1(){this.__data__=new Ji,this.size=0}var tw=m1;function g1(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var rw=g1;function y1(e){return this.__data__.get(e)}var nw=y1;function v1(e){return this.__data__.has(e)}var iw=v1;var T1=200;function x1(e,t){var r=this.__data__;if(r instanceof Ji){var n=r.__data__;if(!Qi||n.length<T1-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new $o(n)}return r.set(e,t),this.size=r.size,this}var ow=x1;function Xs(e){var t=this.__data__=new Ji(e);this.size=t.size}Xs.prototype.clear=tw;Xs.prototype.delete=rw;Xs.prototype.get=nw;Xs.prototype.has=iw;Xs.prototype.set=ow;var to=Xs;function R1(e,t){return e&&Un(t,Be(t),e)}var sw=R1;function b1(e,t){return e&&Un(t,Yi(t),e)}var aw=b1;var fw=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cw=fw&&typeof module=="object"&&module&&!module.nodeType&&module,_1=cw&&cw.exports===fw,uw=_1?wt.Buffer:void 0,lw=uw?uw.allocUnsafe:void 0;function S1(e,t){if(t)return e.slice();var r=e.length,n=lw?lw(r):new e.constructor(r);return e.copy(n),n}var dw=S1;function k1(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var Js=k1;function w1(){return[]}var ff=w1;var C1=Object.prototype,A1=C1.propertyIsEnumerable,pw=Object.getOwnPropertySymbols,E1=pw?function(e){return e==null?[]:(e=Object(e),Js(pw(e),function(t){return A1.call(e,t)}))}:ff,Qs=E1;function N1(e,t){return Un(e,Qs(e),t)}var hw=N1;var P1=Object.getOwnPropertySymbols,D1=P1?function(e){for(var t=[];e;)Vs(t,Qs(e)),e=uf(e);return t}:ff,df=D1;function I1(e,t){return Un(e,df(e),t)}var mw=I1;function O1(e,t,r){var n=t(e);return te(e)?n:Vs(n,r(e))}var pf=O1;function L1(e){return pf(e,Be,Qs)}var gc=L1;function M1(e){return pf(e,Yi,df)}var hf=M1;var $1=Or(wt,"DataView"),mf=$1;var F1=Or(wt,"Promise"),gf=F1;var q1=Or(wt,"Set"),ro=q1;var gw="[object Map]",j1="[object Object]",yw="[object Promise]",vw="[object Set]",Tw="[object WeakMap]",xw="[object DataView]",U1=gi(mf),H1=gi(Qi),W1=gi(gf),G1=gi(ro),B1=gi(tf),Fo=xr;(mf&&Fo(new mf(new ArrayBuffer(1)))!=xw||Qi&&Fo(new Qi)!=gw||gf&&Fo(gf.resolve())!=yw||ro&&Fo(new ro)!=vw||tf&&Fo(new tf)!=Tw)&&(Fo=function(e){var t=xr(e),r=t==j1?e.constructor:void 0,n=r?gi(r):"";if(n)switch(n){case U1:return xw;case H1:return gw;case W1:return yw;case G1:return vw;case B1:return Tw}return t});var Tn=Fo;var K1=Object.prototype,z1=K1.hasOwnProperty;function V1(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&z1.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var Rw=V1;var Y1=wt.Uint8Array,Zs=Y1;function X1(e){var t=new e.constructor(e.byteLength);return new Zs(t).set(new Zs(e)),t}var ea=X1;function J1(e,t){var r=t?ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var bw=J1;var Q1=/\w*$/;function Z1(e){var t=new e.constructor(e.source,Q1.exec(e));return t.lastIndex=e.lastIndex,t}var _w=Z1;var Sw=Gt?Gt.prototype:void 0,kw=Sw?Sw.valueOf:void 0;function eq(e){return kw?Object(kw.call(e)):{}}var ww=eq;function tq(e,t){var r=t?ea(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var Cw=tq;var rq="[object Boolean]",nq="[object Date]",iq="[object Map]",oq="[object Number]",sq="[object RegExp]",aq="[object Set]",cq="[object String]",uq="[object Symbol]",lq="[object ArrayBuffer]",fq="[object DataView]",dq="[object Float32Array]",pq="[object Float64Array]",hq="[object Int8Array]",mq="[object Int16Array]",gq="[object Int32Array]",yq="[object Uint8Array]",vq="[object Uint8ClampedArray]",Tq="[object Uint16Array]",xq="[object Uint32Array]";function Rq(e,t,r){var n=e.constructor;switch(t){case lq:return ea(e);case rq:case nq:return new n(+e);case fq:return bw(e,r);case dq:case pq:case hq:case mq:case gq:case yq:case vq:case Tq:case xq:return Cw(e,r);case iq:return new n;case oq:case cq:return new n(e);case sq:return _w(e);case aq:return new n;case uq:return ww(e)}}var Aw=Rq;function bq(e){return typeof e.constructor=="function"&&!Hn(e)?sk(uf(e)):{}}var Ew=bq;var _q="[object Map]";function Sq(e){return Rt(e)&&Tn(e)==_q}var Nw=Sq;var Pw=rn&&rn.isMap,kq=Pw?Wn(Pw):Nw,Dw=kq;var wq="[object Set]";function Cq(e){return Rt(e)&&Tn(e)==wq}var Iw=Cq;var Ow=rn&&rn.isSet,Aq=Ow?Wn(Ow):Iw,Lw=Aq;var Eq=1,Nq=2,Pq=4,Mw="[object Arguments]",Dq="[object Array]",Iq="[object Boolean]",Oq="[object Date]",Lq="[object Error]",$w="[object Function]",Mq="[object GeneratorFunction]",$q="[object Map]",Fq="[object Number]",Fw="[object Object]",qq="[object RegExp]",jq="[object Set]",Uq="[object String]",Hq="[object Symbol]",Wq="[object WeakMap]",Gq="[object ArrayBuffer]",Bq="[object DataView]",Kq="[object Float32Array]",zq="[object Float64Array]",Vq="[object Int8Array]",Yq="[object Int16Array]",Xq="[object Int32Array]",Jq="[object Uint8Array]",Qq="[object Uint8ClampedArray]",Zq="[object Uint16Array]",ej="[object Uint32Array]",Ke={};Ke[Mw]=Ke[Dq]=Ke[Gq]=Ke[Bq]=Ke[Iq]=Ke[Oq]=Ke[Kq]=Ke[zq]=Ke[Vq]=Ke[Yq]=Ke[Xq]=Ke[$q]=Ke[Fq]=Ke[Fw]=Ke[qq]=Ke[jq]=Ke[Uq]=Ke[Hq]=Ke[Jq]=Ke[Qq]=Ke[Zq]=Ke[ej]=!0;Ke[Lq]=Ke[$w]=Ke[Wq]=!1;function yf(e,t,r,n,i,o){var s,a=t&Eq,c=t&Nq,u=t&Pq;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!ct(e))return e;var h=te(e);if(h){if(s=Rw(e),!a)return ck(e,s)}else{var g=Tn(e),T=g==$w||g==Mq;if(yi(e))return dw(e,a);if(g==Fw||g==Mw||T&&!i){if(s=c||T?{}:Ew(e),!a)return c?mw(e,aw(s,e)):hw(e,sw(s,e))}else{if(!Ke[g])return i?e:{};s=Aw(e,g,a)}}o||(o=new to);var R=o.get(e);if(R)return R;o.set(e,s),Lw(e)?e.forEach(function(O){s.add(yf(O,t,r,O,e,o))}):Dw(e)&&e.forEach(function(O,w){s.set(w,yf(O,t,r,w,e,o))});var C=u?c?hf:gc:c?Yi:Be,A=h?void 0:C(e);return rf(A||e,function(O,w){A&&(w=O,O=e[w]),Ki(s,w,yf(O,t,r,w,e,o))}),s}var qw=yf;var tj=4;function rj(e){return qw(e,tj)}var Qe=rj;function nj(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}var Bn=nj;var ij="__lodash_hash_undefined__";function oj(e){return this.__data__.set(e,ij),this}var jw=oj;function sj(e){return this.__data__.has(e)}var Uw=sj;function vf(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new $o;++t<r;)this.add(e[t])}vf.prototype.add=vf.prototype.push=jw;vf.prototype.has=Uw;var ta=vf;function aj(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Tf=aj;function cj(e,t){return e.has(t)}var ra=cj;var uj=1,lj=2;function fj(e,t,r,n,i,o){var s=r&uj,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e),h=o.get(t);if(u&&h)return u==t&&h==e;var g=-1,T=!0,R=r&lj?new ta:void 0;for(o.set(e,t),o.set(t,e);++g<a;){var C=e[g],A=t[g];if(n)var O=s?n(A,C,g,t,e,o):n(C,A,g,e,t,o);if(O!==void 0){if(O)continue;T=!1;break}if(R){if(!Tf(t,function(w,p){if(!ra(R,p)&&(C===w||i(C,w,r,n,o)))return R.push(p)})){T=!1;break}}else if(!(C===A||i(C,A,r,n,o))){T=!1;break}}return o.delete(e),o.delete(t),T}var xf=fj;function dj(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Hw=dj;function pj(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var na=pj;var hj=1,mj=2,gj="[object Boolean]",yj="[object Date]",vj="[object Error]",Tj="[object Map]",xj="[object Number]",Rj="[object RegExp]",bj="[object Set]",_j="[object String]",Sj="[object Symbol]",kj="[object ArrayBuffer]",wj="[object DataView]",Ww=Gt?Gt.prototype:void 0,Cy=Ww?Ww.valueOf:void 0;function Cj(e,t,r,n,i,o,s){switch(r){case wj:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case kj:return!(e.byteLength!=t.byteLength||!o(new Zs(e),new Zs(t)));case gj:case yj:case xj:return jn(+e,+t);case vj:return e.name==t.name&&e.message==t.message;case Rj:case _j:return e==t+"";case Tj:var a=Hw;case bj:var c=n&hj;if(a||(a=na),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=mj,s.set(e,t);var h=xf(a(e),a(t),n,i,o,s);return s.delete(e),h;case Sj:if(Cy)return Cy.call(e)==Cy.call(t)}return!1}var Gw=Cj;var Aj=1,Ej=Object.prototype,Nj=Ej.hasOwnProperty;function Pj(e,t,r,n,i,o){var s=r&Aj,a=gc(e),c=a.length,u=gc(t),h=u.length;if(c!=h&&!s)return!1;for(var g=c;g--;){var T=a[g];if(!(s?T in t:Nj.call(t,T)))return!1}var R=o.get(e),C=o.get(t);if(R&&C)return R==t&&C==e;var A=!0;o.set(e,t),o.set(t,e);for(var O=s;++g<c;){T=a[g];var w=e[T],p=t[T];if(n)var d=s?n(p,w,T,t,e,o):n(w,p,T,e,t,o);if(!(d===void 0?w===p||i(w,p,r,n,o):d)){A=!1;break}O||(O=T=="constructor")}if(A&&!O){var _=e.constructor,q=t.constructor;_!=q&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof q=="function"&&q instanceof q)&&(A=!1)}return o.delete(e),o.delete(t),A}var Bw=Pj;var Dj=1,Kw="[object Arguments]",zw="[object Array]",Rf="[object Object]",Ij=Object.prototype,Vw=Ij.hasOwnProperty;function Oj(e,t,r,n,i,o){var s=te(e),a=te(t),c=s?zw:Tn(e),u=a?zw:Tn(t);c=c==Kw?Rf:c,u=u==Kw?Rf:u;var h=c==Rf,g=u==Rf,T=c==u;if(T&&yi(e)){if(!yi(t))return!1;s=!0,h=!1}if(T&&!h)return o||(o=new to),s||Hs(e)?xf(e,t,r,n,i,o):Gw(e,t,c,r,n,i,o);if(!(r&Dj)){var R=h&&Vw.call(e,"__wrapped__"),C=g&&Vw.call(t,"__wrapped__");if(R||C){var A=R?e.value():e,O=C?t.value():t;return o||(o=new to),i(A,O,r,n,o)}}return T?(o||(o=new to),Bw(e,t,r,n,i,o)):!1}var Yw=Oj;function Xw(e,t,r,n,i){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Yw(e,t,r,n,Xw,i)}var bf=Xw;var Lj=1,Mj=2;function $j(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var c=a[0],u=e[c],h=a[1];if(s&&a[2]){if(u===void 0&&!(c in e))return!1}else{var g=new to;if(n)var T=n(u,h,c,e,t,g);if(!(T===void 0?bf(h,u,Lj|Mj,n,g):T))return!1}}return!0}var Jw=$j;function Fj(e){return e===e&&!ct(e)}var _f=Fj;function qj(e){for(var t=Be(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,_f(i)]}return t}var Qw=qj;function jj(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Sf=jj;function Uj(e){var t=Qw(e);return t.length==1&&t[0][2]?Sf(t[0][0],t[0][1]):function(r){return r===e||Jw(r,e,t)}}var Zw=Uj;function Hj(e,t){return e!=null&&t in Object(e)}var eC=Hj;function Wj(e,t,r){t=eo(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=Gn(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&Us(i)&&Bi(s,i)&&(te(e)||Vi(e)))}var kf=Wj;function Gj(e,t){return e!=null&&kf(e,t,eC)}var tC=Gj;var Bj=1,Kj=2;function zj(e,t){return Ws(e)&&_f(t)?Sf(Gn(e),t):function(r){var n=Xk(r,e);return n===void 0&&n===t?tC(r,e):bf(t,n,Bj|Kj)}}var rC=zj;function Vj(e){return function(t){return t?.[e]}}var nC=Vj;function Yj(e){return function(t){return zs(t,e)}}var iC=Yj;function Xj(e){return Ws(e)?nC(Gn(e)):iC(e)}var oC=Xj;function Jj(e){return typeof e=="function"?e:e==null?tn:typeof e=="object"?te(e)?rC(e[0],e[1]):Zw(e):oC(e)}var At=Jj;function Qj(e,t,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}var sC=Qj;function Zj(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(r(o[c],c,o)===!1)break}return t}}var aC=Zj;var eU=aC(),cC=eU;function tU(e,t){return e&&cC(e,t,Be)}var uC=tU;function rU(e,t){return function(r,n){if(r==null)return r;if(!Ct(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var lC=rU;var nU=lC(uC),Lr=nU;function iU(e,t,r,n){return Lr(e,function(i,o,s){t(n,i,r(i),s)}),n}var fC=iU;function oU(e,t){return function(r,n){var i=te(r)?sC:fC,o=t?t():{};return i(r,e,At(n,2),o)}}var dC=oU;var pC=Object.prototype,sU=pC.hasOwnProperty,aU=js(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&zi(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=Yi(o),a=-1,c=s.length;++a<c;){var u=s[a],h=e[u];(h===void 0||jn(h,pC[u])&&!sU.call(e,u))&&(e[u]=o[u])}return e}),ia=aU;function cU(e){return Rt(e)&&Ct(e)}var Ay=cU;function uU(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var wf=uU;var lU=200;function fU(e,t,r,n){var i=-1,o=of,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;r&&(t=Fn(t,Wn(r))),n?(o=wf,s=!1):t.length>=lU&&(o=ra,s=!1,t=new ta(t));e:for(;++i<a;){var h=e[i],g=r==null?h:r(h);if(h=n||h!==0?h:0,s&&g===g){for(var T=u;T--;)if(t[T]===g)continue e;c.push(h)}else o(t,g,n)||c.push(h)}return c}var hC=fU;var dU=js(function(e,t){return Ay(e)?hC(e,Ys(t,1,Ay,!0)):[]}),no=dU;function pU(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Kn=pU;function hU(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:qn(t),lf(e,t<0?0:t,n)):[]}var bt=hU;function mU(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:qn(t),t=n-t,lf(e,0,t<0?0:t)):[]}var Ti=mU;function gU(e){return typeof e=="function"?e:tn}var mC=gU;function yU(e,t){var r=te(e)?rf:Lr;return r(e,mC(t))}var J=yU;function vU(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var gC=vU;function TU(e,t){var r=!0;return Lr(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var yC=TU;function xU(e,t,r){var n=te(e)?gC:yC;return r&&zi(e,t,r)&&(t=void 0),n(e,At(t,3))}var cr=xU;function RU(e,t){var r=[];return Lr(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r}var Cf=RU;function bU(e,t){var r=te(e)?Js:Cf;return r(e,At(t,3))}var ur=bU;function _U(e){return function(t,r,n){var i=Object(t);if(!Ct(t)){var o=At(r,3);t=Be(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var vC=_U;var SU=Math.max;function kU(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:qn(r);return i<0&&(i=SU(n+i,0)),nf(e,At(t,3),i)}var TC=kU;var wU=vC(TC),zn=wU;function CU(e){return e&&e.length?e[0]:void 0}var Bt=CU;function AU(e,t){var r=-1,n=Ct(e)?Array(e.length):[];return Lr(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var xC=AU;function EU(e,t){var r=te(e)?Fn:xC;return r(e,At(t,3))}var Y=EU;function NU(e,t){return Ys(Y(e,t),1)}var br=NU;var PU=Object.prototype,DU=PU.hasOwnProperty,IU=dC(function(e,t,r){DU.call(e,r)?e[r].push(t):qs(e,r,[t])}),Ey=IU;var OU=Object.prototype,LU=OU.hasOwnProperty;function MU(e,t){return e!=null&&LU.call(e,t)}var RC=MU;function $U(e,t){return e!=null&&kf(e,t,RC)}var Z=$U;var FU="[object String]";function qU(e){return typeof e=="string"||!te(e)&&Rt(e)&&xr(e)==FU}var Ft=qU;function jU(e,t){return Fn(t,function(r){return e[r]})}var bC=jU;function UU(e){return e==null?[]:bC(e,Be(e))}var qe=UU;var HU=Math.max;function WU(e,t,r,n){e=Ct(e)?e:qe(e),r=r&&!n?qn(r):0;var i=e.length;return r<0&&(r=HU(i+r,0)),Ft(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&Fs(e,t,r)>-1}var et=WU;var GU=Math.max;function BU(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:qn(r);return i<0&&(i=GU(n+i,0)),Fs(e,t,i)}var Af=BU;var KU="[object Map]",zU="[object Set]",VU=Object.prototype,YU=VU.hasOwnProperty;function XU(e){if(e==null)return!0;if(Ct(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||yi(e)||Hs(e)||Vi(e)))return!e.length;var t=Tn(e);if(t==KU||t==zU)return!e.size;if(Hn(e))return!cf(e).length;for(var r in e)if(YU.call(e,r))return!1;return!0}var _e=XU;var JU="[object RegExp]";function QU(e){return Rt(e)&&xr(e)==JU}var _C=QU;var SC=rn&&rn.isRegExp,ZU=SC?Wn(SC):_C,nn=ZU;function eH(e){return e===void 0}var lr=eH;var tH="Expected a function";function rH(e){if(typeof e!="function")throw new TypeError(tH);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var kC=rH;function nH(e,t,r,n){if(!ct(e))return e;t=eo(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var c=Gn(t[i]),u=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=s){var h=a[c];u=n?n(h,c,a):void 0,u===void 0&&(u=ct(h)?h:Bi(t[i+1])?[]:{})}Ki(a,c,u),a=a[c]}return e}var wC=nH;function iH(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=zs(e,s);r(a,s)&&wC(o,eo(s,e),a)}return o}var CC=iH;function oH(e,t){if(e==null)return{};var r=Fn(hf(e),function(n){return[n]});return t=At(t),CC(e,r,function(n,i){return t(n,i[0])})}var Mr=oH;function sH(e,t,r,n,i){return i(e,function(o,s,a){r=n?(n=!1,o):t(r,o,s,a)}),r}var AC=sH;function aH(e,t,r){var n=te(e)?ew:AC,i=arguments.length<3;return n(e,At(t,4),r,i,Lr)}var Et=aH;function cH(e,t){var r=te(e)?Js:Cf;return r(e,kC(At(t,3)))}var io=cH;function uH(e,t){var r;return Lr(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var EC=uH;function lH(e,t,r){var n=te(e)?Tf:EC;return r&&zi(e,t,r)&&(t=void 0),n(e,At(t,3))}var yc=lH;var fH=1/0,dH=ro&&1/na(new ro([,-0]))[1]==fH?function(e){return new ro(e)}:ut,NC=dH;var pH=200;function hH(e,t,r){var n=-1,i=of,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=wf;else if(o>=pH){var u=t?null:NC(e);if(u)return na(u);s=!1,i=ra,c=new ta}else c=t?[]:a;e:for(;++n<o;){var h=e[n],g=t?t(h):h;if(h=r||h!==0?h:0,s&&g===g){for(var T=c.length;T--;)if(c[T]===g)continue e;t&&c.push(g),a.push(h)}else i(c,g,r)||(c!==a&&c.push(g),a.push(h))}return a}var PC=hH;function mH(e){return e&&e.length?PC(e):[]}var oa=mH;function sa(e){console&&console.error&&console.error(`Error: ${e}`)}function vc(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function Tc(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function xc(e){function t(){}t.prototype=e;let r=new t;function n(){return typeof r.bar}return n(),n(),e;(0,eval)(e)}function gH(e){return yH(e)?e.LABEL:e.name}function yH(e){return Ft(e.LABEL)&&e.LABEL!==""}var Kr=class{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),J(this.definition,r=>{r.accept(t)})}},je=class extends Kr{constructor(t){super([]),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},_r=class extends Kr{constructor(t){super(t.definition),this.orgText="",Xt(this,Mr(t,r=>r!==void 0))}},ze=class extends Kr{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Xt(this,Mr(t,r=>r!==void 0))}},Ue=class extends Kr{constructor(t){super(t.definition),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}},lt=class extends Kr{constructor(t){super(t.definition),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}},ft=class extends Kr{constructor(t){super(t.definition),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}},De=class extends Kr{constructor(t){super(t.definition),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}},tt=class extends Kr{constructor(t){super(t.definition),this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}},rt=class extends Kr{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Xt(this,Mr(t,r=>r!==void 0))}},we=class{constructor(t){this.idx=1,Xt(this,Mr(t,r=>r!==void 0))}accept(t){t.visit(this)}};function Ef(e){return Y(e,aa)}function aa(e){function t(r){return Y(r,aa)}if(e instanceof je){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Ft(e.label)&&(r.label=e.label),r}else{if(e instanceof ze)return{type:"Alternative",definition:t(e.definition)};if(e instanceof Ue)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof lt)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof ft)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:aa(new we({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof tt)return{type:"RepetitionWithSeparator",idx:e.idx,separator:aa(new we({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof De)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof rt)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof we){let r={type:"Terminal",name:e.terminalType.name,label:gH(e.terminalType),idx:e.idx};Ft(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=nn(n)?n.source:n),r}else{if(e instanceof _r)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var Sr=class{visit(t){let r=t;switch(r.constructor){case je:return this.visitNonTerminal(r);case ze:return this.visitAlternative(r);case Ue:return this.visitOption(r);case lt:return this.visitRepetitionMandatory(r);case ft:return this.visitRepetitionMandatoryWithSeparator(r);case tt:return this.visitRepetitionWithSeparator(r);case De:return this.visitRepetition(r);case rt:return this.visitAlternation(r);case we:return this.visitTerminal(r);case _r:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}};function Ny(e){return e instanceof ze||e instanceof Ue||e instanceof De||e instanceof lt||e instanceof ft||e instanceof tt||e instanceof we||e instanceof _r}function qo(e,t=[]){return e instanceof Ue||e instanceof De||e instanceof tt?!0:e instanceof rt?yc(e.definition,n=>qo(n,t)):e instanceof je&&et(t,e)?!1:e instanceof Kr?(e instanceof je&&t.push(e),cr(e.definition,n=>qo(n,t))):!1}function Py(e){return e instanceof rt}function $r(e){if(e instanceof je)return"SUBRULE";if(e instanceof Ue)return"OPTION";if(e instanceof rt)return"OR";if(e instanceof lt)return"AT_LEAST_ONE";if(e instanceof ft)return"AT_LEAST_ONE_SEP";if(e instanceof tt)return"MANY_SEP";if(e instanceof De)return"MANY";if(e instanceof we)return"CONSUME";throw Error("non exhaustive match")}var xi=class{walk(t,r=[]){J(t.definition,(n,i)=>{let o=bt(t.definition,i+1);if(n instanceof je)this.walkProdRef(n,o,r);else if(n instanceof we)this.walkTerminal(n,o,r);else if(n instanceof ze)this.walkFlat(n,o,r);else if(n instanceof Ue)this.walkOption(n,o,r);else if(n instanceof lt)this.walkAtLeastOne(n,o,r);else if(n instanceof ft)this.walkAtLeastOneSep(n,o,r);else if(n instanceof tt)this.walkManySep(n,o,r);else if(n instanceof De)this.walkMany(n,o,r);else if(n instanceof rt)this.walkOr(n,o,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){let i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){let i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){let i=[new Ue({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){let i=DC(t,r,n);this.walk(t,i)}walkMany(t,r,n){let i=[new Ue({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){let i=DC(t,r,n);this.walk(t,i)}walkOr(t,r,n){let i=r.concat(n);J(t.definition,o=>{let s=new ze({definition:[o]});this.walk(s,i)})}};function DC(e,t,r){return[new Ue({definition:[new we({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function jo(e){if(e instanceof je)return jo(e.referencedRule);if(e instanceof we)return xH(e);if(Ny(e))return vH(e);if(Py(e))return TH(e);throw Error("non exhaustive match")}function vH(e){let t=[],r=e.definition,n=0,i=r.length>n,o,s=!0;for(;i&&s;)o=r[n],s=qo(o),t=t.concat(jo(o)),n=n+1,i=r.length>n;return oa(t)}function TH(e){let t=Y(e.definition,r=>jo(r));return oa($t(t))}function xH(e){return[e.terminalType]}var Nf="_~IN~_";var Dy=class extends xi{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){let i=RH(t.referencedRule,t.idx)+this.topProd.name,o=r.concat(n),s=new ze({definition:o}),a=jo(s);this.follows[i]=a}};function IC(e){let t={};return J(e,r=>{let n=new Dy(r).startWalking();Xt(t,n)}),t}function RH(e,t){return e.name+t+Nf}var Pf={},bH=new Po;function ca(e){let t=e.toString();if(Pf.hasOwnProperty(t))return Pf[t];{let r=bH.pattern(t);return Pf[t]=r,r}}function OC(){Pf={}}var MC="Complement Sets are not supported for first char optimization",Rc=`Unable to use "first char" lexer optimizations:
`;function $C(e,t=!1){try{let r=ca(e);return Iy(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===MC)t&&vc(`${Rc}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),sa(`${Rc}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Iy(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Iy(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let o=n[i];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=o;switch(s.type){case"Character":Df(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(MC);J(s.value,c=>{if(typeof c=="number")Df(c,t,r);else{let u=c;if(r===!0)for(let h=u.from;h<=u.to;h++)Df(h,t,r);else{for(let h=u.from;h<=u.to&&h<ua;h++)Df(h,t,r);if(u.to>=ua){let h=u.from>=ua?u.from:ua,g=u.to,T=Vn(h),R=Vn(g);for(let C=T;C<=R;C++)t[C]=C}}}});break;case"Group":Iy(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let a=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Oy(s)===!1||s.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return qe(t)}function Df(e,t,r){let n=Vn(e);t[n]=n,r===!0&&_H(e,t)}function _H(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=Vn(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let o=Vn(i.charCodeAt(0));t[o]=o}}}function LC(e,t){return zn(e.value,r=>{if(typeof r=="number")return et(t,r);{let n=r;return zn(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Oy(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?te(e.value)?cr(e.value,Oy):Oy(e.value):!1}var Ly=class extends On{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){et(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?LC(t,this.targetCharCodes)===void 0&&(this.found=!0):LC(t,this.targetCharCodes)!==void 0&&(this.found=!0)}};function If(e,t){if(t instanceof RegExp){let r=ca(t),n=new Ly(e);return n.visit(r),n.found}else return zn(t,r=>et(e,r.charCodeAt(0)))!==void 0}var Uo="PATTERN",la="defaultMode",Of="modes",$y=typeof new RegExp("(?:)").sticky=="boolean";function jC(e,t){t=ia(t,{useSticky:$y,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(p,d)=>d()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{UH()});let n;r("Reject Lexer.NA",()=>{n=io(e,p=>p[Uo]===Nt.NA)});let i=!1,o;r("Transform Patterns",()=>{i=!1,o=Y(n,p=>{let d=p[Uo];if(nn(d)){let _=d.source;return _.length===1&&_!=="^"&&_!=="$"&&_!=="."&&!d.ignoreCase?_:_.length===2&&_[0]==="\\"&&!et(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],_[1])?_[1]:t.useSticky?qC(d):FC(d)}else{if(Rr(d))return i=!0,{exec:d};if(typeof d=="object")return i=!0,d;if(typeof d=="string"){if(d.length===1)return d;{let _=d.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),q=new RegExp(_);return t.useSticky?qC(q):FC(q)}}else throw Error("non exhaustive match")}})});let s,a,c,u,h;r("misc mapping",()=>{s=Y(n,p=>p.tokenTypeIdx),a=Y(n,p=>{let d=p.GROUP;if(d!==Nt.SKIPPED){if(Ft(d))return d;if(lr(d))return!1;throw Error("non exhaustive match")}}),c=Y(n,p=>{let d=p.LONGER_ALT;if(d)return te(d)?Y(d,q=>Af(n,q)):[Af(n,d)]}),u=Y(n,p=>p.PUSH_MODE),h=Y(n,p=>Z(p,"POP_MODE"))});let g;r("Line Terminator Handling",()=>{let p=VC(t.lineTerminatorCharacters);g=Y(n,d=>!1),t.positionTracking!=="onlyOffset"&&(g=Y(n,d=>Z(d,"LINE_BREAKS")?!!d.LINE_BREAKS:zC(d,p)===!1&&If(p,d.PATTERN)))});let T,R,C,A;r("Misc Mapping #2",()=>{T=Y(n,BC),R=Y(o,qH),C=Et(n,(p,d)=>{let _=d.GROUP;return Ft(_)&&_!==Nt.SKIPPED&&(p[_]=[]),p},{}),A=Y(o,(p,d)=>({pattern:o[d],longerAlt:c[d],canLineTerminator:g[d],isCustom:T[d],short:R[d],group:a[d],push:u[d],pop:h[d],tokenTypeIdx:s[d],tokenType:n[d]}))});let O=!0,w=[];return t.safeMode||r("First Char Optimization",()=>{w=Et(n,(p,d,_)=>{if(typeof d.PATTERN=="string"){let q=d.PATTERN.charCodeAt(0),X=Vn(q);My(p,X,A[_])}else if(te(d.START_CHARS_HINT)){let q;J(d.START_CHARS_HINT,X=>{let Se=typeof X=="string"?X.charCodeAt(0):X,Le=Vn(Se);q!==Le&&(q=Le,My(p,Le,A[_]))})}else if(nn(d.PATTERN))if(d.PATTERN.unicode)O=!1,t.ensureOptimizations&&sa(`${Rc}	Unable to analyze < ${d.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let q=$C(d.PATTERN,t.ensureOptimizations);_e(q)&&(O=!1),J(q,X=>{My(p,X,A[_])})}else t.ensureOptimizations&&sa(`${Rc}	TokenType: <${d.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),O=!1;return p},[])}),{emptyGroups:C,patternIdxToConfig:A,charCodeToPatternIdxToConfig:w,hasCustom:i,canBeOptimized:O}}function UC(e,t){let r=[],n=kH(e);r=r.concat(n.errors);let i=wH(n.valid),o=i.valid;return r=r.concat(i.errors),r=r.concat(SH(o)),r=r.concat(OH(o)),r=r.concat(LH(o,t)),r=r.concat(MH(o)),r}function SH(e){let t=[],r=ur(e,n=>nn(n[Uo]));return t=t.concat(AH(r)),t=t.concat(PH(r)),t=t.concat(DH(r)),t=t.concat(IH(r)),t=t.concat(EH(r)),t}function kH(e){let t=ur(e,i=>!Z(i,Uo)),r=Y(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:nt.MISSING_PATTERN,tokenTypes:[i]})),n=no(e,t);return{errors:r,valid:n}}function wH(e){let t=ur(e,i=>{let o=i[Uo];return!nn(o)&&!Rr(o)&&!Z(o,"exec")&&!Ft(o)}),r=Y(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:nt.INVALID_PATTERN,tokenTypes:[i]})),n=no(e,t);return{errors:r,valid:n}}var CH=/[^\\][$]/;function AH(e){class t extends On{constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}let r=ur(e,i=>{let o=i.PATTERN;try{let s=ca(o),a=new t;return a.visit(s),a.found}catch{return CH.test(o.source)}});return Y(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:nt.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function EH(e){let t=ur(e,n=>n.PATTERN.test(""));return Y(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:nt.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}var NH=/[^\\[][\^]|^\^/;function PH(e){class t extends On{constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}let r=ur(e,i=>{let o=i.PATTERN;try{let s=ca(o),a=new t;return a.visit(s),a.found}catch{return NH.test(o.source)}});return Y(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:nt.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function DH(e){let t=ur(e,n=>{let i=n[Uo];return i instanceof RegExp&&(i.multiline||i.global)});return Y(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:nt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function IH(e){let t=[],r=Y(e,o=>Et(e,(s,a)=>(o.PATTERN.source===a.PATTERN.source&&!et(t,a)&&a.PATTERN!==Nt.NA&&(t.push(a),s.push(a)),s),[]));r=Bn(r);let n=ur(r,o=>o.length>1);return Y(n,o=>{let s=Y(o,c=>c.name);return{message:`The same RegExp pattern ->${Bt(o).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:nt.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}function OH(e){let t=ur(e,n=>{if(!Z(n,"GROUP"))return!1;let i=n.GROUP;return i!==Nt.SKIPPED&&i!==Nt.NA&&!Ft(i)});return Y(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:nt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function LH(e,t){let r=ur(e,i=>i.PUSH_MODE!==void 0&&!et(t,i.PUSH_MODE));return Y(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:nt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function MH(e){let t=[],r=Et(e,(n,i,o)=>{let s=i.PATTERN;return s===Nt.NA||(Ft(s)?n.push({str:s,idx:o,tokenType:i}):nn(s)&&FH(s)&&n.push({str:s.source,idx:o,tokenType:i})),n},[]);return J(e,(n,i)=>{J(r,({str:o,idx:s,tokenType:a})=>{if(i<s&&$H(o,n.PATTERN)){let c=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:c,type:nt.UNREACHABLE_PATTERN,tokenTypes:[n,a]})}})}),t}function $H(e,t){if(nn(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(Rr(t))return t(e,0,[],{});if(Z(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function FH(e){return zn([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function FC(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function qC(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function HC(e,t,r){let n=[];return Z(e,la)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+la+`> property in its definition
`,type:nt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Z(e,Of)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Of+`> property in its definition
`,type:nt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Z(e,Of)&&Z(e,la)&&!Z(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${la}: <${e.defaultMode}>which does not exist
`,type:nt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Z(e,Of)&&J(e.modes,(i,o)=>{J(i,(s,a)=>{if(lr(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${a}>
`,type:nt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Z(s,"LONGER_ALT")){let c=te(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];J(c,u=>{!lr(u)&&!et(i,u)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${u.name}> on token <${s.name}> outside of mode <${o}>
`,type:nt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function WC(e,t,r){let n=[],i=!1,o=Bn($t(qe(e.modes))),s=io(o,c=>c[Uo]===Nt.NA),a=VC(r);return t&&J(s,c=>{let u=zC(c,a);if(u!==!1){let g={message:jH(c,u),type:u.issue,tokenType:c};n.push(g)}else Z(c,"LINE_BREAKS")?c.LINE_BREAKS===!0&&(i=!0):If(a,c.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:nt.NO_LINE_BREAKS_FLAGS}),n}function GC(e){let t={},r=Be(e);return J(r,n=>{let i=e[n];if(te(i))t[n]=[];else throw Error("non exhaustive match")}),t}function BC(e){let t=e.PATTERN;if(nn(t))return!1;if(Rr(t))return!0;if(Z(t,"exec"))return!0;if(Ft(t))return!1;throw Error("non exhaustive match")}function qH(e){return Ft(e)&&e.length===1?e.charCodeAt(0):!1}var KC={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function zC(e,t){if(Z(e,"LINE_BREAKS"))return!1;if(nn(e.PATTERN)){try{If(t,e.PATTERN)}catch(r){return{issue:nt.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Ft(e.PATTERN))return!1;if(BC(e))return{issue:nt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function jH(e,t){if(t.issue===nt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===nt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function VC(e){return Y(e,r=>Ft(r)?r.charCodeAt(0):r)}function My(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}var ua=256,Lf=[];function Vn(e){return e<ua?e:Lf[e]}function UH(){if(_e(Lf)){Lf=new Array(65536);for(let e=0;e<65536;e++)Lf[e]=e>255?255+~~(e/255):e}}function Ri(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function fa(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var YC=1,JC={};function bi(e){let t=HH(e);WH(t),BH(t),GH(t),J(t,r=>{r.isParent=r.categoryMatches.length>0})}function HH(e){let t=Qe(e),r=e,n=!0;for(;n;){r=Bn($t(Y(r,o=>o.CATEGORIES)));let i=no(r,t);t=t.concat(i),_e(i)?n=!1:r=i}return t}function WH(e){J(e,t=>{Fy(t)||(JC[YC]=t,t.tokenTypeIdx=YC++),XC(t)&&!te(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),XC(t)||(t.CATEGORIES=[]),KH(t)||(t.categoryMatches=[]),zH(t)||(t.categoryMatchesMap={})})}function GH(e){J(e,t=>{t.categoryMatches=[],J(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(JC[n].tokenTypeIdx)})})}function BH(e){J(e,t=>{QC([],t)})}function QC(e,t){J(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),J(t.CATEGORIES,r=>{let n=e.concat(t);et(n,r)||QC(n,r)})}function Fy(e){return Z(e,"tokenTypeIdx")}function XC(e){return Z(e,"CATEGORIES")}function KH(e){return Z(e,"categoryMatches")}function zH(e){return Z(e,"categoryMatchesMap")}function ZC(e){return Z(e,"tokenTypeIdx")}var qy={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var nt;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(nt||(nt={}));var bc={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:qy,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(bc);var Nt=class{constructor(t,r=bc){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,o)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);let{time:a,value:c}=Tc(o),u=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&u(`${s}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,c}else return o()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Xt({},bc,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,o=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===bc.lineTerminatorsPattern)this.config.lineTerminatorsPattern=KC;else if(this.config.lineTerminatorCharacters===bc.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),te(t)?i={modes:{defaultMode:Qe(t)},defaultMode:la}:(o=!1,i=Qe(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(HC(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(WC(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},J(i.modes,(a,c)=>{i.modes[c]=io(a,u=>lr(u))});let s=Be(i.modes);if(J(i.modes,(a,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{if(this.modes.push(c),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(UC(a,s))}),_e(this.lexerDefinitionErrors)){bi(a);let u;this.TRACE_INIT("analyzeTokenTypes",()=>{u=jC(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[c]=u.patternIdxToConfig,this.charCodeToPatternIdxToConfig[c]=u.charCodeToPatternIdxToConfig,this.emptyGroups=Xt({},this.emptyGroups,u.emptyGroups),this.hasCustom=u.hasCustom||this.hasCustom,this.canModeBeOptimized[c]=u.canBeOptimized}})}),this.defaultMode=i.defaultMode,!_e(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let c=Y(this.lexerDefinitionErrors,u=>u.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+c)}J(this.lexerDefinitionWarning,a=>{vc(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if($y?(this.chopInput=tn,this.match=this.matchWithTest):(this.updateLastIndex=ut,this.match=this.matchWithExec),o&&(this.handleModes=ut),this.trackStartLines===!1&&(this.computeNewColumn=tn),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ut),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let a=Et(this.canModeBeOptimized,(c,u,h)=>(u===!1&&c.push(h),c),[]);if(r.ensureOptimizations&&!_e(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{OC()}),this.TRACE_INIT("toFastProperties",()=>{xc(this)})})}tokenize(t,r=this.defaultMode){if(!_e(this.lexerDefinitionErrors)){let i=Y(this.lexerDefinitionErrors,o=>o.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,o,s,a,c,u,h,g,T,R,C,A,O,w,p,d=t,_=d.length,q=0,X=0,Se=this.hasCustom?0:Math.floor(t.length/10),Le=new Array(Se),Ut=[],_t=this.trackStartLines?1:void 0,G=this.trackStartLines?1:void 0,L=GC(this.emptyGroups),Q=this.trackStartLines,z=this.config.lineTerminatorsPattern,be=0,ue=[],ce=[],it=[],Ve=[];Object.freeze(Ve);let xe;function er(){return ue}function ln(mt){let Ht=Vn(mt),zr=ce[Ht];return zr===void 0?Ve:zr}let yo=mt=>{if(it.length===1&&mt.tokenType.PUSH_MODE===void 0){let Ht=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(mt);Ut.push({offset:mt.startOffset,line:mt.startLine,column:mt.startColumn,length:mt.image.length,message:Ht})}else{it.pop();let Ht=Kn(it);ue=this.patternIdxToConfig[Ht],ce=this.charCodeToPatternIdxToConfig[Ht],be=ue.length;let zr=this.canModeBeOptimized[Ht]&&this.config.safeMode===!1;ce&&zr?xe=ln:xe=er}};function Cn(mt){it.push(mt),ce=this.charCodeToPatternIdxToConfig[mt],ue=this.patternIdxToConfig[mt],be=ue.length,be=ue.length;let Ht=this.canModeBeOptimized[mt]&&this.config.safeMode===!1;ce&&Ht?xe=ln:xe=er}Cn.call(this,r);let Lt,wi=this.config.recoveryEnabled;for(;q<_;){c=null;let mt=d.charCodeAt(q),Ht=xe(mt),zr=Ht.length;for(n=0;n<zr;n++){Lt=Ht[n];let Mt=Lt.pattern;u=null;let Kt=Lt.short;if(Kt!==!1?mt===Kt&&(c=Mt):Lt.isCustom===!0?(p=Mt.exec(d,q,Le,L),p!==null?(c=p[0],p.payload!==void 0&&(u=p.payload)):c=null):(this.updateLastIndex(Mt,q),c=this.match(Mt,t,q)),c!==null){if(a=Lt.longerAlt,a!==void 0){let Fe=a.length;for(o=0;o<Fe;o++){let pr=ue[a[o]],jr=pr.pattern;if(h=null,pr.isCustom===!0?(p=jr.exec(d,q,Le,L),p!==null?(s=p[0],p.payload!==void 0&&(h=p.payload)):s=null):(this.updateLastIndex(jr,q),s=this.match(jr,t,q)),s&&s.length>c.length){c=s,u=h,Lt=pr;break}}}break}}if(c!==null){if(g=c.length,T=Lt.group,T!==void 0&&(R=Lt.tokenTypeIdx,C=this.createTokenInstance(c,q,R,Lt.tokenType,_t,G,g),this.handlePayload(C,u),T===!1?X=this.addToken(Le,X,C):L[T].push(C)),t=this.chopInput(t,g),q=q+g,G=this.computeNewColumn(G,g),Q===!0&&Lt.canLineTerminator===!0){let Mt=0,Kt,Fe;z.lastIndex=0;do Kt=z.test(c),Kt===!0&&(Fe=z.lastIndex-1,Mt++);while(Kt===!0);Mt!==0&&(_t=_t+Mt,G=g-Fe,this.updateTokenEndLineColumnLocation(C,T,Fe,Mt,_t,G,g))}this.handleModes(Lt,yo,Cn,C)}else{let Mt=q,Kt=_t,Fe=G,pr=wi===!1;for(;pr===!1&&q<_;)for(t=this.chopInput(t,1),q++,i=0;i<be;i++){let jr=ue[i],hr=jr.pattern,Ci=jr.short;if(Ci!==!1?d.charCodeAt(q)===Ci&&(pr=!0):jr.isCustom===!0?pr=hr.exec(d,q,Le,L)!==null:(this.updateLastIndex(hr,q),pr=hr.exec(t)!==null),pr===!0)break}if(A=q-Mt,G=this.computeNewColumn(G,A),w=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(d,Mt,A,Kt,Fe),Ut.push({offset:Mt,line:Kt,column:Fe,length:A,message:w}),wi===!1)break}}return this.hasCustom||(Le.length=X),{tokens:Le,groups:L,errors:Ut}}handleModes(t,r,n,i){if(t.pop===!0){let o=t.push;r(i),o!==void 0&&n.call(this,o)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,o,s,a){let c,u;r!==void 0&&(c=n===a-1,u=c?-1:0,i===1&&c===!0||(t.endLine=o+u,t.endColumn=s-1+-u))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,o,s){return{image:t,startOffset:r,startLine:o,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,o,s,a){return{image:t,startOffset:r,endOffset:r+a-1,startLine:o,endLine:o,startColumn:s,endColumn:s+a-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){let n=t.exec(r);return n!==null?n[0]:null}};Nt.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Nt.NA=/NOT_APPLICABLE/;function oo(e){return jy(e)?e.LABEL:e.name}function jy(e){return Ft(e.LABEL)&&e.LABEL!==""}var VH="parent",eA="categories",tA="label",rA="group",nA="push_mode",iA="pop_mode",oA="longer_alt",sA="line_breaks",aA="start_chars_hint";function Mf(e){return YH(e)}function YH(e){let t=e.pattern,r={};if(r.name=e.name,lr(t)||(r.PATTERN=t),Z(e,VH))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Z(e,eA)&&(r.CATEGORIES=e[eA]),bi([r]),Z(e,tA)&&(r.LABEL=e[tA]),Z(e,rA)&&(r.GROUP=e[rA]),Z(e,iA)&&(r.POP_MODE=e[iA]),Z(e,nA)&&(r.PUSH_MODE=e[nA]),Z(e,oA)&&(r.LONGER_ALT=e[oA]),Z(e,sA)&&(r.LINE_BREAKS=e[sA]),Z(e,aA)&&(r.START_CHARS_HINT=e[aA]),r}var on=Mf({name:"EOF",pattern:Nt.NA});bi([on]);function Ho(e,t,r,n,i,o,s,a){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function $f(e,t){return Ri(e,t)}var _i={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${jy(e)?`--> ${oo(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let o="Expecting: ",a=`
but found: '`+Bt(t).image+"'";if(n)return o+n+a;{let c=Et(e,(T,R)=>T.concat(R),[]),u=Y(c,T=>`[${Y(T,R=>oo(R)).join(", ")}]`),g=`one of these possible Token sequences:
${Y(u,(T,R)=>`  ${R+1}. ${T}`).join(`
`)}`;return o+g+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",s=`
but found: '`+Bt(t).image+"'";if(r)return i+r+s;{let c=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${Y(e,u=>`[${Y(u,h=>oo(h)).join(",")}]`).join(" ,")}>`;return i+c+s}}};Object.freeze(_i);var cA={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},xn={buildDuplicateFoundError(e,t){function r(h){return h instanceof we?h.terminalType.name:h instanceof je?h.nonTerminalName:""}let n=e.name,i=Bt(t),o=i.idx,s=$r(i),a=r(i),c=o>0,u=`->${s}${c?o:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return u=u.replace(/[ \t]+/g," "),u=u.replace(/\s\s+/g,`
`),u},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=Y(e.prefixPath,i=>oo(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=Y(e.prefixPath,i=>oo(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=$r(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=Y(e.leftRecursionPath,o=>o.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof _r?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function uA(e,t){let r=new Uy(e,t);return r.resolveRefs(),r.errors}var Uy=class extends Sr{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){J(qe(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){let r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:qt.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}};var Hy=class extends xi{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Qe(this.path.ruleStack).reverse(),this.occurrenceStack=Qe(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){let i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){_e(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},Ff=class extends Hy{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){let i=r.concat(n),o=new ze({definition:i});this.possibleTokTypes=jo(o),this.found=!0}}},da=class extends xi{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},qf=class extends da{walkMany(t,r,n){if(t.idx===this.occurrence){let i=Bt(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof we&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}},_c=class extends da{walkManySep(t,r,n){if(t.idx===this.occurrence){let i=Bt(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof we&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}},jf=class extends da{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){let i=Bt(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof we&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}},Sc=class extends da{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){let i=Bt(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof we&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}};function Uf(e,t,r=[]){r=Qe(r);let n=[],i=0;function o(a){return a.concat(bt(e,i+1))}function s(a){let c=Uf(o(a),t,r);return n.concat(c)}for(;r.length<t&&i<e.length;){let a=e[i];if(a instanceof ze)return s(a.definition);if(a instanceof je)return s(a.definition);if(a instanceof Ue)n=s(a.definition);else if(a instanceof lt){let c=a.definition.concat([new De({definition:a.definition})]);return s(c)}else if(a instanceof ft){let c=[new ze({definition:a.definition}),new De({definition:[new we({terminalType:a.separator})].concat(a.definition)})];return s(c)}else if(a instanceof tt){let c=a.definition.concat([new De({definition:[new we({terminalType:a.separator})].concat(a.definition)})]);n=s(c)}else if(a instanceof De){let c=a.definition.concat([new De({definition:a.definition})]);n=s(c)}else{if(a instanceof rt)return J(a.definition,c=>{_e(c.definition)===!1&&(n=s(c.definition))}),n;if(a instanceof we)r.push(a.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:bt(e,i)}),n}function Hf(e,t,r,n){let i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",a=!1,c=t.length,u=c-n-1,h=[],g=[];for(g.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!_e(g);){let T=g.pop();if(T===s){a&&Kn(g).idx<=u&&g.pop();continue}let R=T.def,C=T.idx,A=T.ruleStack,O=T.occurrenceStack;if(_e(R))continue;let w=R[0];if(w===i){let p={idx:C,def:bt(R),ruleStack:Ti(A),occurrenceStack:Ti(O)};g.push(p)}else if(w instanceof we)if(C<c-1){let p=C+1,d=t[p];if(r(d,w.terminalType)){let _={idx:p,def:bt(R),ruleStack:A,occurrenceStack:O};g.push(_)}}else if(C===c-1)h.push({nextTokenType:w.terminalType,nextTokenOccurrence:w.idx,ruleStack:A,occurrenceStack:O}),a=!0;else throw Error("non exhaustive match");else if(w instanceof je){let p=Qe(A);p.push(w.nonTerminalName);let d=Qe(O);d.push(w.idx);let _={idx:C,def:w.definition.concat(o,bt(R)),ruleStack:p,occurrenceStack:d};g.push(_)}else if(w instanceof Ue){let p={idx:C,def:bt(R),ruleStack:A,occurrenceStack:O};g.push(p),g.push(s);let d={idx:C,def:w.definition.concat(bt(R)),ruleStack:A,occurrenceStack:O};g.push(d)}else if(w instanceof lt){let p=new De({definition:w.definition,idx:w.idx}),d=w.definition.concat([p],bt(R)),_={idx:C,def:d,ruleStack:A,occurrenceStack:O};g.push(_)}else if(w instanceof ft){let p=new we({terminalType:w.separator}),d=new De({definition:[p].concat(w.definition),idx:w.idx}),_=w.definition.concat([d],bt(R)),q={idx:C,def:_,ruleStack:A,occurrenceStack:O};g.push(q)}else if(w instanceof tt){let p={idx:C,def:bt(R),ruleStack:A,occurrenceStack:O};g.push(p),g.push(s);let d=new we({terminalType:w.separator}),_=new De({definition:[d].concat(w.definition),idx:w.idx}),q=w.definition.concat([_],bt(R)),X={idx:C,def:q,ruleStack:A,occurrenceStack:O};g.push(X)}else if(w instanceof De){let p={idx:C,def:bt(R),ruleStack:A,occurrenceStack:O};g.push(p),g.push(s);let d=new De({definition:w.definition,idx:w.idx}),_=w.definition.concat([d],bt(R)),q={idx:C,def:_,ruleStack:A,occurrenceStack:O};g.push(q)}else if(w instanceof rt)for(let p=w.definition.length-1;p>=0;p--){let d=w.definition[p],_={idx:C,def:d.definition.concat(bt(R)),ruleStack:A,occurrenceStack:O};g.push(_),g.push(s)}else if(w instanceof ze)g.push({idx:C,def:w.definition.concat(bt(R)),ruleStack:A,occurrenceStack:O});else if(w instanceof _r)g.push(XH(w,C,A,O));else throw Error("non exhaustive match")}return h}function XH(e,t,r,n){let i=Qe(r);i.push(e.name);let o=Qe(n);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}var dt;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(dt||(dt={}));function Gf(e){if(e instanceof Ue||e==="Option")return dt.OPTION;if(e instanceof De||e==="Repetition")return dt.REPETITION;if(e instanceof lt||e==="RepetitionMandatory")return dt.REPETITION_MANDATORY;if(e instanceof ft||e==="RepetitionMandatoryWithSeparator")return dt.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof tt||e==="RepetitionWithSeparator")return dt.REPETITION_WITH_SEPARATOR;if(e instanceof rt||e==="Alternation")return dt.ALTERNATION;throw Error("non exhaustive match")}function fA(e,t,r,n,i,o){let s=kc(e,t,r),a=yA(s)?fa:Ri;return o(s,n,a,i)}function dA(e,t,r,n,i,o){let s=wc(e,t,i,r),a=yA(s)?fa:Ri;return o(s[0],a,n)}function pA(e,t,r,n){let i=e.length,o=cr(e,s=>cr(s,a=>a.length===1));if(t)return function(s){let a=Y(s,c=>c.GATE);for(let c=0;c<i;c++){let u=e[c],h=u.length,g=a[c];if(!(g!==void 0&&g.call(this)===!1))e:for(let T=0;T<h;T++){let R=u[T],C=R.length;for(let A=0;A<C;A++){let O=this.LA(A+1);if(r(O,R[A])===!1)continue e}return c}}};if(o&&!n){let s=Y(e,c=>$t(c)),a=Et(s,(c,u,h)=>(J(u,g=>{Z(c,g.tokenTypeIdx)||(c[g.tokenTypeIdx]=h),J(g.categoryMatches,T=>{Z(c,T)||(c[T]=h)})}),c),{});return function(){let c=this.LA(1);return a[c.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let a=e[s],c=a.length;e:for(let u=0;u<c;u++){let h=a[u],g=h.length;for(let T=0;T<g;T++){let R=this.LA(T+1);if(r(R,h[T])===!1)continue e}return s}}}}function hA(e,t,r){let n=cr(e,o=>o.length===1),i=e.length;if(n&&!r){let o=$t(e);if(o.length===1&&_e(o[0].categoryMatches)){let a=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{let s=Et(o,(a,c,u)=>(a[c.tokenTypeIdx]=!0,J(c.categoryMatches,h=>{a[h]=!0}),a),[]);return function(){let a=this.LA(1);return s[a.tokenTypeIdx]===!0}}}else return function(){e:for(let o=0;o<i;o++){let s=e[o],a=s.length;for(let c=0;c<a;c++){let u=this.LA(c+1);if(t(u,s[c])===!1)continue e}return!0}return!1}}var Gy=class extends xi{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,dt.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,dt.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,dt.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,dt.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,dt.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}},Wf=class extends Sr{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,dt.OPTION)}visitRepetition(t){this.checkIsTarget(t,dt.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,dt.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,dt.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,dt.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,dt.ALTERNATION)}};function lA(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function Wy(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let o=0;o<t.length;o++){let s=t[o];i.push(s+"_"+n.tokenTypeIdx);for(let a=0;a<n.categoryMatches.length;a++){let c="_"+n.categoryMatches[a];i.push(s+c)}}t=i}return t}function JH(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let o=0;o<t.length;o++){let s=t[o];if(i[s]===!0)return!1}}return!0}function mA(e,t){let r=Y(e,s=>Uf([s],1)),n=lA(r.length),i=Y(r,s=>{let a={};return J(s,c=>{let u=Wy(c.partialPath);J(u,h=>{a[h]=!0})}),a}),o=r;for(let s=1;s<=t;s++){let a=o;o=lA(a.length);for(let c=0;c<a.length;c++){let u=a[c];for(let h=0;h<u.length;h++){let g=u[h].partialPath,T=u[h].suffixDef,R=Wy(g);if(JH(i,R,c)||_e(T)||g.length===t){let A=n[c];if(Bf(A,g)===!1){A.push(g);for(let O=0;O<R.length;O++){let w=R[O];i[c][w]=!0}}}else{let A=Uf(T,s+1,g);o[c]=o[c].concat(A),J(A,O=>{let w=Wy(O.partialPath);J(w,p=>{i[c][p]=!0})})}}}}return n}function kc(e,t,r,n){let i=new Wf(e,dt.ALTERNATION,n);return t.accept(i),mA(i.result,r)}function wc(e,t,r,n){let i=new Wf(e,r);t.accept(i);let o=i.result,a=new Gy(t,e,r).startWalking(),c=new ze({definition:o}),u=new ze({definition:a});return mA([c,u],n)}function Bf(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let o=t[i],s=n[i];if((o===s||s.categoryMatchesMap[o.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function gA(e,t){return e.length<t.length&&cr(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function yA(e){return cr(e,t=>cr(t,r=>cr(r,n=>_e(n.categoryMatches))))}function vA(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return Y(t,r=>Object.assign({type:qt.CUSTOM_LOOKAHEAD_VALIDATION},r))}function TA(e,t,r,n){let i=br(e,c=>QH(c,r)),o=iW(e,t,r),s=br(e,c=>tW(c,r)),a=br(e,c=>eW(c,e,n,r));return i.concat(o,s,a)}function QH(e,t){let r=new By;e.accept(r);let n=r.allProductions,i=Ey(n,ZH),o=Mr(i,a=>a.length>1);return Y(qe(o),a=>{let c=Bt(a),u=t.buildDuplicateFoundError(e,a),h=$r(c),g={message:u,type:qt.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:h,occurrence:c.idx},T=xA(c);return T&&(g.parameter=T),g})}function ZH(e){return`${$r(e)}_#_${e.idx}_#_${xA(e)}`}function xA(e){return e instanceof we?e.terminalType.name:e instanceof je?e.nonTerminalName:""}var By=class extends Sr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}};function eW(e,t,r,n){let i=[];if(Et(t,(s,a)=>a.name===e.name?s+1:s,0)>1){let s=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:s,type:qt.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function RA(e,t,r){let n=[],i;return et(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:qt.INVALID_RULE_OVERRIDE,ruleName:e})),n}function zy(e,t,r,n=[]){let i=[],o=Kf(t.definition);if(_e(o))return[];{let s=e.name;et(o,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:qt.LEFT_RECURSION,ruleName:s});let c=no(o,n.concat([e])),u=br(c,h=>{let g=Qe(n);return g.push(h),zy(e,h,r,g)});return i.concat(u)}}function Kf(e){let t=[];if(_e(e))return t;let r=Bt(e);if(r instanceof je)t.push(r.referencedRule);else if(r instanceof ze||r instanceof Ue||r instanceof lt||r instanceof ft||r instanceof tt||r instanceof De)t=t.concat(Kf(r.definition));else if(r instanceof rt)t=$t(Y(r.definition,o=>Kf(o.definition)));else if(!(r instanceof we))throw Error("non exhaustive match");let n=qo(r),i=e.length>1;if(n&&i){let o=bt(e);return t.concat(Kf(o))}else return t}var Cc=class extends Sr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}};function bA(e,t){let r=new Cc;e.accept(r);let n=r.alternations;return br(n,o=>{let s=Ti(o.definition);return br(s,(a,c)=>{let u=Hf([a],[],Ri,1);return _e(u)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:c}),type:qt.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:c+1}]:[]})})}function _A(e,t,r){let n=new Cc;e.accept(n);let i=n.alternations;return i=io(i,s=>s.ignoreAmbiguities===!0),br(i,s=>{let a=s.idx,c=s.maxLookahead||t,u=kc(a,e,c,s),h=rW(u,s,e,r),g=nW(u,s,e,r);return h.concat(g)})}var Ky=class extends Sr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}};function tW(e,t){let r=new Cc;e.accept(r);let n=r.alternations;return br(n,o=>o.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:qt.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}]:[])}function SA(e,t,r){let n=[];return J(e,i=>{let o=new Ky;i.accept(o);let s=o.allProductions;J(s,a=>{let c=Gf(a),u=a.maxLookahead||t,h=a.idx,T=wc(h,i,c,u)[0];if(_e($t(T))){let R=r.buildEmptyRepetitionError({topLevelRule:i,repetition:a});n.push({message:R,type:qt.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function rW(e,t,r,n){let i=[],o=Et(e,(a,c,u)=>(t.definition[u].ignoreAmbiguities===!0||J(c,h=>{let g=[u];J(e,(T,R)=>{u!==R&&Bf(T,h)&&t.definition[R].ignoreAmbiguities!==!0&&g.push(R)}),g.length>1&&!Bf(i,h)&&(i.push(h),a.push({alts:g,path:h}))}),a),[]);return Y(o,a=>{let c=Y(a.alts,h=>h+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:c,prefixPath:a.path}),type:qt.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:a.alts}})}function nW(e,t,r,n){let i=Et(e,(s,a,c)=>{let u=Y(a,h=>({idx:c,path:h}));return s.concat(u)},[]);return Bn(br(i,s=>{if(t.definition[s.idx].ignoreAmbiguities===!0)return[];let c=s.idx,u=s.path,h=ur(i,T=>t.definition[T.idx].ignoreAmbiguities!==!0&&T.idx<c&&gA(T.path,u));return Y(h,T=>{let R=[T.idx+1,c+1],C=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:R,prefixPath:T.path}),type:qt.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:C,alternatives:R}})}))}function iW(e,t,r){let n=[],i=Y(t,o=>o.name);return J(e,o=>{let s=o.name;if(et(i,s)){let a=r.buildNamespaceConflictError(o);n.push({message:a,type:qt.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function kA(e){let t=ia(e,{errMsgProvider:cA}),r={};return J(e.rules,n=>{r[n.name]=n}),uA(r,t.errMsgProvider)}function wA(e){return e=ia(e,{errMsgProvider:xn}),TA(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var CA="MismatchedTokenException",AA="NoViableAltException",EA="EarlyExitException",NA="NotAllInputParsedException",PA=[CA,AA,EA,NA];Object.freeze(PA);function so(e){return et(PA,e.name)}var pa=class extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},Wo=class extends pa{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=CA}},Ac=class extends pa{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=AA}},Ec=class extends pa{constructor(t,r){super(t,r),this.name=NA}},Nc=class extends pa{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=EA}};var Vy={},Xy="InRuleRecoveryException",Yy=class extends Error{constructor(t){super(t),this.name=Xy}},zf=class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Z(t,"recoveryEnabled")?t.recoveryEnabled:Fr.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=oW)}getTokenToInsert(t){let r=Ho(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){let o=this.findReSyncTokenType(),s=this.exportLexerState(),a=[],c=!1,u=this.LA(1),h=this.LA(1),g=()=>{let T=this.LA(0),R=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:u,previous:T,ruleName:this.getCurrRuleFullName()}),C=new Wo(R,u,this.LA(0));C.resyncedTokens=Ti(a),this.SAVE_ERROR(C)};for(;!c;)if(this.tokenMatcher(h,i)){g();return}else if(n.call(this)){g(),t.apply(this,r);return}else this.tokenMatcher(h,o)?c=!0:(h=this.SKIP_TOKEN(),this.addToResyncTokens(h,a));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){let n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new Yy("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||_e(r))return!1;let n=this.LA(1);return zn(r,o=>this.tokenMatcher(n,o))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return et(n,t)}findReSyncTokenType(){let t=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let i=zn(t,o=>$f(r,o));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return Vy;let t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return Y(t,(n,i)=>i===0?Vy:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){let t=Y(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return $t(t)}getFollowSetFromFollowKey(t){if(t===Vy)return[on];let r=t.ruleName+t.idxInCallingRule+Nf+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,on)||r.push(t),r}reSyncTo(t){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return Ti(r)}attemptInRepetitionRecovery(t,r,n,i,o,s,a){}getCurrentGrammarPath(t,r){let n=this.getHumanReadableRuleStack(),i=Qe(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return Y(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}};function oW(e,t,r,n,i,o,s){let a=this.getKeyForAutomaticLookahead(n,i),c=this.firstAfterRepMap[a];if(c===void 0){let T=this.getCurrRuleFullName(),R=this.getGAstProductions()[T];c=new o(R,i).startWalking(),this.firstAfterRepMap[a]=c}let u=c.token,h=c.occurrence,g=c.isEndOfRule;this.RULE_STACK.length===1&&g&&u===void 0&&(u=on,h=1),!(u===void 0||h===void 0)&&this.shouldInRepetitionRecoveryBeTried(u,h,s)&&this.tryInRepetitionRecovery(e,t,r,u)}function Vf(e,t,r){return r|t|e}var Vpe=32-8;var Go=class{constructor(t){var r;this.maxLookahead=(r=t?.maxLookahead)!==null&&r!==void 0?r:Fr.maxLookahead}validate(t){let r=this.validateNoLeftRecursion(t.rules);if(_e(r)){let n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...o]}return r}validateNoLeftRecursion(t){return br(t,r=>zy(r,r,xn))}validateEmptyOrAlternatives(t){return br(t,r=>bA(r,xn))}validateAmbiguousAlternationAlternatives(t,r){return br(t,n=>_A(n,r,xn))}validateSomeNonEmptyLookaheadPath(t,r){return SA(t,r,xn)}buildLookaheadForAlternation(t){return fA(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,pA)}buildLookaheadForOptional(t){return dA(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,Gf(t.prodType),hA)}};var Xf=class{initLooksAhead(t){this.dynamicTokensEnabled=Z(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Fr.dynamicTokensEnabled,this.maxLookahead=Z(t,"maxLookahead")?t.maxLookahead:Fr.maxLookahead,this.lookaheadStrategy=Z(t,"lookaheadStrategy")?t.lookaheadStrategy:new Go({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){J(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:i,option:o,repetitionMandatory:s,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:c}=sW(r);J(n,u=>{let h=u.idx===0?"":u.idx;this.TRACE_INIT(`${$r(u)}${h}`,()=>{let g=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:u.idx,rule:r,maxLookahead:u.maxLookahead||this.maxLookahead,hasPredicates:u.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),T=Vf(this.fullRuleNameToShort[r.name],256,u.idx);this.setLaFuncCache(T,g)})}),J(i,u=>{this.computeLookaheadFunc(r,u.idx,768,"Repetition",u.maxLookahead,$r(u))}),J(o,u=>{this.computeLookaheadFunc(r,u.idx,512,"Option",u.maxLookahead,$r(u))}),J(s,u=>{this.computeLookaheadFunc(r,u.idx,1024,"RepetitionMandatory",u.maxLookahead,$r(u))}),J(a,u=>{this.computeLookaheadFunc(r,u.idx,1536,"RepetitionMandatoryWithSeparator",u.maxLookahead,$r(u))}),J(c,u=>{this.computeLookaheadFunc(r,u.idx,1280,"RepetitionWithSeparator",u.maxLookahead,$r(u))})})})}computeLookaheadFunc(t,r,n,i,o,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{let a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),c=Vf(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(c,a)})}getKeyForAutomaticLookahead(t,r){let n=this.getLastExplicitRuleShortName();return Vf(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},Jy=class extends Sr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},Yf=new Jy;function sW(e){Yf.reset(),e.accept(Yf);let t=Yf.dslMethods;return Yf.reset(),t}function ev(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function tv(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function DA(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function IA(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var aW="name";function rv(e,t){Object.defineProperty(e,aW,{enumerable:!1,configurable:!0,writable:!1,value:t})}function cW(e,t){let r=Be(e),n=r.length;for(let i=0;i<n;i++){let o=r[i],s=e[o],a=s.length;for(let c=0;c<a;c++){let u=s[c];u.tokenTypeIdx===void 0&&this[u.name](u.children,t)}}}function OA(e,t){let r=function(){};rv(r,e+"BaseSemantics");let n={visit:function(i,o){if(te(i)&&(i=i[0]),!lr(i))return this[i.name](i.children,o)},validateVisitor:function(){let i=uW(this,t);if(!_e(i)){let o=Y(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${o.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function LA(e,t,r){let n=function(){};rv(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return J(t,o=>{i[o]=cW}),n.prototype=i,n.prototype.constructor=n,n}var nv;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(nv||(nv={}));function uW(e,t){return lW(e,t)}function lW(e,t){let r=ur(t,i=>Rr(e[i])===!1),n=Y(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:nv.MISSING_METHOD,methodName:i}));return Bn(n)}var ed=class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Z(t,"nodeLocationTracking")?t.nodeLocationTracking:Fr.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ut,this.cstFinallyStateUpdate=ut,this.cstPostTerminal=ut,this.cstPostNonTerminal=ut,this.cstPostRule=ut;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=tv,this.setNodeLocationFromNode=tv,this.cstPostRule=ut,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ut,this.setNodeLocationFromNode=ut,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=ev,this.setNodeLocationFromNode=ev,this.cstPostRule=ut,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ut,this.setNodeLocationFromNode=ut,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ut,this.setNodeLocationFromNode=ut,this.cstPostRule=ut,this.setInitialNodeLocation=ut;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){let r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){let r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];DA(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];IA(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(lr(this.baseCstVisitorConstructor)){let t=OA(this.className,Be(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(lr(this.baseCstVisitorWithDefaultsConstructor)){let t=LA(this.className,Be(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){let t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}};var td=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):ha}LA(t){let r=this.currIdx+t;return r<0||this.tokVectorLength<=r?ha:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}};var rd=class{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=ma){if(et(this.definedRulesNames,t)){let s={message:xn.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:qt.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(s)}this.definedRulesNames.push(t);let i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=ma){let i=RA(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let o=this.defineRule(t,r,n);return this[t]=o,o}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(so(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return Ef(qe(this.gastProductionsCache))}};var nd=class{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=fa,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Z(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(te(t)){if(_e(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(te(t))this.tokensMap=Et(t,(o,s)=>(o[s.name]=s,o),{});else if(Z(t,"modes")&&cr($t(qe(t.modes)),ZC)){let o=$t(qe(t.modes)),s=oa(o);this.tokensMap=Et(s,(a,c)=>(a[c.name]=c,a),{})}else if(ct(t))this.tokensMap=Qe(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=on;let n=Z(t,"modes")?$t(qe(t.modes)):qe(t),i=cr(n,o=>_e(o.categoryMatches));this.tokenMatcher=i?fa:Ri,bi(qe(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=Z(n,"resyncEnabled")?n.resyncEnabled:ma.resyncEnabled,o=Z(n,"recoveryValueFunc")?n.recoveryValueFunc:ma.recoveryValueFunc,s=this.ruleShortNameIdx<<4+8;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s;let a;return this.outputCst===!0?a=function(...h){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,h);let g=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(g),g}catch(g){return this.invokeRuleCatch(g,i,o)}finally{this.ruleFinallyStateUpdate()}}:a=function(...h){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,h)}catch(g){return this.invokeRuleCatch(g,i,o)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){let i=this.RULE_STACK.length===1,o=r&&!this.isBackTracking()&&this.recoveryEnabled;if(so(t)){let s=t;if(o){let a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(s.resyncedTokens=this.reSyncTo(a),this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}else return n(t);else{if(this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,s.partialCstResult=c}throw s}}else{if(i)return this.moveToTerminatedState(),n(t);throw s}}else throw t}optionInternal(t,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof t!="function"){o=t.DEF;let s=t.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else o=t;if(i.call(this)===!0)return o.call(this)}atLeastOneInternal(t,r){let n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;let s=r.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else o=r;if(i.call(this)===!0){let s=this.doSingleRepetition(o);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(o)}else throw this.raiseEarlyExitException(t,dt.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,1024,t,jf)}atLeastOneSepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){let i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,Sc],a,1536,t,Sc)}else throw this.raiseEarlyExitException(t,dt.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){let n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;let a=r.GATE;if(a!==void 0){let c=i;i=()=>a.call(this)&&c.call(this)}}else o=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,768,t,qf,s)}manySepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){let i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,_c],a,1280,t,_c)}}repetitionSepSecondInternal(t,r,n,i,o){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,o],n,1536,t,o)}doSingleRepetition(t){let r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){let n=this.getKeyForAutomaticLookahead(256,r),i=te(t)?t:t.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new Ec(r,t))}}subruleInternal(t,r,n){let i;try{let o=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,o),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(o){throw this.subruleInternalError(o,n,t.ruleName)}}subruleInternalError(t,r,n){throw so(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{let o=this.LA(1);this.tokenMatcher(o,t)===!0?(this.consumeToken(),i=o):this.consumeInternalError(t,o,n)}catch(o){i=this.consumeInternalRecovery(t,r,o)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i,o=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new Wo(i,r,o))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(o){throw o.name===Xy?n:o}}else throw n}saveRecogState(){let t=this.errors,r=Qe(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),on)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}};var id=class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=Z(t,"errorMessageProvider")?t.errorMessageProvider:Fr.errorMessageProvider}SAVE_ERROR(t){if(so(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Qe(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Qe(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){let i=this.getCurrRuleFullName(),o=this.getGAstProductions()[i],a=wc(t,o,r,this.maxLookahead)[0],c=[];for(let h=1;h<=this.maxLookahead;h++)c.push(this.LA(h));let u=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:c,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new Nc(u,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],o=kc(t,i,this.maxLookahead),s=[];for(let u=1;u<=this.maxLookahead;u++)s.push(this.LA(u));let a=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:s,previous:a,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new Ac(c,this.LA(1),a))}};var od=class{initContentAssist(){}computeContentAssist(t,r){let n=this.gastProductionsCache[t];if(lr(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return Hf([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){let r=Bt(t.ruleStack),i=this.getGAstProductions()[r];return new Ff(i,t).startWalking()}};var cd={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(cd);var MA=!0,$A=Math.pow(2,8)-1,qA=Mf({name:"RECORDING_PHASE_TOKEN",pattern:Nt.NA});bi([qA]);var jA=Ho(qA,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(jA);var dW={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},sd=class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){let r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let t=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return ha}topLevelRuleRecord(t,r){try{let n=new _r({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return Dc.call(this,Ue,t,r)}atLeastOneInternalRecord(t,r){Dc.call(this,lt,r,t)}atLeastOneSepFirstInternalRecord(t,r){Dc.call(this,ft,r,t,MA)}manyInternalRecord(t,r){Dc.call(this,De,r,t)}manySepFirstInternalRecord(t,r){Dc.call(this,tt,r,t,MA)}orInternalRecord(t,r){return pW.call(this,t,r)}subruleInternalRecord(t,r,n){if(ad(r),!t||Z(t,"ruleName")===!1){let a=new Error(`<SUBRULE${FA(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let i=Kn(this.recordingProdStack),o=t.ruleName,s=new je({idx:r,nonTerminalName:o,label:n?.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?dW:cd}consumeInternalRecord(t,r,n){if(ad(r),!Fy(t)){let s=new Error(`<CONSUME${FA(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let i=Kn(this.recordingProdStack),o=new we({idx:r,terminalType:t,label:n?.LABEL});return i.definition.push(o),jA}};function Dc(e,t,r,n=!1){ad(r);let i=Kn(this.recordingProdStack),o=Rr(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),Z(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),cd}function pW(e,t){ad(t);let r=Kn(this.recordingProdStack),n=te(e)===!1,i=n===!1?e:e.DEF,o=new rt({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Z(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);let s=yc(i,a=>Rr(a.GATE));return o.hasPredicates=s,r.definition.push(o),J(i,a=>{let c=new ze({definition:[]});o.definition.push(c),Z(a,"IGNORE_AMBIGUITIES")?c.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:Z(a,"GATE")&&(c.ignoreAmbiguities=!0),this.recordingProdStack.push(c),a.ALT.call(this),this.recordingProdStack.pop()}),cd}function FA(e){return e===0?"":`${e}`}function ad(e){if(e<0||e>$A){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${$A+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var ud=class{initPerformanceTracer(t){if(Z(t,"traceInitPerf")){let r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Fr.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);let{time:i,value:o}=Tc(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,o}else return r()}};function UA(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let o=Object.getOwnPropertyDescriptor(n,i);o&&(o.get||o.set)?Object.defineProperty(e.prototype,i,o):e.prototype[i]=r.prototype[i]})})}var ha=Ho(on,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(ha);var Fr=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:_i,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ma=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0}),qt;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(qt||(qt={}));var ld=class e{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{xc(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),J(this.definedRulesNames,i=>{let s=this[i].originalGrammarAction,a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=kA({rules:qe(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(_e(n)&&this.skipValidations===!1){let i=wA({rules:qe(this.gastProductionsCache),tokenTypes:qe(this.tokensMap),errMsgProvider:xn,grammarName:r}),o=vA({lookaheadStrategy:this.lookaheadStrategy,rules:qe(this.gastProductionsCache),tokenTypes:qe(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,o)}}),_e(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=IC(qe(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,o;(o=(i=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(i,{rules:qe(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(qe(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!_e(this.definitionErrors))throw t=Y(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Z(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Z(r,"skipValidations")?r.skipValidations:Fr.skipValidations}};ld.DEFER_DEFINITION_ERRORS_HANDLING=!1;UA(ld,[zf,Xf,ed,td,nd,rd,id,od,sd,ud]);var ov=class{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="",r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}},dge=new ov;ko();var Age=Symbol("Datatype");var sv=class{buildMismatchTokenMessage(t){return _i.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return _i.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return _i.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return _i.buildEarlyExitMessage(t)}},fd=class extends sv{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}};var Ege={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new fd};var bW=Ne(Me(),1);var _W=Ne(Me(),1);var SW=Ne(Tt(),1);var HA=Ne(Me(),1);var kW=Ne(Me(),1);var wW=Ne(Me(),1);var WA=Ne(Me(),1);var GA;(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(GA||(GA={}));var go=Ne(k0(),1),v3=qN(),T3=new go.BrowserMessageReader(self),x3=new go.BrowserMessageWriter(self),jN=(0,go.createConnection)(T3,x3),{shared:UN,Aom:R3}=xT.createAomServices({connection:jN,...by});FS(UN);var b3=new go.NotificationType("browser/DocumentChange"),_3=R3.serializer.JsonSerializer;UN.workspace.DocumentBuilder.onBuildPhase(hi.Validated,async e=>{for(let t of e){let r=t.parseResult.value,n=await TT.convertFromAst({main:r}),i=v3.dump(n);r.$blocks=i,jN.sendNotification(b3,{uri:t.uri.toString(),content:_3.serialize(r,{sourceText:!0,textRegions:!0}),diagnostics:t.diagnostics??[]})}});})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
