(()=>{var fP=Object.create;var Ac=Object.defineProperty;var dP=Object.getOwnPropertyDescriptor;var pP=Object.getOwnPropertyNames;var hP=Object.getPrototypeOf,mP=Object.prototype.hasOwnProperty;var Rd=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,r)=>(typeof require<"u"?require:t)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var gP=(e,t)=>()=>(e&&(t=e(e=0)),t);var I=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),yP=(e,t)=>{for(var r in t)Ac(e,r,{get:t[r],enumerable:!0})},nv=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pP(t))!mP.call(e,i)&&i!==r&&Ac(e,i,{get:()=>t[i],enumerable:!(n=dP(t,i))||n.enumerable});return e};var Pe=(e,t,r)=>(r=e!=null?fP(hP(e)):{},nv(t||!e||!e.__esModule?Ac(r,"default",{value:e,enumerable:!0}):r,e)),xd=e=>nv(Ac({},"__esModule",{value:!0}),e);var Fo=I(Zt=>{"use strict";Object.defineProperty(Zt,"__esModule",{value:!0});Zt.stringArray=Zt.array=Zt.func=Zt.error=Zt.number=Zt.string=Zt.boolean=void 0;function vP(e){return e===!0||e===!1}Zt.boolean=vP;function sv(e){return typeof e=="string"||e instanceof String}Zt.string=sv;function TP(e){return typeof e=="number"||e instanceof Number}Zt.number=TP;function RP(e){return e instanceof Error}Zt.error=RP;function xP(e){return typeof e=="function"}Zt.func=xP;function av(e){return Array.isArray(e)}Zt.array=av;function bP(e){return av(e)&&e.every(t=>sv(t))}Zt.stringArray=bP});var Kd=I(oe=>{"use strict";Object.defineProperty(oe,"__esModule",{value:!0});oe.Message=oe.NotificationType9=oe.NotificationType8=oe.NotificationType7=oe.NotificationType6=oe.NotificationType5=oe.NotificationType4=oe.NotificationType3=oe.NotificationType2=oe.NotificationType1=oe.NotificationType0=oe.NotificationType=oe.RequestType9=oe.RequestType8=oe.RequestType7=oe.RequestType6=oe.RequestType5=oe.RequestType4=oe.RequestType3=oe.RequestType2=oe.RequestType1=oe.RequestType=oe.RequestType0=oe.AbstractMessageSignature=oe.ParameterStructures=oe.ResponseError=oe.ErrorCodes=void 0;var co=Fo(),bd;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(bd||(oe.ErrorCodes=bd={}));var _d=class e extends Error{constructor(t,r,n){super(r),this.code=co.number(t)?t:bd.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};oe.ResponseError=_d;var _r=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};oe.ParameterStructures=_r;_r.auto=new _r("auto");_r.byPosition=new _r("byPosition");_r.byName=new _r("byName");var Ve=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return _r.auto}};oe.AbstractMessageSignature=Ve;var Sd=class extends Ve{constructor(t){super(t,0)}};oe.RequestType0=Sd;var kd=class extends Ve{constructor(t,r=_r.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.RequestType=kd;var wd=class extends Ve{constructor(t,r=_r.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.RequestType1=wd;var Cd=class extends Ve{constructor(t){super(t,2)}};oe.RequestType2=Cd;var Ed=class extends Ve{constructor(t){super(t,3)}};oe.RequestType3=Ed;var Pd=class extends Ve{constructor(t){super(t,4)}};oe.RequestType4=Pd;var Ad=class extends Ve{constructor(t){super(t,5)}};oe.RequestType5=Ad;var Dd=class extends Ve{constructor(t){super(t,6)}};oe.RequestType6=Dd;var Nd=class extends Ve{constructor(t){super(t,7)}};oe.RequestType7=Nd;var Id=class extends Ve{constructor(t){super(t,8)}};oe.RequestType8=Id;var Od=class extends Ve{constructor(t){super(t,9)}};oe.RequestType9=Od;var Ld=class extends Ve{constructor(t,r=_r.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.NotificationType=Ld;var Md=class extends Ve{constructor(t){super(t,0)}};oe.NotificationType0=Md;var $d=class extends Ve{constructor(t,r=_r.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};oe.NotificationType1=$d;var Fd=class extends Ve{constructor(t){super(t,2)}};oe.NotificationType2=Fd;var qd=class extends Ve{constructor(t){super(t,3)}};oe.NotificationType3=qd;var jd=class extends Ve{constructor(t){super(t,4)}};oe.NotificationType4=jd;var Ud=class extends Ve{constructor(t){super(t,5)}};oe.NotificationType5=Ud;var Wd=class extends Ve{constructor(t){super(t,6)}};oe.NotificationType6=Wd;var Hd=class extends Ve{constructor(t){super(t,7)}};oe.NotificationType7=Hd;var Gd=class extends Ve{constructor(t){super(t,8)}};oe.NotificationType8=Gd;var Bd=class extends Ve{constructor(t){super(t,9)}};oe.NotificationType9=Bd;var cv;(function(e){function t(i){let o=i;return o&&co.string(o.method)&&(co.string(o.id)||co.number(o.id))}e.isRequest=t;function r(i){let o=i;return o&&co.string(o.method)&&i.id===void 0}e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(co.string(o.id)||co.number(o.id)||o.id===null)}e.isResponse=n})(cv||(oe.Message=cv={}))});var Vd=I(Ti=>{"use strict";var uv;Object.defineProperty(Ti,"__esModule",{value:!0});Ti.LRUCache=Ti.LinkedMap=Ti.Touch=void 0;var er;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(er||(Ti.Touch=er={}));var Dc=class{constructor(){this[uv]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=er.None){let n=this._map.get(t);if(n)return r!==er.None&&this.touch(n,r),n.value}set(t,r,n=er.None){let i=this._map.get(t);if(i)i.value=r,n!==er.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case er.None:this.addItemLast(i);break;case er.First:this.addItemFirst(i);break;case er.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(uv=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==er.First&&r!==er.Last)){if(r===er.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===er.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};Ti.LinkedMap=Dc;var zd=class extends Dc{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=er.AsNew){return super.get(t,r)}peek(t){return super.get(t,er.None)}set(t,r){return super.set(t,r,er.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};Ti.LRUCache=zd});var fv=I(Nc=>{"use strict";Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Disposable=void 0;var lv;(function(e){function t(r){return{dispose:r}}e.create=t})(lv||(Nc.Disposable=lv={}))});var Ri=I(Jd=>{"use strict";Object.defineProperty(Jd,"__esModule",{value:!0});var Xd;function Yd(){if(Xd===void 0)throw new Error("No runtime abstraction layer installed");return Xd}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Xd=r}e.install=t})(Yd||(Yd={}));Jd.default=Yd});var jo=I(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.Emitter=qo.Event=void 0;var _P=Ri(),dv;(function(e){let t={dispose(){}};e.None=function(){return t}})(dv||(qo.Event=dv={}));var Qd=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],t))}catch(a){(0,_P.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},Ic=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Qd),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};qo.Emitter=Ic;Ic._noop=function(){}});var Mc=I(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.CancellationTokenSource=Uo.CancellationToken=void 0;var SP=Ri(),kP=Fo(),Zd=jo(),Oc;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Zd.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Zd.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||kP.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Oc||(Uo.CancellationToken=Oc={}));var wP=Object.freeze(function(e,t){let r=(0,SP.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),Lc=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?wP:(this._emitter||(this._emitter=new Zd.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},ep=class{get token(){return this._token||(this._token=new Lc),this._token}cancel(){this._token?this._token.cancel():this._token=Oc.Cancelled}dispose(){this._token?this._token instanceof Lc&&this._token.dispose():this._token=Oc.None}};Uo.CancellationTokenSource=ep});var pv=I(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.SharedArrayReceiverStrategy=Wo.SharedArraySenderStrategy=void 0;var CP=Mc(),pa;(function(e){e.Continue=0,e.Cancelled=1})(pa||(pa={}));var tp=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=pa.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,pa.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};Wo.SharedArraySenderStrategy=tp;var rp=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===pa.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},np=class{constructor(t){this.token=new rp(t)}cancel(){}dispose(){}},ip=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new CP.CancellationTokenSource:new np(r)}};Wo.SharedArrayReceiverStrategy=ip});var sp=I($c=>{"use strict";Object.defineProperty($c,"__esModule",{value:!0});$c.Semaphore=void 0;var EP=Ri(),op=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,EP.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};$c.Semaphore=op});var mv=I(xi=>{"use strict";Object.defineProperty(xi,"__esModule",{value:!0});xi.ReadableStreamMessageReader=xi.AbstractMessageReader=xi.MessageReader=void 0;var cp=Ri(),Ho=Fo(),ap=jo(),PP=sp(),hv;(function(e){function t(r){let n=r;return n&&Ho.func(n.listen)&&Ho.func(n.dispose)&&Ho.func(n.onError)&&Ho.func(n.onClose)&&Ho.func(n.onPartialMessage)}e.is=t})(hv||(xi.MessageReader=hv={}));var Fc=class{constructor(){this.errorEmitter=new ap.Emitter,this.closeEmitter=new ap.Emitter,this.partialMessageEmitter=new ap.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${Ho.string(t.message)?t.message:"unknown"}`)}};xi.AbstractMessageReader=Fc;var up;(function(e){function t(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let l of r.contentDecoders)s.set(l.name,l);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let l of r.contentTypeDecoders)c.set(l.name,l)}return a===void 0&&(a=(0,cp.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}e.fromOptions=t})(up||(up={}));var lp=class extends Fc{constructor(t,r){super(),this.readable=t,this.options=up.fromOptions(r),this.buffer=(0,cp.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new PP.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){try{for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error(`Header must provide a Content-Length property.
${JSON.stringify(Object.fromEntries(n))}`));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error(`Content-Length value must be a number. Got ${i}`));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}catch(r){this.fireError(r)}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,cp.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};xi.ReadableStreamMessageReader=lp});var Rv=I(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.WriteableStreamMessageWriter=bi.AbstractMessageWriter=bi.MessageWriter=void 0;var gv=Ri(),ha=Fo(),AP=sp(),yv=jo(),DP="Content-Length: ",vv=`\r
`,Tv;(function(e){function t(r){let n=r;return n&&ha.func(n.dispose)&&ha.func(n.onClose)&&ha.func(n.onError)&&ha.func(n.write)}e.is=t})(Tv||(bi.MessageWriter=Tv={}));var qc=class{constructor(){this.errorEmitter=new yv.Emitter,this.closeEmitter=new yv.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${ha.string(t.message)?t.message:"unknown"}`)}};bi.AbstractMessageWriter=qc;var fp;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,gv.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,gv.default)().applicationJson.encoder}}e.fromOptions=t})(fp||(fp={}));var dp=class extends qc{constructor(t,r){super(),this.writable=t,this.options=fp.fromOptions(r),this.errorCount=0,this.writeSemaphore=new AP.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(DP,n.byteLength.toString(),vv),i.push(vv),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};bi.WriteableStreamMessageWriter=dp});var xv=I(jc=>{"use strict";Object.defineProperty(jc,"__esModule",{value:!0});jc.AbstractMessageBuffer=void 0;var NP=13,IP=10,OP=`\r
`,pp=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];for(i=0;i<l.length;){switch(l[i]){case NP:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case IP:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=l.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(OP);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let g=c[l],v=g.indexOf(":");if(v===-1)throw new Error(`Message header must separate key and value using ':'
${g}`);let x=g.substr(0,v),k=g.substr(v+1).trim();a.set(t?x.toLowerCase():x,k)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);r.set(s,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};jc.AbstractMessageBuffer=pp});var wv=I(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.createMessageConnection=ve.ConnectionOptions=ve.MessageStrategy=ve.CancellationStrategy=ve.CancellationSenderStrategy=ve.CancellationReceiverStrategy=ve.RequestCancellationReceiverStrategy=ve.IdCancellationReceiverStrategy=ve.ConnectionStrategy=ve.ConnectionError=ve.ConnectionErrors=ve.LogTraceNotification=ve.SetTraceNotification=ve.TraceFormat=ve.TraceValues=ve.Trace=ve.NullLogger=ve.ProgressType=ve.ProgressToken=void 0;var bv=Ri(),ot=Fo(),fe=Kd(),_v=Vd(),ma=jo(),hp=Mc(),va;(function(e){e.type=new fe.NotificationType("$/cancelRequest")})(va||(va={}));var mp;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}e.is=t})(mp||(ve.ProgressToken=mp={}));var ga;(function(e){e.type=new fe.NotificationType("$/progress")})(ga||(ga={}));var gp=class{constructor(){}};ve.ProgressType=gp;var yp;(function(e){function t(r){return ot.func(r)}e.is=t})(yp||(yp={}));ve.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Ie;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Ie||(ve.Trace=Ie={}));var Sv;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(Sv||(ve.TraceValues=Sv={}));(function(e){function t(n){if(!ot.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Ie||(ve.Trace=Ie={}));var Mr;(function(e){e.Text="text",e.JSON="json"})(Mr||(ve.TraceFormat=Mr={}));(function(e){function t(r){return ot.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(Mr||(ve.TraceFormat=Mr={}));var vp;(function(e){e.type=new fe.NotificationType("$/setTrace")})(vp||(ve.SetTraceNotification=vp={}));var Uc;(function(e){e.type=new fe.NotificationType("$/logTrace")})(Uc||(ve.LogTraceNotification=Uc={}));var ya;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(ya||(ve.ConnectionErrors=ya={}));var Go=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};ve.ConnectionError=Go;var Tp;(function(e){function t(r){let n=r;return n&&ot.func(n.cancelUndispatched)}e.is=t})(Tp||(ve.ConnectionStrategy=Tp={}));var Wc;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&ot.func(n.createCancellationTokenSource)&&(n.dispose===void 0||ot.func(n.dispose))}e.is=t})(Wc||(ve.IdCancellationReceiverStrategy=Wc={}));var Rp;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&ot.func(n.createCancellationTokenSource)&&(n.dispose===void 0||ot.func(n.dispose))}e.is=t})(Rp||(ve.RequestCancellationReceiverStrategy=Rp={}));var Hc;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new hp.CancellationTokenSource}});function t(r){return Wc.is(r)||Rp.is(r)}e.is=t})(Hc||(ve.CancellationReceiverStrategy=Hc={}));var Gc;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(va.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&ot.func(n.sendCancellation)&&ot.func(n.cleanup)}e.is=t})(Gc||(ve.CancellationSenderStrategy=Gc={}));var Bc;(function(e){e.Message=Object.freeze({receiver:Hc.Message,sender:Gc.Message});function t(r){let n=r;return n&&Hc.is(n.receiver)&&Gc.is(n.sender)}e.is=t})(Bc||(ve.CancellationStrategy=Bc={}));var Kc;(function(e){function t(r){let n=r;return n&&ot.func(n.handleMessage)}e.is=t})(Kc||(ve.MessageStrategy=Kc={}));var kv;(function(e){function t(r){let n=r;return n&&(Bc.is(n.cancellationStrategy)||Tp.is(n.connectionStrategy)||Kc.is(n.messageStrategy))}e.is=t})(kv||(ve.ConnectionOptions=kv={}));var an;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(an||(an={}));function LP(e,t,r,n){let i=r!==void 0?r:ve.NullLogger,o=0,s=0,a=0,c="2.0",l,g=new Map,v,x=new Map,k=new Map,N,D=new _v.LinkedMap,j=new Map,A=new Set,p=new Map,d=Ie.Off,b=Mr.Text,F,Y=an.New,_e=new ma.Emitter,Oe=new ma.Emitter,qt=new ma.Emitter,bt=new ma.Emitter,H=new ma.Emitter,O=n&&n.cancellationStrategy?n.cancellationStrategy:Bc.Message;function Q(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function K(u){return u===null?"res-unknown-"+(++a).toString():"res-"+u.toString()}function xe(){return"not-"+(++s).toString()}function ce(u,R){fe.Message.isRequest(R)?u.set(Q(R.id),R):fe.Message.isResponse(R)?u.set(K(R.id),R):u.set(xe(),R)}function ae(u){}function nt(){return Y===an.Listening}function ze(){return Y===an.Closed}function Te(){return Y===an.Disposed}function Qt(){(Y===an.New||Y===an.Listening)&&(Y=an.Closed,Oe.fire(void 0))}function nn(u){_e.fire([u,void 0,void 0])}function io(u){_e.fire(u)}e.onClose(Qt),e.onError(nn),t.onClose(Qt),t.onError(io);function xn(){N||D.size===0||(N=(0,bv.default)().timer.setImmediate(()=>{N=void 0,yi()}))}function It(u){fe.Message.isRequest(u)?jt(u):fe.Message.isNotification(u)?Ot(u):fe.Message.isResponse(u)?Ur(u):Gt(u)}function yi(){if(D.size===0)return;let u=D.shift();try{let R=n?.messageStrategy;Kc.is(R)?R.handleMessage(u,It):It(u)}finally{xn()}}let ht=u=>{try{if(fe.Message.isNotification(u)&&u.method===va.type.method){let R=u.params.id,C=Q(R),$=D.get(C);if(fe.Message.isRequest($)){let ie=n?.connectionStrategy,pe=ie&&ie.cancelUndispatched?ie.cancelUndispatched($,ae):void 0;if(pe&&(pe.error!==void 0||pe.result!==void 0)){D.delete(C),p.delete(R),pe.id=$.id,lr(pe,u.method,Date.now()),t.write(pe).catch(()=>i.error("Sending response for canceled message failed."));return}}let se=p.get(R);if(se!==void 0){se.cancel(),zn(u);return}else A.add(R)}ce(D,u)}finally{xn()}};function jt(u){if(Te())return;function R(z,ue,ee){let Re={jsonrpc:c,id:u.id};z instanceof fe.ResponseError?Re.error=z.toJson():Re.result=z===void 0?null:z,lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function C(z,ue,ee){let Re={jsonrpc:c,id:u.id,error:z.toJson()};lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function $(z,ue,ee){z===void 0&&(z=null);let Re={jsonrpc:c,id:u.id,result:z};lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}vi(u);let se=g.get(u.method),ie,pe;se&&(ie=se.type,pe=se.handler);let he=Date.now();if(pe||l){let z=u.id??String(Date.now()),ue=Wc.is(O.receiver)?O.receiver.createCancellationTokenSource(z):O.receiver.createCancellationTokenSource(u);u.id!==null&&A.has(u.id)&&ue.cancel(),u.id!==null&&p.set(z,ue);try{let ee;if(pe)if(u.params===void 0){if(ie!==void 0&&ie.numberOfParams!==0){C(new fe.ResponseError(fe.ErrorCodes.InvalidParams,`Request ${u.method} defines ${ie.numberOfParams} params but received none.`),u.method,he);return}ee=pe(ue.token)}else if(Array.isArray(u.params)){if(ie!==void 0&&ie.parameterStructures===fe.ParameterStructures.byName){C(new fe.ResponseError(fe.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,he);return}ee=pe(...u.params,ue.token)}else{if(ie!==void 0&&ie.parameterStructures===fe.ParameterStructures.byPosition){C(new fe.ResponseError(fe.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,he);return}ee=pe(u.params,ue.token)}else l&&(ee=l(u.method,u.params,ue.token));let Re=ee;ee?Re.then?Re.then(Ee=>{p.delete(z),R(Ee,u.method,he)},Ee=>{p.delete(z),Ee instanceof fe.ResponseError?C(Ee,u.method,he):Ee&&ot.string(Ee.message)?C(new fe.ResponseError(fe.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${Ee.message}`),u.method,he):C(new fe.ResponseError(fe.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,he)}):(p.delete(z),R(ee,u.method,he)):(p.delete(z),$(ee,u.method,he))}catch(ee){p.delete(z),ee instanceof fe.ResponseError?R(ee,u.method,he):ee&&ot.string(ee.message)?C(new fe.ResponseError(fe.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${ee.message}`),u.method,he):C(new fe.ResponseError(fe.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,he)}}else C(new fe.ResponseError(fe.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,he)}function Ur(u){if(!Te())if(u.id===null)u.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let R=u.id,C=j.get(R);if(la(u,C),C!==void 0){j.delete(R);try{if(u.error){let $=u.error;C.reject(new fe.ResponseError($.code,$.message,$.data))}else if(u.result!==void 0)C.resolve(u.result);else throw new Error("Should never happen.")}catch($){$.message?i.error(`Response handler '${C.method}' failed with message: ${$.message}`):i.error(`Response handler '${C.method}' failed unexpectedly.`)}}}}function Ot(u){if(Te())return;let R,C;if(u.method===va.type.method){let $=u.params.id;A.delete($),zn(u);return}else{let $=x.get(u.method);$&&(C=$.handler,R=$.type)}if(C||v)try{if(zn(u),C)if(u.params===void 0)R!==void 0&&R.numberOfParams!==0&&R.parameterStructures!==fe.ParameterStructures.byName&&i.error(`Notification ${u.method} defines ${R.numberOfParams} params but received none.`),C();else if(Array.isArray(u.params)){let $=u.params;u.method===ga.type.method&&$.length===2&&mp.is($[0])?C({token:$[0],value:$[1]}):(R!==void 0&&(R.parameterStructures===fe.ParameterStructures.byName&&i.error(`Notification ${u.method} defines parameters by name but received parameters by position`),R.numberOfParams!==u.params.length&&i.error(`Notification ${u.method} defines ${R.numberOfParams} params but received ${$.length} arguments`)),C(...$))}else R!==void 0&&R.parameterStructures===fe.ParameterStructures.byPosition&&i.error(`Notification ${u.method} defines parameters by position but received parameters by name`),C(u.params);else v&&v(u.method,u.params)}catch($){$.message?i.error(`Notification handler '${u.method}' failed with message: ${$.message}`):i.error(`Notification handler '${u.method}' failed unexpectedly.`)}else qt.fire(u)}function Gt(u){if(!u){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);let R=u;if(ot.string(R.id)||ot.number(R.id)){let C=R.id,$=j.get(C);$&&$.reject(new Error("The received response has neither a result nor an error property."))}}function $e(u){if(u!=null)switch(d){case Ie.Verbose:return JSON.stringify(u,null,4);case Ie.Compact:return JSON.stringify(u);default:return}}function ur(u){if(!(d===Ie.Off||!F))if(b===Mr.Text){let R;(d===Ie.Verbose||d===Ie.Compact)&&u.params&&(R=`Params: ${$e(u.params)}

`),F.log(`Sending request '${u.method} - (${u.id})'.`,R)}else fr("send-request",u)}function Or(u){if(!(d===Ie.Off||!F))if(b===Mr.Text){let R;(d===Ie.Verbose||d===Ie.Compact)&&(u.params?R=`Params: ${$e(u.params)}

`:R=`No parameters provided.

`),F.log(`Sending notification '${u.method}'.`,R)}else fr("send-notification",u)}function lr(u,R,C){if(!(d===Ie.Off||!F))if(b===Mr.Text){let $;(d===Ie.Verbose||d===Ie.Compact)&&(u.error&&u.error.data?$=`Error data: ${$e(u.error.data)}

`:u.result?$=`Result: ${$e(u.result)}

`:u.error===void 0&&($=`No result returned.

`)),F.log(`Sending response '${R} - (${u.id})'. Processing request took ${Date.now()-C}ms`,$)}else fr("send-response",u)}function vi(u){if(!(d===Ie.Off||!F))if(b===Mr.Text){let R;(d===Ie.Verbose||d===Ie.Compact)&&u.params&&(R=`Params: ${$e(u.params)}

`),F.log(`Received request '${u.method} - (${u.id})'.`,R)}else fr("receive-request",u)}function zn(u){if(!(d===Ie.Off||!F||u.method===Uc.type.method))if(b===Mr.Text){let R;(d===Ie.Verbose||d===Ie.Compact)&&(u.params?R=`Params: ${$e(u.params)}

`:R=`No parameters provided.

`),F.log(`Received notification '${u.method}'.`,R)}else fr("receive-notification",u)}function la(u,R){if(!(d===Ie.Off||!F))if(b===Mr.Text){let C;if((d===Ie.Verbose||d===Ie.Compact)&&(u.error&&u.error.data?C=`Error data: ${$e(u.error.data)}

`:u.result?C=`Result: ${$e(u.result)}

`:u.error===void 0&&(C=`No result returned.

`)),R){let $=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";F.log(`Received response '${R.method} - (${u.id})' in ${Date.now()-R.timerStart}ms.${$}`,C)}else F.log(`Received response ${u.id} without active response promise.`,C)}else fr("receive-response",u)}function fr(u,R){if(!F||d===Ie.Off)return;let C={isLSPMessage:!0,type:u,message:R,timestamp:Date.now()};F.log(C)}function Lr(){if(ze())throw new Go(ya.Closed,"Connection is closed.");if(Te())throw new Go(ya.Disposed,"Connection is disposed.")}function fa(){if(nt())throw new Go(ya.AlreadyListening,"Connection is already listening")}function da(){if(!nt())throw new Error("Call listen() first.")}function dr(u){return u===void 0?null:u}function oo(u){if(u!==null)return u}function so(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function Vn(u,R){switch(u){case fe.ParameterStructures.auto:return so(R)?oo(R):[dr(R)];case fe.ParameterStructures.byName:if(!so(R))throw new Error("Received parameters by name but param is not an object literal.");return oo(R);case fe.ParameterStructures.byPosition:return[dr(R)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function ao(u,R){let C,$=u.numberOfParams;switch($){case 0:C=void 0;break;case 1:C=Vn(u.parameterStructures,R[0]);break;default:C=[];for(let se=0;se<R.length&&se<$;se++)C.push(dr(R[se]));if(R.length<$)for(let se=R.length;se<$;se++)C.push(null);break}return C}let pr={sendNotification:(u,...R)=>{Lr();let C,$;if(ot.string(u)){C=u;let ie=R[0],pe=0,he=fe.ParameterStructures.auto;fe.ParameterStructures.is(ie)&&(pe=1,he=ie);let z=R.length,ue=z-pe;switch(ue){case 0:$=void 0;break;case 1:$=Vn(he,R[pe]);break;default:if(he===fe.ParameterStructures.byName)throw new Error(`Received ${ue} parameters for 'by Name' notification parameter structure.`);$=R.slice(pe,z).map(ee=>dr(ee));break}}else{let ie=R;C=u.method,$=ao(u,ie)}let se={jsonrpc:c,method:C,params:$};return Or(se),t.write(se).catch(ie=>{throw i.error("Sending notification failed."),ie})},onNotification:(u,R)=>{Lr();let C;return ot.func(u)?v=u:R&&(ot.string(u)?(C=u,x.set(u,{type:void 0,handler:R})):(C=u.method,x.set(u.method,{type:u,handler:R}))),{dispose:()=>{C!==void 0?x.delete(C):v=void 0}}},onProgress:(u,R,C)=>{if(k.has(R))throw new Error(`Progress handler for token ${R} already registered`);return k.set(R,C),{dispose:()=>{k.delete(R)}}},sendProgress:(u,R,C)=>pr.sendNotification(ga.type,{token:R,value:C}),onUnhandledProgress:bt.event,sendRequest:(u,...R)=>{Lr(),da();let C,$,se;if(ot.string(u)){C=u;let z=R[0],ue=R[R.length-1],ee=0,Re=fe.ParameterStructures.auto;fe.ParameterStructures.is(z)&&(ee=1,Re=z);let Ee=R.length;hp.CancellationToken.is(ue)&&(Ee=Ee-1,se=ue);let it=Ee-ee;switch(it){case 0:$=void 0;break;case 1:$=Vn(Re,R[ee]);break;default:if(Re===fe.ParameterStructures.byName)throw new Error(`Received ${it} parameters for 'by Name' request parameter structure.`);$=R.slice(ee,Ee).map(w=>dr(w));break}}else{let z=R;C=u.method,$=ao(u,z);let ue=u.numberOfParams;se=hp.CancellationToken.is(z[ue])?z[ue]:void 0}let ie=o++,pe;se&&(pe=se.onCancellationRequested(()=>{let z=O.sender.sendCancellation(pr,ie);return z===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ie}`),Promise.resolve()):z.catch(()=>{i.log(`Sending cancellation messages for id ${ie} failed`)})}));let he={jsonrpc:c,id:ie,method:C,params:$};return ur(he),typeof O.sender.enableCancellation=="function"&&O.sender.enableCancellation(he),new Promise(async(z,ue)=>{let ee=it=>{z(it),O.sender.cleanup(ie),pe?.dispose()},Re=it=>{ue(it),O.sender.cleanup(ie),pe?.dispose()},Ee={method:C,timerStart:Date.now(),resolve:ee,reject:Re};try{await t.write(he),j.set(ie,Ee)}catch(it){throw i.error("Sending request failed."),Ee.reject(new fe.ResponseError(fe.ErrorCodes.MessageWriteError,it.message?it.message:"Unknown reason")),it}})},onRequest:(u,R)=>{Lr();let C=null;return yp.is(u)?(C=void 0,l=u):ot.string(u)?(C=null,R!==void 0&&(C=u,g.set(u,{handler:R,type:void 0}))):R!==void 0&&(C=u.method,g.set(u.method,{type:u,handler:R})),{dispose:()=>{C!==null&&(C!==void 0?g.delete(C):l=void 0)}}},hasPendingResponse:()=>j.size>0,trace:async(u,R,C)=>{let $=!1,se=Mr.Text;C!==void 0&&(ot.boolean(C)?$=C:($=C.sendNotification||!1,se=C.traceFormat||Mr.Text)),d=u,b=se,d===Ie.Off?F=void 0:F=R,$&&!ze()&&!Te()&&await pr.sendNotification(vp.type,{value:Ie.toString(u)})},onError:_e.event,onClose:Oe.event,onUnhandledNotification:qt.event,onDispose:H.event,end:()=>{t.end()},dispose:()=>{if(Te())return;Y=an.Disposed,H.fire(void 0);let u=new fe.ResponseError(fe.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let R of j.values())R.reject(u);j=new Map,p=new Map,A=new Set,D=new _v.LinkedMap,ot.func(t.dispose)&&t.dispose(),ot.func(e.dispose)&&e.dispose()},listen:()=>{Lr(),fa(),Y=an.Listening,e.listen(ht)},inspect:()=>{(0,bv.default)().console.log("inspect")}};return pr.onNotification(Uc.type,u=>{if(d===Ie.Off||!F)return;let R=d===Ie.Verbose||d===Ie.Compact;F.log(u.message,R?u.verbose:void 0)}),pr.onNotification(ga.type,u=>{let R=k.get(u.token);R?R(u.value):bt.fire(u)}),pr}ve.createMessageConnection=LP});var zc=I(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.ProgressType=L.ProgressToken=L.createMessageConnection=L.NullLogger=L.ConnectionOptions=L.ConnectionStrategy=L.AbstractMessageBuffer=L.WriteableStreamMessageWriter=L.AbstractMessageWriter=L.MessageWriter=L.ReadableStreamMessageReader=L.AbstractMessageReader=L.MessageReader=L.SharedArrayReceiverStrategy=L.SharedArraySenderStrategy=L.CancellationToken=L.CancellationTokenSource=L.Emitter=L.Event=L.Disposable=L.LRUCache=L.Touch=L.LinkedMap=L.ParameterStructures=L.NotificationType9=L.NotificationType8=L.NotificationType7=L.NotificationType6=L.NotificationType5=L.NotificationType4=L.NotificationType3=L.NotificationType2=L.NotificationType1=L.NotificationType0=L.NotificationType=L.ErrorCodes=L.ResponseError=L.RequestType9=L.RequestType8=L.RequestType7=L.RequestType6=L.RequestType5=L.RequestType4=L.RequestType3=L.RequestType2=L.RequestType1=L.RequestType0=L.RequestType=L.Message=L.RAL=void 0;L.MessageStrategy=L.CancellationStrategy=L.CancellationSenderStrategy=L.CancellationReceiverStrategy=L.ConnectionError=L.ConnectionErrors=L.LogTraceNotification=L.SetTraceNotification=L.TraceFormat=L.TraceValues=L.Trace=void 0;var We=Kd();Object.defineProperty(L,"Message",{enumerable:!0,get:function(){return We.Message}});Object.defineProperty(L,"RequestType",{enumerable:!0,get:function(){return We.RequestType}});Object.defineProperty(L,"RequestType0",{enumerable:!0,get:function(){return We.RequestType0}});Object.defineProperty(L,"RequestType1",{enumerable:!0,get:function(){return We.RequestType1}});Object.defineProperty(L,"RequestType2",{enumerable:!0,get:function(){return We.RequestType2}});Object.defineProperty(L,"RequestType3",{enumerable:!0,get:function(){return We.RequestType3}});Object.defineProperty(L,"RequestType4",{enumerable:!0,get:function(){return We.RequestType4}});Object.defineProperty(L,"RequestType5",{enumerable:!0,get:function(){return We.RequestType5}});Object.defineProperty(L,"RequestType6",{enumerable:!0,get:function(){return We.RequestType6}});Object.defineProperty(L,"RequestType7",{enumerable:!0,get:function(){return We.RequestType7}});Object.defineProperty(L,"RequestType8",{enumerable:!0,get:function(){return We.RequestType8}});Object.defineProperty(L,"RequestType9",{enumerable:!0,get:function(){return We.RequestType9}});Object.defineProperty(L,"ResponseError",{enumerable:!0,get:function(){return We.ResponseError}});Object.defineProperty(L,"ErrorCodes",{enumerable:!0,get:function(){return We.ErrorCodes}});Object.defineProperty(L,"NotificationType",{enumerable:!0,get:function(){return We.NotificationType}});Object.defineProperty(L,"NotificationType0",{enumerable:!0,get:function(){return We.NotificationType0}});Object.defineProperty(L,"NotificationType1",{enumerable:!0,get:function(){return We.NotificationType1}});Object.defineProperty(L,"NotificationType2",{enumerable:!0,get:function(){return We.NotificationType2}});Object.defineProperty(L,"NotificationType3",{enumerable:!0,get:function(){return We.NotificationType3}});Object.defineProperty(L,"NotificationType4",{enumerable:!0,get:function(){return We.NotificationType4}});Object.defineProperty(L,"NotificationType5",{enumerable:!0,get:function(){return We.NotificationType5}});Object.defineProperty(L,"NotificationType6",{enumerable:!0,get:function(){return We.NotificationType6}});Object.defineProperty(L,"NotificationType7",{enumerable:!0,get:function(){return We.NotificationType7}});Object.defineProperty(L,"NotificationType8",{enumerable:!0,get:function(){return We.NotificationType8}});Object.defineProperty(L,"NotificationType9",{enumerable:!0,get:function(){return We.NotificationType9}});Object.defineProperty(L,"ParameterStructures",{enumerable:!0,get:function(){return We.ParameterStructures}});var xp=Vd();Object.defineProperty(L,"LinkedMap",{enumerable:!0,get:function(){return xp.LinkedMap}});Object.defineProperty(L,"LRUCache",{enumerable:!0,get:function(){return xp.LRUCache}});Object.defineProperty(L,"Touch",{enumerable:!0,get:function(){return xp.Touch}});var MP=fv();Object.defineProperty(L,"Disposable",{enumerable:!0,get:function(){return MP.Disposable}});var Cv=jo();Object.defineProperty(L,"Event",{enumerable:!0,get:function(){return Cv.Event}});Object.defineProperty(L,"Emitter",{enumerable:!0,get:function(){return Cv.Emitter}});var Ev=Mc();Object.defineProperty(L,"CancellationTokenSource",{enumerable:!0,get:function(){return Ev.CancellationTokenSource}});Object.defineProperty(L,"CancellationToken",{enumerable:!0,get:function(){return Ev.CancellationToken}});var Pv=pv();Object.defineProperty(L,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Pv.SharedArraySenderStrategy}});Object.defineProperty(L,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Pv.SharedArrayReceiverStrategy}});var bp=mv();Object.defineProperty(L,"MessageReader",{enumerable:!0,get:function(){return bp.MessageReader}});Object.defineProperty(L,"AbstractMessageReader",{enumerable:!0,get:function(){return bp.AbstractMessageReader}});Object.defineProperty(L,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return bp.ReadableStreamMessageReader}});var _p=Rv();Object.defineProperty(L,"MessageWriter",{enumerable:!0,get:function(){return _p.MessageWriter}});Object.defineProperty(L,"AbstractMessageWriter",{enumerable:!0,get:function(){return _p.AbstractMessageWriter}});Object.defineProperty(L,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return _p.WriteableStreamMessageWriter}});var $P=xv();Object.defineProperty(L,"AbstractMessageBuffer",{enumerable:!0,get:function(){return $P.AbstractMessageBuffer}});var Bt=wv();Object.defineProperty(L,"ConnectionStrategy",{enumerable:!0,get:function(){return Bt.ConnectionStrategy}});Object.defineProperty(L,"ConnectionOptions",{enumerable:!0,get:function(){return Bt.ConnectionOptions}});Object.defineProperty(L,"NullLogger",{enumerable:!0,get:function(){return Bt.NullLogger}});Object.defineProperty(L,"createMessageConnection",{enumerable:!0,get:function(){return Bt.createMessageConnection}});Object.defineProperty(L,"ProgressToken",{enumerable:!0,get:function(){return Bt.ProgressToken}});Object.defineProperty(L,"ProgressType",{enumerable:!0,get:function(){return Bt.ProgressType}});Object.defineProperty(L,"Trace",{enumerable:!0,get:function(){return Bt.Trace}});Object.defineProperty(L,"TraceValues",{enumerable:!0,get:function(){return Bt.TraceValues}});Object.defineProperty(L,"TraceFormat",{enumerable:!0,get:function(){return Bt.TraceFormat}});Object.defineProperty(L,"SetTraceNotification",{enumerable:!0,get:function(){return Bt.SetTraceNotification}});Object.defineProperty(L,"LogTraceNotification",{enumerable:!0,get:function(){return Bt.LogTraceNotification}});Object.defineProperty(L,"ConnectionErrors",{enumerable:!0,get:function(){return Bt.ConnectionErrors}});Object.defineProperty(L,"ConnectionError",{enumerable:!0,get:function(){return Bt.ConnectionError}});Object.defineProperty(L,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return Bt.CancellationReceiverStrategy}});Object.defineProperty(L,"CancellationSenderStrategy",{enumerable:!0,get:function(){return Bt.CancellationSenderStrategy}});Object.defineProperty(L,"CancellationStrategy",{enumerable:!0,get:function(){return Bt.CancellationStrategy}});Object.defineProperty(L,"MessageStrategy",{enumerable:!0,get:function(){return Bt.MessageStrategy}});var FP=Ri();L.RAL=FP.default});var Dv=I(Cp=>{"use strict";Object.defineProperty(Cp,"__esModule",{value:!0});var bn=zc(),Vc=class e extends bn.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};Vc.emptyBuffer=new Uint8Array(0);var Sp=class{constructor(t){this.socket=t,this._onData=new bn.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,bn.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),bn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),bn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),bn.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},kp=class{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),bn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),bn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),bn.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},qP=new TextEncoder,Av=Object.freeze({messageBuffer:Object.freeze({create:e=>new Vc(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve(qP.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new Sp(e),asWritableStream:e=>new kp(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function wp(){return Av}(function(e){function t(){bn.RAL.install(Av)}e.install=t})(wp||(wp={}));Cp.default=wp});var uo=I($r=>{"use strict";var jP=$r&&$r.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UP=$r&&$r.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&jP(t,e,r)};Object.defineProperty($r,"__esModule",{value:!0});$r.createMessageConnection=$r.BrowserMessageWriter=$r.BrowserMessageReader=void 0;var WP=Dv();WP.default.install();var Bo=zc();UP(zc(),$r);var Ep=class extends Bo.AbstractMessageReader{constructor(t){super(),this._onData=new Bo.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};$r.BrowserMessageReader=Ep;var Pp=class extends Bo.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};$r.BrowserMessageWriter=Pp;function HP(e,t,r,n){return r===void 0&&(r=Bo.NullLogger),Bo.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Bo.createMessageConnection)(e,t,r,n)}$r.createMessageConnection=HP});var Ap=I((lK,Nv)=>{"use strict";Nv.exports=uo()});var ou={};yP(ou,{AnnotatedTextEdit:()=>Yn,ChangeAnnotation:()=>lo,ChangeAnnotationIdentifier:()=>Kt,CodeAction:()=>uh,CodeActionContext:()=>ch,CodeActionKind:()=>ah,CodeActionTriggerKind:()=>ka,CodeDescription:()=>qp,CodeLens:()=>lh,Color:()=>Yc,ColorInformation:()=>Op,ColorPresentation:()=>Lp,Command:()=>fo,CompletionItem:()=>Xp,CompletionItemKind:()=>ru,CompletionItemLabelDetails:()=>Vp,CompletionItemTag:()=>Bp,CompletionList:()=>Yp,CreateFile:()=>zo,DeleteFile:()=>Xo,Diagnostic:()=>xa,DiagnosticRelatedInformation:()=>Jc,DiagnosticSeverity:()=>Fp,DiagnosticTag:()=>Qc,DocumentHighlight:()=>th,DocumentHighlightKind:()=>eh,DocumentLink:()=>dh,DocumentSymbol:()=>sh,DocumentUri:()=>Dp,EOL:()=>GP,FoldingRange:()=>$p,FoldingRangeKind:()=>Mp,FormattingOptions:()=>fh,Hover:()=>Jp,InlayHint:()=>xh,InlayHintKind:()=>nu,InlayHintLabelPart:()=>iu,InlineCompletionContext:()=>Ch,InlineCompletionItem:()=>_h,InlineCompletionList:()=>Sh,InlineCompletionTriggerKind:()=>kh,InlineValueContext:()=>Rh,InlineValueEvaluatableExpression:()=>Th,InlineValueText:()=>yh,InlineValueVariableLookup:()=>vh,InsertReplaceEdit:()=>Kp,InsertTextFormat:()=>Gp,InsertTextMode:()=>zp,Location:()=>Ra,LocationLink:()=>Ip,MarkedString:()=>Sa,MarkupContent:()=>Yo,MarkupKind:()=>tu,OptionalVersionedTextDocumentIdentifier:()=>_a,ParameterInformation:()=>Qp,Position:()=>Fr,Range:()=>gt,RenameFile:()=>Vo,SelectedCompletionInfo:()=>wh,SelectionRange:()=>ph,SemanticTokenModifiers:()=>mh,SemanticTokenTypes:()=>hh,SemanticTokens:()=>gh,SignatureInformation:()=>Zp,StringValue:()=>bh,SymbolInformation:()=>ih,SymbolKind:()=>rh,SymbolTag:()=>nh,TextDocument:()=>Ph,TextDocumentEdit:()=>ba,TextDocumentIdentifier:()=>Up,TextDocumentItem:()=>Hp,TextEdit:()=>_n,URI:()=>Xc,VersionedTextDocumentIdentifier:()=>Wp,WorkspaceChange:()=>jp,WorkspaceEdit:()=>Zc,WorkspaceFolder:()=>Eh,WorkspaceSymbol:()=>oh,integer:()=>Np,uinteger:()=>Ta});var Dp,Xc,Np,Ta,Fr,gt,Ra,Ip,Yc,Op,Lp,Mp,$p,Jc,Fp,Qc,qp,xa,fo,_n,lo,Kt,Yn,ba,zo,Vo,Xo,Zc,Ko,eu,jp,Up,Wp,_a,Hp,tu,Yo,ru,Gp,Bp,Kp,zp,Vp,Xp,Yp,Sa,Jp,Qp,Zp,eh,th,rh,nh,ih,oh,sh,ah,ka,ch,uh,lh,fh,dh,ph,hh,mh,gh,yh,vh,Th,Rh,nu,iu,xh,bh,_h,Sh,kh,wh,Ch,Eh,GP,Ph,Ah,E,po=gP(()=>{"use strict";(function(e){function t(r){return typeof r=="string"}e.is=t})(Dp||(Dp={}));(function(e){function t(r){return typeof r=="string"}e.is=t})(Xc||(Xc={}));(function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(Np||(Np={}));(function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647;function t(r){return typeof r=="number"&&e.MIN_VALUE<=r&&r<=e.MAX_VALUE}e.is=t})(Ta||(Ta={}));(function(e){function t(n,i){return n===Number.MAX_VALUE&&(n=Ta.MAX_VALUE),i===Number.MAX_VALUE&&(i=Ta.MAX_VALUE),{line:n,character:i}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&E.uinteger(i.line)&&E.uinteger(i.character)}e.is=r})(Fr||(Fr={}));(function(e){function t(n,i,o,s){if(E.uinteger(n)&&E.uinteger(i)&&E.uinteger(o)&&E.uinteger(s))return{start:Fr.create(n,i),end:Fr.create(o,s)};if(Fr.is(n)&&Fr.is(i))return{start:n,end:i};throw new Error(`Range#create called with invalid arguments[${n}, ${i}, ${o}, ${s}]`)}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&Fr.is(i.start)&&Fr.is(i.end)}e.is=r})(gt||(gt={}));(function(e){function t(n,i){return{uri:n,range:i}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&gt.is(i.range)&&(E.string(i.uri)||E.undefined(i.uri))}e.is=r})(Ra||(Ra={}));(function(e){function t(n,i,o,s){return{targetUri:n,targetRange:i,targetSelectionRange:o,originSelectionRange:s}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&gt.is(i.targetRange)&&E.string(i.targetUri)&&gt.is(i.targetSelectionRange)&&(gt.is(i.originSelectionRange)||E.undefined(i.originSelectionRange))}e.is=r})(Ip||(Ip={}));(function(e){function t(n,i,o,s){return{red:n,green:i,blue:o,alpha:s}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&E.numberRange(i.red,0,1)&&E.numberRange(i.green,0,1)&&E.numberRange(i.blue,0,1)&&E.numberRange(i.alpha,0,1)}e.is=r})(Yc||(Yc={}));(function(e){function t(n,i){return{range:n,color:i}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&gt.is(i.range)&&Yc.is(i.color)}e.is=r})(Op||(Op={}));(function(e){function t(n,i,o){return{label:n,textEdit:i,additionalTextEdits:o}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&E.string(i.label)&&(E.undefined(i.textEdit)||_n.is(i))&&(E.undefined(i.additionalTextEdits)||E.typedArray(i.additionalTextEdits,_n.is))}e.is=r})(Lp||(Lp={}));(function(e){e.Comment="comment",e.Imports="imports",e.Region="region"})(Mp||(Mp={}));(function(e){function t(n,i,o,s,a,c){let l={startLine:n,endLine:i};return E.defined(o)&&(l.startCharacter=o),E.defined(s)&&(l.endCharacter=s),E.defined(a)&&(l.kind=a),E.defined(c)&&(l.collapsedText=c),l}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&E.uinteger(i.startLine)&&E.uinteger(i.startLine)&&(E.undefined(i.startCharacter)||E.uinteger(i.startCharacter))&&(E.undefined(i.endCharacter)||E.uinteger(i.endCharacter))&&(E.undefined(i.kind)||E.string(i.kind))}e.is=r})($p||($p={}));(function(e){function t(n,i){return{location:n,message:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&Ra.is(i.location)&&E.string(i.message)}e.is=r})(Jc||(Jc={}));(function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4})(Fp||(Fp={}));(function(e){e.Unnecessary=1,e.Deprecated=2})(Qc||(Qc={}));(function(e){function t(r){let n=r;return E.objectLiteral(n)&&E.string(n.href)}e.is=t})(qp||(qp={}));(function(e){function t(n,i,o,s,a,c){let l={range:n,message:i};return E.defined(o)&&(l.severity=o),E.defined(s)&&(l.code=s),E.defined(a)&&(l.source=a),E.defined(c)&&(l.relatedInformation=c),l}e.create=t;function r(n){var i;let o=n;return E.defined(o)&&gt.is(o.range)&&E.string(o.message)&&(E.number(o.severity)||E.undefined(o.severity))&&(E.integer(o.code)||E.string(o.code)||E.undefined(o.code))&&(E.undefined(o.codeDescription)||E.string((i=o.codeDescription)===null||i===void 0?void 0:i.href))&&(E.string(o.source)||E.undefined(o.source))&&(E.undefined(o.relatedInformation)||E.typedArray(o.relatedInformation,Jc.is))}e.is=r})(xa||(xa={}));(function(e){function t(n,i,...o){let s={title:n,command:i};return E.defined(o)&&o.length>0&&(s.arguments=o),s}e.create=t;function r(n){let i=n;return E.defined(i)&&E.string(i.title)&&E.string(i.command)}e.is=r})(fo||(fo={}));(function(e){function t(o,s){return{range:o,newText:s}}e.replace=t;function r(o,s){return{range:{start:o,end:o},newText:s}}e.insert=r;function n(o){return{range:o,newText:""}}e.del=n;function i(o){let s=o;return E.objectLiteral(s)&&E.string(s.newText)&&gt.is(s.range)}e.is=i})(_n||(_n={}));(function(e){function t(n,i,o){let s={label:n};return i!==void 0&&(s.needsConfirmation=i),o!==void 0&&(s.description=o),s}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&E.string(i.label)&&(E.boolean(i.needsConfirmation)||i.needsConfirmation===void 0)&&(E.string(i.description)||i.description===void 0)}e.is=r})(lo||(lo={}));(function(e){function t(r){let n=r;return E.string(n)}e.is=t})(Kt||(Kt={}));(function(e){function t(o,s,a){return{range:o,newText:s,annotationId:a}}e.replace=t;function r(o,s,a){return{range:{start:o,end:o},newText:s,annotationId:a}}e.insert=r;function n(o,s){return{range:o,newText:"",annotationId:s}}e.del=n;function i(o){let s=o;return _n.is(s)&&(lo.is(s.annotationId)||Kt.is(s.annotationId))}e.is=i})(Yn||(Yn={}));(function(e){function t(n,i){return{textDocument:n,edits:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&_a.is(i.textDocument)&&Array.isArray(i.edits)}e.is=r})(ba||(ba={}));(function(e){function t(n,i,o){let s={kind:"create",uri:n};return i!==void 0&&(i.overwrite!==void 0||i.ignoreIfExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function r(n){let i=n;return i&&i.kind==="create"&&E.string(i.uri)&&(i.options===void 0||(i.options.overwrite===void 0||E.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||E.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Kt.is(i.annotationId))}e.is=r})(zo||(zo={}));(function(e){function t(n,i,o,s){let a={kind:"rename",oldUri:n,newUri:i};return o!==void 0&&(o.overwrite!==void 0||o.ignoreIfExists!==void 0)&&(a.options=o),s!==void 0&&(a.annotationId=s),a}e.create=t;function r(n){let i=n;return i&&i.kind==="rename"&&E.string(i.oldUri)&&E.string(i.newUri)&&(i.options===void 0||(i.options.overwrite===void 0||E.boolean(i.options.overwrite))&&(i.options.ignoreIfExists===void 0||E.boolean(i.options.ignoreIfExists)))&&(i.annotationId===void 0||Kt.is(i.annotationId))}e.is=r})(Vo||(Vo={}));(function(e){function t(n,i,o){let s={kind:"delete",uri:n};return i!==void 0&&(i.recursive!==void 0||i.ignoreIfNotExists!==void 0)&&(s.options=i),o!==void 0&&(s.annotationId=o),s}e.create=t;function r(n){let i=n;return i&&i.kind==="delete"&&E.string(i.uri)&&(i.options===void 0||(i.options.recursive===void 0||E.boolean(i.options.recursive))&&(i.options.ignoreIfNotExists===void 0||E.boolean(i.options.ignoreIfNotExists)))&&(i.annotationId===void 0||Kt.is(i.annotationId))}e.is=r})(Xo||(Xo={}));(function(e){function t(r){let n=r;return n&&(n.changes!==void 0||n.documentChanges!==void 0)&&(n.documentChanges===void 0||n.documentChanges.every(i=>E.string(i.kind)?zo.is(i)||Vo.is(i)||Xo.is(i):ba.is(i)))}e.is=t})(Zc||(Zc={}));Ko=class{constructor(t,r){this.edits=t,this.changeAnnotations=r}insert(t,r,n){let i,o;if(n===void 0?i=_n.insert(t,r):Kt.is(n)?(o=n,i=Yn.insert(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Yn.insert(t,r,o)),this.edits.push(i),o!==void 0)return o}replace(t,r,n){let i,o;if(n===void 0?i=_n.replace(t,r):Kt.is(n)?(o=n,i=Yn.replace(t,r,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),i=Yn.replace(t,r,o)),this.edits.push(i),o!==void 0)return o}delete(t,r){let n,i;if(r===void 0?n=_n.del(t):Kt.is(r)?(i=r,n=Yn.del(t,r)):(this.assertChangeAnnotations(this.changeAnnotations),i=this.changeAnnotations.manage(r),n=Yn.del(t,i)),this.edits.push(n),i!==void 0)return i}add(t){this.edits.push(t)}all(){return this.edits}clear(){this.edits.splice(0,this.edits.length)}assertChangeAnnotations(t){if(t===void 0)throw new Error("Text edit change is not configured to manage change annotations.")}},eu=class{constructor(t){this._annotations=t===void 0?Object.create(null):t,this._counter=0,this._size=0}all(){return this._annotations}get size(){return this._size}manage(t,r){let n;if(Kt.is(t)?n=t:(n=this.nextId(),r=t),this._annotations[n]!==void 0)throw new Error(`Id ${n} is already in use.`);if(r===void 0)throw new Error(`No annotation provided for id ${n}`);return this._annotations[n]=r,this._size++,n}nextId(){return this._counter++,this._counter.toString()}},jp=class{constructor(t){this._textEditChanges=Object.create(null),t!==void 0?(this._workspaceEdit=t,t.documentChanges?(this._changeAnnotations=new eu(t.changeAnnotations),t.changeAnnotations=this._changeAnnotations.all(),t.documentChanges.forEach(r=>{if(ba.is(r)){let n=new Ko(r.edits,this._changeAnnotations);this._textEditChanges[r.textDocument.uri]=n}})):t.changes&&Object.keys(t.changes).forEach(r=>{let n=new Ko(t.changes[r]);this._textEditChanges[r]=n})):this._workspaceEdit={}}get edit(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit}getTextEditChange(t){if(_a.is(t)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let r={uri:t.uri,version:t.version},n=this._textEditChanges[r.uri];if(!n){let i=[],o={textDocument:r,edits:i};this._workspaceEdit.documentChanges.push(o),n=new Ko(i,this._changeAnnotations),this._textEditChanges[r.uri]=n}return n}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");let r=this._textEditChanges[t];if(!r){let n=[];this._workspaceEdit.changes[t]=n,r=new Ko(n),this._textEditChanges[t]=r}return r}}initDocumentChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new eu,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())}initChanges(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))}createFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;lo.is(r)||Kt.is(r)?i=r:n=r;let o,s;if(i===void 0?o=zo.create(t,n):(s=Kt.is(i)?i:this._changeAnnotations.manage(i),o=zo.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}renameFile(t,r,n,i){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let o;lo.is(n)||Kt.is(n)?o=n:i=n;let s,a;if(o===void 0?s=Vo.create(t,r,i):(a=Kt.is(o)?o:this._changeAnnotations.manage(o),s=Vo.create(t,r,i,a)),this._workspaceEdit.documentChanges.push(s),a!==void 0)return a}deleteFile(t,r,n){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");let i;lo.is(r)||Kt.is(r)?i=r:n=r;let o,s;if(i===void 0?o=Xo.create(t,n):(s=Kt.is(i)?i:this._changeAnnotations.manage(i),o=Xo.create(t,n,s)),this._workspaceEdit.documentChanges.push(o),s!==void 0)return s}};(function(e){function t(n){return{uri:n}}e.create=t;function r(n){let i=n;return E.defined(i)&&E.string(i.uri)}e.is=r})(Up||(Up={}));(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&E.string(i.uri)&&E.integer(i.version)}e.is=r})(Wp||(Wp={}));(function(e){function t(n,i){return{uri:n,version:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&E.string(i.uri)&&(i.version===null||E.integer(i.version))}e.is=r})(_a||(_a={}));(function(e){function t(n,i,o,s){return{uri:n,languageId:i,version:o,text:s}}e.create=t;function r(n){let i=n;return E.defined(i)&&E.string(i.uri)&&E.string(i.languageId)&&E.integer(i.version)&&E.string(i.text)}e.is=r})(Hp||(Hp={}));(function(e){e.PlainText="plaintext",e.Markdown="markdown";function t(r){let n=r;return n===e.PlainText||n===e.Markdown}e.is=t})(tu||(tu={}));(function(e){function t(r){let n=r;return E.objectLiteral(r)&&tu.is(n.kind)&&E.string(n.value)}e.is=t})(Yo||(Yo={}));(function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25})(ru||(ru={}));(function(e){e.PlainText=1,e.Snippet=2})(Gp||(Gp={}));(function(e){e.Deprecated=1})(Bp||(Bp={}));(function(e){function t(n,i,o){return{newText:n,insert:i,replace:o}}e.create=t;function r(n){let i=n;return i&&E.string(i.newText)&&gt.is(i.insert)&&gt.is(i.replace)}e.is=r})(Kp||(Kp={}));(function(e){e.asIs=1,e.adjustIndentation=2})(zp||(zp={}));(function(e){function t(r){let n=r;return n&&(E.string(n.detail)||n.detail===void 0)&&(E.string(n.description)||n.description===void 0)}e.is=t})(Vp||(Vp={}));(function(e){function t(r){return{label:r}}e.create=t})(Xp||(Xp={}));(function(e){function t(r,n){return{items:r||[],isIncomplete:!!n}}e.create=t})(Yp||(Yp={}));(function(e){function t(n){return n.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}e.fromPlainText=t;function r(n){let i=n;return E.string(i)||E.objectLiteral(i)&&E.string(i.language)&&E.string(i.value)}e.is=r})(Sa||(Sa={}));(function(e){function t(r){let n=r;return!!n&&E.objectLiteral(n)&&(Yo.is(n.contents)||Sa.is(n.contents)||E.typedArray(n.contents,Sa.is))&&(r.range===void 0||gt.is(r.range))}e.is=t})(Jp||(Jp={}));(function(e){function t(r,n){return n?{label:r,documentation:n}:{label:r}}e.create=t})(Qp||(Qp={}));(function(e){function t(r,n,...i){let o={label:r};return E.defined(n)&&(o.documentation=n),E.defined(i)?o.parameters=i:o.parameters=[],o}e.create=t})(Zp||(Zp={}));(function(e){e.Text=1,e.Read=2,e.Write=3})(eh||(eh={}));(function(e){function t(r,n){let i={range:r};return E.number(n)&&(i.kind=n),i}e.create=t})(th||(th={}));(function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26})(rh||(rh={}));(function(e){e.Deprecated=1})(nh||(nh={}));(function(e){function t(r,n,i,o,s){let a={name:r,kind:n,location:{uri:o,range:i}};return s&&(a.containerName=s),a}e.create=t})(ih||(ih={}));(function(e){function t(r,n,i,o){return o!==void 0?{name:r,kind:n,location:{uri:i,range:o}}:{name:r,kind:n,location:{uri:i}}}e.create=t})(oh||(oh={}));(function(e){function t(n,i,o,s,a,c){let l={name:n,detail:i,kind:o,range:s,selectionRange:a};return c!==void 0&&(l.children=c),l}e.create=t;function r(n){let i=n;return i&&E.string(i.name)&&E.number(i.kind)&&gt.is(i.range)&&gt.is(i.selectionRange)&&(i.detail===void 0||E.string(i.detail))&&(i.deprecated===void 0||E.boolean(i.deprecated))&&(i.children===void 0||Array.isArray(i.children))&&(i.tags===void 0||Array.isArray(i.tags))}e.is=r})(sh||(sh={}));(function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"})(ah||(ah={}));(function(e){e.Invoked=1,e.Automatic=2})(ka||(ka={}));(function(e){function t(n,i,o){let s={diagnostics:n};return i!=null&&(s.only=i),o!=null&&(s.triggerKind=o),s}e.create=t;function r(n){let i=n;return E.defined(i)&&E.typedArray(i.diagnostics,xa.is)&&(i.only===void 0||E.typedArray(i.only,E.string))&&(i.triggerKind===void 0||i.triggerKind===ka.Invoked||i.triggerKind===ka.Automatic)}e.is=r})(ch||(ch={}));(function(e){function t(n,i,o){let s={title:n},a=!0;return typeof i=="string"?(a=!1,s.kind=i):fo.is(i)?s.command=i:s.edit=i,a&&o!==void 0&&(s.kind=o),s}e.create=t;function r(n){let i=n;return i&&E.string(i.title)&&(i.diagnostics===void 0||E.typedArray(i.diagnostics,xa.is))&&(i.kind===void 0||E.string(i.kind))&&(i.edit!==void 0||i.command!==void 0)&&(i.command===void 0||fo.is(i.command))&&(i.isPreferred===void 0||E.boolean(i.isPreferred))&&(i.edit===void 0||Zc.is(i.edit))}e.is=r})(uh||(uh={}));(function(e){function t(n,i){let o={range:n};return E.defined(i)&&(o.data=i),o}e.create=t;function r(n){let i=n;return E.defined(i)&&gt.is(i.range)&&(E.undefined(i.command)||fo.is(i.command))}e.is=r})(lh||(lh={}));(function(e){function t(n,i){return{tabSize:n,insertSpaces:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&E.uinteger(i.tabSize)&&E.boolean(i.insertSpaces)}e.is=r})(fh||(fh={}));(function(e){function t(n,i,o){return{range:n,target:i,data:o}}e.create=t;function r(n){let i=n;return E.defined(i)&&gt.is(i.range)&&(E.undefined(i.target)||E.string(i.target))}e.is=r})(dh||(dh={}));(function(e){function t(n,i){return{range:n,parent:i}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&gt.is(i.range)&&(i.parent===void 0||e.is(i.parent))}e.is=r})(ph||(ph={}));(function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"})(hh||(hh={}));(function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"})(mh||(mh={}));(function(e){function t(r){let n=r;return E.objectLiteral(n)&&(n.resultId===void 0||typeof n.resultId=="string")&&Array.isArray(n.data)&&(n.data.length===0||typeof n.data[0]=="number")}e.is=t})(gh||(gh={}));(function(e){function t(n,i){return{range:n,text:i}}e.create=t;function r(n){let i=n;return i!=null&&gt.is(i.range)&&E.string(i.text)}e.is=r})(yh||(yh={}));(function(e){function t(n,i,o){return{range:n,variableName:i,caseSensitiveLookup:o}}e.create=t;function r(n){let i=n;return i!=null&&gt.is(i.range)&&E.boolean(i.caseSensitiveLookup)&&(E.string(i.variableName)||i.variableName===void 0)}e.is=r})(vh||(vh={}));(function(e){function t(n,i){return{range:n,expression:i}}e.create=t;function r(n){let i=n;return i!=null&&gt.is(i.range)&&(E.string(i.expression)||i.expression===void 0)}e.is=r})(Th||(Th={}));(function(e){function t(n,i){return{frameId:n,stoppedLocation:i}}e.create=t;function r(n){let i=n;return E.defined(i)&&gt.is(n.stoppedLocation)}e.is=r})(Rh||(Rh={}));(function(e){e.Type=1,e.Parameter=2;function t(r){return r===1||r===2}e.is=t})(nu||(nu={}));(function(e){function t(n){return{value:n}}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&(i.tooltip===void 0||E.string(i.tooltip)||Yo.is(i.tooltip))&&(i.location===void 0||Ra.is(i.location))&&(i.command===void 0||fo.is(i.command))}e.is=r})(iu||(iu={}));(function(e){function t(n,i,o){let s={position:n,label:i};return o!==void 0&&(s.kind=o),s}e.create=t;function r(n){let i=n;return E.objectLiteral(i)&&Fr.is(i.position)&&(E.string(i.label)||E.typedArray(i.label,iu.is))&&(i.kind===void 0||nu.is(i.kind))&&i.textEdits===void 0||E.typedArray(i.textEdits,_n.is)&&(i.tooltip===void 0||E.string(i.tooltip)||Yo.is(i.tooltip))&&(i.paddingLeft===void 0||E.boolean(i.paddingLeft))&&(i.paddingRight===void 0||E.boolean(i.paddingRight))}e.is=r})(xh||(xh={}));(function(e){function t(r){return{kind:"snippet",value:r}}e.createSnippet=t})(bh||(bh={}));(function(e){function t(r,n,i,o){return{insertText:r,filterText:n,range:i,command:o}}e.create=t})(_h||(_h={}));(function(e){function t(r){return{items:r}}e.create=t})(Sh||(Sh={}));(function(e){e.Invoked=0,e.Automatic=1})(kh||(kh={}));(function(e){function t(r,n){return{range:r,text:n}}e.create=t})(wh||(wh={}));(function(e){function t(r,n){return{triggerKind:r,selectedCompletionInfo:n}}e.create=t})(Ch||(Ch={}));(function(e){function t(r){let n=r;return E.objectLiteral(n)&&Xc.is(n.uri)&&E.string(n.name)}e.is=t})(Eh||(Eh={}));GP=[`
`,`\r
`,"\r"];(function(e){function t(o,s,a,c){return new Ah(o,s,a,c)}e.create=t;function r(o){let s=o;return!!(E.defined(s)&&E.string(s.uri)&&(E.undefined(s.languageId)||E.string(s.languageId))&&E.uinteger(s.lineCount)&&E.func(s.getText)&&E.func(s.positionAt)&&E.func(s.offsetAt))}e.is=r;function n(o,s){let a=o.getText(),c=i(s,(g,v)=>{let x=g.range.start.line-v.range.start.line;return x===0?g.range.start.character-v.range.start.character:x}),l=a.length;for(let g=c.length-1;g>=0;g--){let v=c[g],x=o.offsetAt(v.range.start),k=o.offsetAt(v.range.end);if(k<=l)a=a.substring(0,x)+v.newText+a.substring(k,a.length);else throw new Error("Overlapping edit");l=x}return a}e.applyEdits=n;function i(o,s){if(o.length<=1)return o;let a=o.length/2|0,c=o.slice(0,a),l=o.slice(a);i(c,s),i(l,s);let g=0,v=0,x=0;for(;g<c.length&&v<l.length;)s(c[g],l[v])<=0?o[x++]=c[g++]:o[x++]=l[v++];for(;g<c.length;)o[x++]=c[g++];for(;v<l.length;)o[x++]=l[v++];return o}})(Ph||(Ph={}));Ah=class{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){this._content=t.text,this._version=r,this._lineOffsets=void 0}getLineOffsets(){if(this._lineOffsets===void 0){let t=[],r=this._content,n=!0;for(let i=0;i<r.length;i++){n&&(t.push(i),n=!1);let o=r.charAt(i);n=o==="\r"||o===`
`,o==="\r"&&i+1<r.length&&r.charAt(i+1)===`
`&&i++}n&&r.length>0&&t.push(r.length),this._lineOffsets=t}return this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return Fr.create(0,t);for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let o=n-1;return Fr.create(o,t-r[o])}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}};(function(e){let t=Object.prototype.toString;function r(k){return typeof k<"u"}e.defined=r;function n(k){return typeof k>"u"}e.undefined=n;function i(k){return k===!0||k===!1}e.boolean=i;function o(k){return t.call(k)==="[object String]"}e.string=o;function s(k){return t.call(k)==="[object Number]"}e.number=s;function a(k,N,D){return t.call(k)==="[object Number]"&&N<=k&&k<=D}e.numberRange=a;function c(k){return t.call(k)==="[object Number]"&&-2147483648<=k&&k<=2147483647}e.integer=c;function l(k){return t.call(k)==="[object Number]"&&0<=k&&k<=2147483647}e.uinteger=l;function g(k){return t.call(k)==="[object Function]"}e.func=g;function v(k){return k!==null&&typeof k=="object"}e.objectLiteral=v;function x(k,N){return Array.isArray(k)&&k.every(N)}e.typedArray=x})(E||(E={}))});var Qe=I(Sr=>{"use strict";Object.defineProperty(Sr,"__esModule",{value:!0});Sr.ProtocolNotificationType=Sr.ProtocolNotificationType0=Sr.ProtocolRequestType=Sr.ProtocolRequestType0=Sr.RegistrationType=Sr.MessageDirection=void 0;var Jo=uo(),Iv;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Iv||(Sr.MessageDirection=Iv={}));var Dh=class{constructor(t){this.method=t}};Sr.RegistrationType=Dh;var Nh=class extends Jo.RequestType0{constructor(t){super(t)}};Sr.ProtocolRequestType0=Nh;var Ih=class extends Jo.RequestType{constructor(t){super(t,Jo.ParameterStructures.byName)}};Sr.ProtocolRequestType=Ih;var Oh=class extends Jo.NotificationType0{constructor(t){super(t)}};Sr.ProtocolNotificationType0=Oh;var Lh=class extends Jo.NotificationType{constructor(t){super(t,Jo.ParameterStructures.byName)}};Sr.ProtocolNotificationType=Lh});var su=I(_t=>{"use strict";Object.defineProperty(_t,"__esModule",{value:!0});_t.objectLiteral=_t.typedArray=_t.stringArray=_t.array=_t.func=_t.error=_t.number=_t.string=_t.boolean=void 0;function BP(e){return e===!0||e===!1}_t.boolean=BP;function Ov(e){return typeof e=="string"||e instanceof String}_t.string=Ov;function KP(e){return typeof e=="number"||e instanceof Number}_t.number=KP;function zP(e){return e instanceof Error}_t.error=zP;function VP(e){return typeof e=="function"}_t.func=VP;function Lv(e){return Array.isArray(e)}_t.array=Lv;function XP(e){return Lv(e)&&e.every(t=>Ov(t))}_t.stringArray=XP;function YP(e,t){return Array.isArray(e)&&e.every(t)}_t.typedArray=YP;function JP(e){return e!==null&&typeof e=="object"}_t.objectLiteral=JP});var Fv=I(au=>{"use strict";Object.defineProperty(au,"__esModule",{value:!0});au.ImplementationRequest=void 0;var Mv=Qe(),$v;(function(e){e.method="textDocument/implementation",e.messageDirection=Mv.MessageDirection.clientToServer,e.type=new Mv.ProtocolRequestType(e.method)})($v||(au.ImplementationRequest=$v={}))});var Uv=I(cu=>{"use strict";Object.defineProperty(cu,"__esModule",{value:!0});cu.TypeDefinitionRequest=void 0;var qv=Qe(),jv;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=qv.MessageDirection.clientToServer,e.type=new qv.ProtocolRequestType(e.method)})(jv||(cu.TypeDefinitionRequest=jv={}))});var Gv=I(Qo=>{"use strict";Object.defineProperty(Qo,"__esModule",{value:!0});Qo.DidChangeWorkspaceFoldersNotification=Qo.WorkspaceFoldersRequest=void 0;var uu=Qe(),Wv;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=uu.MessageDirection.serverToClient,e.type=new uu.ProtocolRequestType0(e.method)})(Wv||(Qo.WorkspaceFoldersRequest=Wv={}));var Hv;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=uu.MessageDirection.clientToServer,e.type=new uu.ProtocolNotificationType(e.method)})(Hv||(Qo.DidChangeWorkspaceFoldersNotification=Hv={}))});var zv=I(lu=>{"use strict";Object.defineProperty(lu,"__esModule",{value:!0});lu.ConfigurationRequest=void 0;var Bv=Qe(),Kv;(function(e){e.method="workspace/configuration",e.messageDirection=Bv.MessageDirection.serverToClient,e.type=new Bv.ProtocolRequestType(e.method)})(Kv||(lu.ConfigurationRequest=Kv={}))});var Yv=I(Zo=>{"use strict";Object.defineProperty(Zo,"__esModule",{value:!0});Zo.ColorPresentationRequest=Zo.DocumentColorRequest=void 0;var fu=Qe(),Vv;(function(e){e.method="textDocument/documentColor",e.messageDirection=fu.MessageDirection.clientToServer,e.type=new fu.ProtocolRequestType(e.method)})(Vv||(Zo.DocumentColorRequest=Vv={}));var Xv;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=fu.MessageDirection.clientToServer,e.type=new fu.ProtocolRequestType(e.method)})(Xv||(Zo.ColorPresentationRequest=Xv={}))});var Zv=I(es=>{"use strict";Object.defineProperty(es,"__esModule",{value:!0});es.FoldingRangeRefreshRequest=es.FoldingRangeRequest=void 0;var du=Qe(),Jv;(function(e){e.method="textDocument/foldingRange",e.messageDirection=du.MessageDirection.clientToServer,e.type=new du.ProtocolRequestType(e.method)})(Jv||(es.FoldingRangeRequest=Jv={}));var Qv;(function(e){e.method="workspace/foldingRange/refresh",e.messageDirection=du.MessageDirection.serverToClient,e.type=new du.ProtocolRequestType0(e.method)})(Qv||(es.FoldingRangeRefreshRequest=Qv={}))});var rT=I(pu=>{"use strict";Object.defineProperty(pu,"__esModule",{value:!0});pu.DeclarationRequest=void 0;var eT=Qe(),tT;(function(e){e.method="textDocument/declaration",e.messageDirection=eT.MessageDirection.clientToServer,e.type=new eT.ProtocolRequestType(e.method)})(tT||(pu.DeclarationRequest=tT={}))});var oT=I(hu=>{"use strict";Object.defineProperty(hu,"__esModule",{value:!0});hu.SelectionRangeRequest=void 0;var nT=Qe(),iT;(function(e){e.method="textDocument/selectionRange",e.messageDirection=nT.MessageDirection.clientToServer,e.type=new nT.ProtocolRequestType(e.method)})(iT||(hu.SelectionRangeRequest=iT={}))});var uT=I(_i=>{"use strict";Object.defineProperty(_i,"__esModule",{value:!0});_i.WorkDoneProgressCancelNotification=_i.WorkDoneProgressCreateRequest=_i.WorkDoneProgress=void 0;var QP=uo(),mu=Qe(),sT;(function(e){e.type=new QP.ProgressType;function t(r){return r===e.type}e.is=t})(sT||(_i.WorkDoneProgress=sT={}));var aT;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=mu.MessageDirection.serverToClient,e.type=new mu.ProtocolRequestType(e.method)})(aT||(_i.WorkDoneProgressCreateRequest=aT={}));var cT;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=mu.MessageDirection.clientToServer,e.type=new mu.ProtocolNotificationType(e.method)})(cT||(_i.WorkDoneProgressCancelNotification=cT={}))});var pT=I(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.CallHierarchyOutgoingCallsRequest=Si.CallHierarchyIncomingCallsRequest=Si.CallHierarchyPrepareRequest=void 0;var ts=Qe(),lT;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=ts.MessageDirection.clientToServer,e.type=new ts.ProtocolRequestType(e.method)})(lT||(Si.CallHierarchyPrepareRequest=lT={}));var fT;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=ts.MessageDirection.clientToServer,e.type=new ts.ProtocolRequestType(e.method)})(fT||(Si.CallHierarchyIncomingCallsRequest=fT={}));var dT;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=ts.MessageDirection.clientToServer,e.type=new ts.ProtocolRequestType(e.method)})(dT||(Si.CallHierarchyOutgoingCallsRequest=dT={}))});var TT=I(kr=>{"use strict";Object.defineProperty(kr,"__esModule",{value:!0});kr.SemanticTokensRefreshRequest=kr.SemanticTokensRangeRequest=kr.SemanticTokensDeltaRequest=kr.SemanticTokensRequest=kr.SemanticTokensRegistrationType=kr.TokenFormat=void 0;var Jn=Qe(),hT;(function(e){e.Relative="relative"})(hT||(kr.TokenFormat=hT={}));var wa;(function(e){e.method="textDocument/semanticTokens",e.type=new Jn.RegistrationType(e.method)})(wa||(kr.SemanticTokensRegistrationType=wa={}));var mT;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method),e.registrationMethod=wa.method})(mT||(kr.SemanticTokensRequest=mT={}));var gT;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method),e.registrationMethod=wa.method})(gT||(kr.SemanticTokensDeltaRequest=gT={}));var yT;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=Jn.MessageDirection.clientToServer,e.type=new Jn.ProtocolRequestType(e.method),e.registrationMethod=wa.method})(yT||(kr.SemanticTokensRangeRequest=yT={}));var vT;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=Jn.MessageDirection.serverToClient,e.type=new Jn.ProtocolRequestType0(e.method)})(vT||(kr.SemanticTokensRefreshRequest=vT={}))});var bT=I(gu=>{"use strict";Object.defineProperty(gu,"__esModule",{value:!0});gu.ShowDocumentRequest=void 0;var RT=Qe(),xT;(function(e){e.method="window/showDocument",e.messageDirection=RT.MessageDirection.serverToClient,e.type=new RT.ProtocolRequestType(e.method)})(xT||(gu.ShowDocumentRequest=xT={}))});var kT=I(yu=>{"use strict";Object.defineProperty(yu,"__esModule",{value:!0});yu.LinkedEditingRangeRequest=void 0;var _T=Qe(),ST;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=_T.MessageDirection.clientToServer,e.type=new _T.ProtocolRequestType(e.method)})(ST||(yu.LinkedEditingRangeRequest=ST={}))});var IT=I(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.WillDeleteFilesRequest=tr.DidDeleteFilesNotification=tr.DidRenameFilesNotification=tr.WillRenameFilesRequest=tr.DidCreateFilesNotification=tr.WillCreateFilesRequest=tr.FileOperationPatternKind=void 0;var Wr=Qe(),wT;(function(e){e.file="file",e.folder="folder"})(wT||(tr.FileOperationPatternKind=wT={}));var CT;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolRequestType(e.method)})(CT||(tr.WillCreateFilesRequest=CT={}));var ET;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolNotificationType(e.method)})(ET||(tr.DidCreateFilesNotification=ET={}));var PT;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolRequestType(e.method)})(PT||(tr.WillRenameFilesRequest=PT={}));var AT;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolNotificationType(e.method)})(AT||(tr.DidRenameFilesNotification=AT={}));var DT;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolNotificationType(e.method)})(DT||(tr.DidDeleteFilesNotification=DT={}));var NT;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Wr.MessageDirection.clientToServer,e.type=new Wr.ProtocolRequestType(e.method)})(NT||(tr.WillDeleteFilesRequest=NT={}))});var FT=I(ki=>{"use strict";Object.defineProperty(ki,"__esModule",{value:!0});ki.MonikerRequest=ki.MonikerKind=ki.UniquenessLevel=void 0;var OT=Qe(),LT;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(LT||(ki.UniquenessLevel=LT={}));var MT;(function(e){e.$import="import",e.$export="export",e.local="local"})(MT||(ki.MonikerKind=MT={}));var $T;(function(e){e.method="textDocument/moniker",e.messageDirection=OT.MessageDirection.clientToServer,e.type=new OT.ProtocolRequestType(e.method)})($T||(ki.MonikerRequest=$T={}))});var WT=I(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.TypeHierarchySubtypesRequest=wi.TypeHierarchySupertypesRequest=wi.TypeHierarchyPrepareRequest=void 0;var rs=Qe(),qT;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=rs.MessageDirection.clientToServer,e.type=new rs.ProtocolRequestType(e.method)})(qT||(wi.TypeHierarchyPrepareRequest=qT={}));var jT;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=rs.MessageDirection.clientToServer,e.type=new rs.ProtocolRequestType(e.method)})(jT||(wi.TypeHierarchySupertypesRequest=jT={}));var UT;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=rs.MessageDirection.clientToServer,e.type=new rs.ProtocolRequestType(e.method)})(UT||(wi.TypeHierarchySubtypesRequest=UT={}))});var BT=I(ns=>{"use strict";Object.defineProperty(ns,"__esModule",{value:!0});ns.InlineValueRefreshRequest=ns.InlineValueRequest=void 0;var vu=Qe(),HT;(function(e){e.method="textDocument/inlineValue",e.messageDirection=vu.MessageDirection.clientToServer,e.type=new vu.ProtocolRequestType(e.method)})(HT||(ns.InlineValueRequest=HT={}));var GT;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=vu.MessageDirection.serverToClient,e.type=new vu.ProtocolRequestType0(e.method)})(GT||(ns.InlineValueRefreshRequest=GT={}))});var XT=I(Ci=>{"use strict";Object.defineProperty(Ci,"__esModule",{value:!0});Ci.InlayHintRefreshRequest=Ci.InlayHintResolveRequest=Ci.InlayHintRequest=void 0;var is=Qe(),KT;(function(e){e.method="textDocument/inlayHint",e.messageDirection=is.MessageDirection.clientToServer,e.type=new is.ProtocolRequestType(e.method)})(KT||(Ci.InlayHintRequest=KT={}));var zT;(function(e){e.method="inlayHint/resolve",e.messageDirection=is.MessageDirection.clientToServer,e.type=new is.ProtocolRequestType(e.method)})(zT||(Ci.InlayHintResolveRequest=zT={}));var VT;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=is.MessageDirection.serverToClient,e.type=new is.ProtocolRequestType0(e.method)})(VT||(Ci.InlayHintRefreshRequest=VT={}))});var rR=I(Hr=>{"use strict";Object.defineProperty(Hr,"__esModule",{value:!0});Hr.DiagnosticRefreshRequest=Hr.WorkspaceDiagnosticRequest=Hr.DocumentDiagnosticRequest=Hr.DocumentDiagnosticReportKind=Hr.DiagnosticServerCancellationData=void 0;var tR=uo(),ZP=su(),os=Qe(),YT;(function(e){function t(r){let n=r;return n&&ZP.boolean(n.retriggerRequest)}e.is=t})(YT||(Hr.DiagnosticServerCancellationData=YT={}));var JT;(function(e){e.Full="full",e.Unchanged="unchanged"})(JT||(Hr.DocumentDiagnosticReportKind=JT={}));var QT;(function(e){e.method="textDocument/diagnostic",e.messageDirection=os.MessageDirection.clientToServer,e.type=new os.ProtocolRequestType(e.method),e.partialResult=new tR.ProgressType})(QT||(Hr.DocumentDiagnosticRequest=QT={}));var ZT;(function(e){e.method="workspace/diagnostic",e.messageDirection=os.MessageDirection.clientToServer,e.type=new os.ProtocolRequestType(e.method),e.partialResult=new tR.ProgressType})(ZT||(Hr.WorkspaceDiagnosticRequest=ZT={}));var eR;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=os.MessageDirection.serverToClient,e.type=new os.ProtocolRequestType0(e.method)})(eR||(Hr.DiagnosticRefreshRequest=eR={}))});var uR=I(yt=>{"use strict";Object.defineProperty(yt,"__esModule",{value:!0});yt.DidCloseNotebookDocumentNotification=yt.DidSaveNotebookDocumentNotification=yt.DidChangeNotebookDocumentNotification=yt.NotebookCellArrayChange=yt.DidOpenNotebookDocumentNotification=yt.NotebookDocumentSyncRegistrationType=yt.NotebookDocument=yt.NotebookCell=yt.ExecutionSummary=yt.NotebookCellKind=void 0;var Ca=(po(),xd(ou)),cn=su(),Sn=Qe(),Mh;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}e.is=t})(Mh||(yt.NotebookCellKind=Mh={}));var $h;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function r(i){let o=i;return cn.objectLiteral(o)&&Ca.uinteger.is(o.executionOrder)&&(o.success===void 0||cn.boolean(o.success))}e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=n})($h||(yt.ExecutionSummary=$h={}));var Tu;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function r(o){let s=o;return cn.objectLiteral(s)&&Mh.is(s.kind)&&Ca.DocumentUri.is(s.document)&&(s.metadata===void 0||cn.objectLiteral(s.metadata))}e.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!$h.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++)if(!i(o[l],s[l]))return!1}if(cn.objectLiteral(o)&&cn.objectLiteral(s)){let l=Object.keys(o),g=Object.keys(s);if(l.length!==g.length||(l.sort(),g.sort(),!i(l,g)))return!1;for(let v=0;v<l.length;v++){let x=l[v];if(!i(o[x],s[x]))return!1}}return!0}})(Tu||(yt.NotebookCell=Tu={}));var nR;(function(e){function t(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}e.create=t;function r(n){let i=n;return cn.objectLiteral(i)&&cn.string(i.uri)&&Ca.integer.is(i.version)&&cn.typedArray(i.cells,Tu.is)}e.is=r})(nR||(yt.NotebookDocument=nR={}));var ss;(function(e){e.method="notebookDocument/sync",e.messageDirection=Sn.MessageDirection.clientToServer,e.type=new Sn.RegistrationType(e.method)})(ss||(yt.NotebookDocumentSyncRegistrationType=ss={}));var iR;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Sn.MessageDirection.clientToServer,e.type=new Sn.ProtocolNotificationType(e.method),e.registrationMethod=ss.method})(iR||(yt.DidOpenNotebookDocumentNotification=iR={}));var oR;(function(e){function t(n){let i=n;return cn.objectLiteral(i)&&Ca.uinteger.is(i.start)&&Ca.uinteger.is(i.deleteCount)&&(i.cells===void 0||cn.typedArray(i.cells,Tu.is))}e.is=t;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=r})(oR||(yt.NotebookCellArrayChange=oR={}));var sR;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Sn.MessageDirection.clientToServer,e.type=new Sn.ProtocolNotificationType(e.method),e.registrationMethod=ss.method})(sR||(yt.DidChangeNotebookDocumentNotification=sR={}));var aR;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Sn.MessageDirection.clientToServer,e.type=new Sn.ProtocolNotificationType(e.method),e.registrationMethod=ss.method})(aR||(yt.DidSaveNotebookDocumentNotification=aR={}));var cR;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Sn.MessageDirection.clientToServer,e.type=new Sn.ProtocolNotificationType(e.method),e.registrationMethod=ss.method})(cR||(yt.DidCloseNotebookDocumentNotification=cR={}))});var dR=I(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.InlineCompletionRequest=void 0;var lR=Qe(),fR;(function(e){e.method="textDocument/inlineCompletion",e.messageDirection=lR.MessageDirection.clientToServer,e.type=new lR.ProtocolRequestType(e.method)})(fR||(Ru.InlineCompletionRequest=fR={}))});var kx=I(T=>{"use strict";Object.defineProperty(T,"__esModule",{value:!0});T.WorkspaceSymbolRequest=T.CodeActionResolveRequest=T.CodeActionRequest=T.DocumentSymbolRequest=T.DocumentHighlightRequest=T.ReferencesRequest=T.DefinitionRequest=T.SignatureHelpRequest=T.SignatureHelpTriggerKind=T.HoverRequest=T.CompletionResolveRequest=T.CompletionRequest=T.CompletionTriggerKind=T.PublishDiagnosticsNotification=T.WatchKind=T.RelativePattern=T.FileChangeType=T.DidChangeWatchedFilesNotification=T.WillSaveTextDocumentWaitUntilRequest=T.WillSaveTextDocumentNotification=T.TextDocumentSaveReason=T.DidSaveTextDocumentNotification=T.DidCloseTextDocumentNotification=T.DidChangeTextDocumentNotification=T.TextDocumentContentChangeEvent=T.DidOpenTextDocumentNotification=T.TextDocumentSyncKind=T.TelemetryEventNotification=T.LogMessageNotification=T.ShowMessageRequest=T.ShowMessageNotification=T.MessageType=T.DidChangeConfigurationNotification=T.ExitNotification=T.ShutdownRequest=T.InitializedNotification=T.InitializeErrorCodes=T.InitializeRequest=T.WorkDoneProgressOptions=T.TextDocumentRegistrationOptions=T.StaticRegistrationOptions=T.PositionEncodingKind=T.FailureHandlingKind=T.ResourceOperationKind=T.UnregistrationRequest=T.RegistrationRequest=T.DocumentSelector=T.NotebookCellTextDocumentFilter=T.NotebookDocumentFilter=T.TextDocumentFilter=void 0;T.MonikerRequest=T.MonikerKind=T.UniquenessLevel=T.WillDeleteFilesRequest=T.DidDeleteFilesNotification=T.WillRenameFilesRequest=T.DidRenameFilesNotification=T.WillCreateFilesRequest=T.DidCreateFilesNotification=T.FileOperationPatternKind=T.LinkedEditingRangeRequest=T.ShowDocumentRequest=T.SemanticTokensRegistrationType=T.SemanticTokensRefreshRequest=T.SemanticTokensRangeRequest=T.SemanticTokensDeltaRequest=T.SemanticTokensRequest=T.TokenFormat=T.CallHierarchyPrepareRequest=T.CallHierarchyOutgoingCallsRequest=T.CallHierarchyIncomingCallsRequest=T.WorkDoneProgressCancelNotification=T.WorkDoneProgressCreateRequest=T.WorkDoneProgress=T.SelectionRangeRequest=T.DeclarationRequest=T.FoldingRangeRefreshRequest=T.FoldingRangeRequest=T.ColorPresentationRequest=T.DocumentColorRequest=T.ConfigurationRequest=T.DidChangeWorkspaceFoldersNotification=T.WorkspaceFoldersRequest=T.TypeDefinitionRequest=T.ImplementationRequest=T.ApplyWorkspaceEditRequest=T.ExecuteCommandRequest=T.PrepareRenameRequest=T.RenameRequest=T.PrepareSupportDefaultBehavior=T.DocumentOnTypeFormattingRequest=T.DocumentRangesFormattingRequest=T.DocumentRangeFormattingRequest=T.DocumentFormattingRequest=T.DocumentLinkResolveRequest=T.DocumentLinkRequest=T.CodeLensRefreshRequest=T.CodeLensResolveRequest=T.CodeLensRequest=T.WorkspaceSymbolResolveRequest=void 0;T.InlineCompletionRequest=T.DidCloseNotebookDocumentNotification=T.DidSaveNotebookDocumentNotification=T.DidChangeNotebookDocumentNotification=T.NotebookCellArrayChange=T.DidOpenNotebookDocumentNotification=T.NotebookDocumentSyncRegistrationType=T.NotebookDocument=T.NotebookCell=T.ExecutionSummary=T.NotebookCellKind=T.DiagnosticRefreshRequest=T.WorkspaceDiagnosticRequest=T.DocumentDiagnosticRequest=T.DocumentDiagnosticReportKind=T.DiagnosticServerCancellationData=T.InlayHintRefreshRequest=T.InlayHintResolveRequest=T.InlayHintRequest=T.InlineValueRefreshRequest=T.InlineValueRequest=T.TypeHierarchySupertypesRequest=T.TypeHierarchySubtypesRequest=T.TypeHierarchyPrepareRequest=void 0;var U=Qe(),pR=(po(),xd(ou)),Ut=su(),eA=Fv();Object.defineProperty(T,"ImplementationRequest",{enumerable:!0,get:function(){return eA.ImplementationRequest}});var tA=Uv();Object.defineProperty(T,"TypeDefinitionRequest",{enumerable:!0,get:function(){return tA.TypeDefinitionRequest}});var xx=Gv();Object.defineProperty(T,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return xx.WorkspaceFoldersRequest}});Object.defineProperty(T,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return xx.DidChangeWorkspaceFoldersNotification}});var rA=zv();Object.defineProperty(T,"ConfigurationRequest",{enumerable:!0,get:function(){return rA.ConfigurationRequest}});var bx=Yv();Object.defineProperty(T,"DocumentColorRequest",{enumerable:!0,get:function(){return bx.DocumentColorRequest}});Object.defineProperty(T,"ColorPresentationRequest",{enumerable:!0,get:function(){return bx.ColorPresentationRequest}});var _x=Zv();Object.defineProperty(T,"FoldingRangeRequest",{enumerable:!0,get:function(){return _x.FoldingRangeRequest}});Object.defineProperty(T,"FoldingRangeRefreshRequest",{enumerable:!0,get:function(){return _x.FoldingRangeRefreshRequest}});var nA=rT();Object.defineProperty(T,"DeclarationRequest",{enumerable:!0,get:function(){return nA.DeclarationRequest}});var iA=oT();Object.defineProperty(T,"SelectionRangeRequest",{enumerable:!0,get:function(){return iA.SelectionRangeRequest}});var Wh=uT();Object.defineProperty(T,"WorkDoneProgress",{enumerable:!0,get:function(){return Wh.WorkDoneProgress}});Object.defineProperty(T,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Wh.WorkDoneProgressCreateRequest}});Object.defineProperty(T,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Wh.WorkDoneProgressCancelNotification}});var Hh=pT();Object.defineProperty(T,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Hh.CallHierarchyIncomingCallsRequest}});Object.defineProperty(T,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Hh.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(T,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Hh.CallHierarchyPrepareRequest}});var as=TT();Object.defineProperty(T,"TokenFormat",{enumerable:!0,get:function(){return as.TokenFormat}});Object.defineProperty(T,"SemanticTokensRequest",{enumerable:!0,get:function(){return as.SemanticTokensRequest}});Object.defineProperty(T,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return as.SemanticTokensDeltaRequest}});Object.defineProperty(T,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return as.SemanticTokensRangeRequest}});Object.defineProperty(T,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return as.SemanticTokensRefreshRequest}});Object.defineProperty(T,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return as.SemanticTokensRegistrationType}});var oA=bT();Object.defineProperty(T,"ShowDocumentRequest",{enumerable:!0,get:function(){return oA.ShowDocumentRequest}});var sA=kT();Object.defineProperty(T,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return sA.LinkedEditingRangeRequest}});var ho=IT();Object.defineProperty(T,"FileOperationPatternKind",{enumerable:!0,get:function(){return ho.FileOperationPatternKind}});Object.defineProperty(T,"DidCreateFilesNotification",{enumerable:!0,get:function(){return ho.DidCreateFilesNotification}});Object.defineProperty(T,"WillCreateFilesRequest",{enumerable:!0,get:function(){return ho.WillCreateFilesRequest}});Object.defineProperty(T,"DidRenameFilesNotification",{enumerable:!0,get:function(){return ho.DidRenameFilesNotification}});Object.defineProperty(T,"WillRenameFilesRequest",{enumerable:!0,get:function(){return ho.WillRenameFilesRequest}});Object.defineProperty(T,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return ho.DidDeleteFilesNotification}});Object.defineProperty(T,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return ho.WillDeleteFilesRequest}});var Gh=FT();Object.defineProperty(T,"UniquenessLevel",{enumerable:!0,get:function(){return Gh.UniquenessLevel}});Object.defineProperty(T,"MonikerKind",{enumerable:!0,get:function(){return Gh.MonikerKind}});Object.defineProperty(T,"MonikerRequest",{enumerable:!0,get:function(){return Gh.MonikerRequest}});var Bh=WT();Object.defineProperty(T,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Bh.TypeHierarchyPrepareRequest}});Object.defineProperty(T,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Bh.TypeHierarchySubtypesRequest}});Object.defineProperty(T,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Bh.TypeHierarchySupertypesRequest}});var Sx=BT();Object.defineProperty(T,"InlineValueRequest",{enumerable:!0,get:function(){return Sx.InlineValueRequest}});Object.defineProperty(T,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return Sx.InlineValueRefreshRequest}});var Kh=XT();Object.defineProperty(T,"InlayHintRequest",{enumerable:!0,get:function(){return Kh.InlayHintRequest}});Object.defineProperty(T,"InlayHintResolveRequest",{enumerable:!0,get:function(){return Kh.InlayHintResolveRequest}});Object.defineProperty(T,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return Kh.InlayHintRefreshRequest}});var Ea=rR();Object.defineProperty(T,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return Ea.DiagnosticServerCancellationData}});Object.defineProperty(T,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return Ea.DocumentDiagnosticReportKind}});Object.defineProperty(T,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return Ea.DocumentDiagnosticRequest}});Object.defineProperty(T,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return Ea.WorkspaceDiagnosticRequest}});Object.defineProperty(T,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return Ea.DiagnosticRefreshRequest}});var kn=uR();Object.defineProperty(T,"NotebookCellKind",{enumerable:!0,get:function(){return kn.NotebookCellKind}});Object.defineProperty(T,"ExecutionSummary",{enumerable:!0,get:function(){return kn.ExecutionSummary}});Object.defineProperty(T,"NotebookCell",{enumerable:!0,get:function(){return kn.NotebookCell}});Object.defineProperty(T,"NotebookDocument",{enumerable:!0,get:function(){return kn.NotebookDocument}});Object.defineProperty(T,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return kn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(T,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return kn.DidOpenNotebookDocumentNotification}});Object.defineProperty(T,"NotebookCellArrayChange",{enumerable:!0,get:function(){return kn.NotebookCellArrayChange}});Object.defineProperty(T,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return kn.DidChangeNotebookDocumentNotification}});Object.defineProperty(T,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return kn.DidSaveNotebookDocumentNotification}});Object.defineProperty(T,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return kn.DidCloseNotebookDocumentNotification}});var aA=dR();Object.defineProperty(T,"InlineCompletionRequest",{enumerable:!0,get:function(){return aA.InlineCompletionRequest}});var Fh;(function(e){function t(r){let n=r;return Ut.string(n)||Ut.string(n.language)||Ut.string(n.scheme)||Ut.string(n.pattern)}e.is=t})(Fh||(T.TextDocumentFilter=Fh={}));var qh;(function(e){function t(r){let n=r;return Ut.objectLiteral(n)&&(Ut.string(n.notebookType)||Ut.string(n.scheme)||Ut.string(n.pattern))}e.is=t})(qh||(T.NotebookDocumentFilter=qh={}));var jh;(function(e){function t(r){let n=r;return Ut.objectLiteral(n)&&(Ut.string(n.notebook)||qh.is(n.notebook))&&(n.language===void 0||Ut.string(n.language))}e.is=t})(jh||(T.NotebookCellTextDocumentFilter=jh={}));var Uh;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Ut.string(n)&&!Fh.is(n)&&!jh.is(n))return!1;return!0}e.is=t})(Uh||(T.DocumentSelector=Uh={}));var hR;(function(e){e.method="client/registerCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(hR||(T.RegistrationRequest=hR={}));var mR;(function(e){e.method="client/unregisterCapability",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(mR||(T.UnregistrationRequest=mR={}));var gR;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(gR||(T.ResourceOperationKind=gR={}));var yR;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(yR||(T.FailureHandlingKind=yR={}));var vR;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(vR||(T.PositionEncodingKind=vR={}));var TR;(function(e){function t(r){let n=r;return n&&Ut.string(n.id)&&n.id.length>0}e.hasId=t})(TR||(T.StaticRegistrationOptions=TR={}));var RR;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||Uh.is(n.documentSelector))}e.is=t})(RR||(T.TextDocumentRegistrationOptions=RR={}));var xR;(function(e){function t(n){let i=n;return Ut.objectLiteral(i)&&(i.workDoneProgress===void 0||Ut.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Ut.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(xR||(T.WorkDoneProgressOptions=xR={}));var bR;(function(e){e.method="initialize",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(bR||(T.InitializeRequest=bR={}));var _R;(function(e){e.unknownProtocolVersion=1})(_R||(T.InitializeErrorCodes=_R={}));var SR;(function(e){e.method="initialized",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(SR||(T.InitializedNotification=SR={}));var kR;(function(e){e.method="shutdown",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType0(e.method)})(kR||(T.ShutdownRequest=kR={}));var wR;(function(e){e.method="exit",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType0(e.method)})(wR||(T.ExitNotification=wR={}));var CR;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(CR||(T.DidChangeConfigurationNotification=CR={}));var ER;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4,e.Debug=5})(ER||(T.MessageType=ER={}));var PR;(function(e){e.method="window/showMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(PR||(T.ShowMessageNotification=PR={}));var AR;(function(e){e.method="window/showMessageRequest",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType(e.method)})(AR||(T.ShowMessageRequest=AR={}));var DR;(function(e){e.method="window/logMessage",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(DR||(T.LogMessageNotification=DR={}));var NR;(function(e){e.method="telemetry/event",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(NR||(T.TelemetryEventNotification=NR={}));var IR;(function(e){e.None=0,e.Full=1,e.Incremental=2})(IR||(T.TextDocumentSyncKind=IR={}));var OR;(function(e){e.method="textDocument/didOpen",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(OR||(T.DidOpenTextDocumentNotification=OR={}));var LR;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(LR||(T.TextDocumentContentChangeEvent=LR={}));var MR;(function(e){e.method="textDocument/didChange",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(MR||(T.DidChangeTextDocumentNotification=MR={}));var $R;(function(e){e.method="textDocument/didClose",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})($R||(T.DidCloseTextDocumentNotification=$R={}));var FR;(function(e){e.method="textDocument/didSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(FR||(T.DidSaveTextDocumentNotification=FR={}));var qR;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(qR||(T.TextDocumentSaveReason=qR={}));var jR;(function(e){e.method="textDocument/willSave",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(jR||(T.WillSaveTextDocumentNotification=jR={}));var UR;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(UR||(T.WillSaveTextDocumentWaitUntilRequest=UR={}));var WR;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolNotificationType(e.method)})(WR||(T.DidChangeWatchedFilesNotification=WR={}));var HR;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(HR||(T.FileChangeType=HR={}));var GR;(function(e){function t(r){let n=r;return Ut.objectLiteral(n)&&(pR.URI.is(n.baseUri)||pR.WorkspaceFolder.is(n.baseUri))&&Ut.string(n.pattern)}e.is=t})(GR||(T.RelativePattern=GR={}));var BR;(function(e){e.Create=1,e.Change=2,e.Delete=4})(BR||(T.WatchKind=BR={}));var KR;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolNotificationType(e.method)})(KR||(T.PublishDiagnosticsNotification=KR={}));var zR;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(zR||(T.CompletionTriggerKind=zR={}));var VR;(function(e){e.method="textDocument/completion",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(VR||(T.CompletionRequest=VR={}));var XR;(function(e){e.method="completionItem/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(XR||(T.CompletionResolveRequest=XR={}));var YR;(function(e){e.method="textDocument/hover",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(YR||(T.HoverRequest=YR={}));var JR;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(JR||(T.SignatureHelpTriggerKind=JR={}));var QR;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(QR||(T.SignatureHelpRequest=QR={}));var ZR;(function(e){e.method="textDocument/definition",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ZR||(T.DefinitionRequest=ZR={}));var ex;(function(e){e.method="textDocument/references",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ex||(T.ReferencesRequest=ex={}));var tx;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(tx||(T.DocumentHighlightRequest=tx={}));var rx;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(rx||(T.DocumentSymbolRequest=rx={}));var nx;(function(e){e.method="textDocument/codeAction",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(nx||(T.CodeActionRequest=nx={}));var ix;(function(e){e.method="codeAction/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ix||(T.CodeActionResolveRequest=ix={}));var ox;(function(e){e.method="workspace/symbol",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ox||(T.WorkspaceSymbolRequest=ox={}));var sx;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(sx||(T.WorkspaceSymbolResolveRequest=sx={}));var ax;(function(e){e.method="textDocument/codeLens",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(ax||(T.CodeLensRequest=ax={}));var cx;(function(e){e.method="codeLens/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(cx||(T.CodeLensResolveRequest=cx={}));var ux;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType0(e.method)})(ux||(T.CodeLensRefreshRequest=ux={}));var lx;(function(e){e.method="textDocument/documentLink",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(lx||(T.DocumentLinkRequest=lx={}));var fx;(function(e){e.method="documentLink/resolve",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(fx||(T.DocumentLinkResolveRequest=fx={}));var dx;(function(e){e.method="textDocument/formatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(dx||(T.DocumentFormattingRequest=dx={}));var px;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(px||(T.DocumentRangeFormattingRequest=px={}));var hx;(function(e){e.method="textDocument/rangesFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(hx||(T.DocumentRangesFormattingRequest=hx={}));var mx;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(mx||(T.DocumentOnTypeFormattingRequest=mx={}));var gx;(function(e){e.Identifier=1})(gx||(T.PrepareSupportDefaultBehavior=gx={}));var yx;(function(e){e.method="textDocument/rename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(yx||(T.RenameRequest=yx={}));var vx;(function(e){e.method="textDocument/prepareRename",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(vx||(T.PrepareRenameRequest=vx={}));var Tx;(function(e){e.method="workspace/executeCommand",e.messageDirection=U.MessageDirection.clientToServer,e.type=new U.ProtocolRequestType(e.method)})(Tx||(T.ExecuteCommandRequest=Tx={}));var Rx;(function(e){e.method="workspace/applyEdit",e.messageDirection=U.MessageDirection.serverToClient,e.type=new U.ProtocolRequestType("workspace/applyEdit")})(Rx||(T.ApplyWorkspaceEditRequest=Rx={}))});var Cx=I(xu=>{"use strict";Object.defineProperty(xu,"__esModule",{value:!0});xu.createProtocolConnection=void 0;var wx=uo();function cA(e,t,r,n){return wx.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,wx.createMessageConnection)(e,t,r,n)}xu.createProtocolConnection=cA});var Px=I(wr=>{"use strict";var uA=wr&&wr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),bu=wr&&wr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&uA(t,e,r)};Object.defineProperty(wr,"__esModule",{value:!0});wr.LSPErrorCodes=wr.createProtocolConnection=void 0;bu(uo(),wr);bu((po(),xd(ou)),wr);bu(Qe(),wr);bu(kx(),wr);var lA=Cx();Object.defineProperty(wr,"createProtocolConnection",{enumerable:!0,get:function(){return lA.createProtocolConnection}});var Ex;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(Ex||(wr.LSPErrorCodes=Ex={}))});var vt=I(wn=>{"use strict";var fA=wn&&wn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Ax=wn&&wn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&fA(t,e,r)};Object.defineProperty(wn,"__esModule",{value:!0});wn.createProtocolConnection=void 0;var dA=Ap();Ax(Ap(),wn);Ax(Px(),wn);function pA(e,t,r,n){return(0,dA.createMessageConnection)(e,t,r,n)}wn.createProtocolConnection=pA});var Vh=I(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.SemanticTokensBuilder=Ei.SemanticTokensDiff=Ei.SemanticTokensFeature=void 0;var _u=vt(),hA=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(_u.SemanticTokensRefreshRequest.type),on:t=>{let r=_u.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:t=>{let r=_u.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=_u.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Ei.SemanticTokensFeature=hA;var Su=class{constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};Ei.SemanticTokensDiff=Su;var zh=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let s=t,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Su(this._prevData,this._data).computeDiff()}:this.build()}};Ei.SemanticTokensBuilder=zh});var Dx=I(ku=>{"use strict";Object.defineProperty(ku,"__esModule",{value:!0});ku.InlineCompletionFeature=void 0;var mA=vt(),gA=e=>class extends e{get inlineCompletion(){return{on:t=>this.connection.onRequest(mA.InlineCompletionRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};ku.InlineCompletionFeature=gA});var Yh=I(wu=>{"use strict";Object.defineProperty(wu,"__esModule",{value:!0});wu.TextDocuments=void 0;var mo=vt(),Xh=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new mo.Emitter,this._onDidOpen=new mo.Emitter,this._onDidClose=new mo.Emitter,this._onDidSave=new mo.Emitter,this._onWillSave=new mo.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=mo.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),mo.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};wu.TextDocuments=Xh});var Qh=I(cs=>{"use strict";Object.defineProperty(cs,"__esModule",{value:!0});cs.NotebookDocuments=cs.NotebookSyncFeature=void 0;var Gr=vt(),Nx=Yh(),yA=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(Gr.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(Gr.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(Gr.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(Gr.DidCloseNotebookDocumentNotification.type,r=>{t(r)})}}};cs.NotebookSyncFeature=yA;var Cu=class e{onDidOpenTextDocument(t){return this.openHandler=t,Gr.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,Gr.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,Gr.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};Cu.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Jh=class{constructor(t){t instanceof Nx.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new Nx.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new Gr.Emitter,this._onDidChange=new Gr.Emitter,this._onDidSave=new Gr.Emitter,this._onDidClose=new Gr.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new Cu,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,c=i.change;c.metadata!==void 0&&(a=!0,o.metadata=c.metadata);let l=[],g=[],v=[],x=[];if(c.cells!==void 0){let A=c.cells;if(A.structure!==void 0){let p=A.structure.array;if(o.cells.splice(p.start,p.deleteCount,...p.cells!==void 0?p.cells:[]),A.structure.didOpen!==void 0)for(let d of A.structure.didOpen)r.openTextDocument({textDocument:d}),l.push(d.uri);if(A.structure.didClose)for(let d of A.structure.didClose)r.closeTextDocument({textDocument:d}),g.push(d.uri)}if(A.data!==void 0){let p=new Map(A.data.map(d=>[d.document,d]));for(let d=0;d<=o.cells.length;d++){let b=p.get(o.cells[d].document);if(b!==void 0){let F=o.cells.splice(d,1,b);if(v.push({old:F[0],new:b}),p.delete(b.document),p.size===0)break}}}if(A.textContent!==void 0)for(let p of A.textContent)r.changeTextDocument({textDocument:p.document,contentChanges:p.changes}),x.push(p.document.uri)}this.updateCellMap(o);let k={notebookDocument:o};a&&(k.metadata={old:s,new:o.metadata});let N=[];for(let A of l)N.push(this.getNotebookCell(A));let D=[];for(let A of g)D.push(this.getNotebookCell(A));let j=[];for(let A of x)j.push(this.getNotebookCell(A));(N.length>0||D.length>0||v.length>0||j.length>0)&&(k.cells={added:N,removed:D,changed:{data:v,textContent:j}}),(k.metadata!==void 0||k.cells!==void 0)&&this._onDidChange.fire(k)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),Gr.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};cs.NotebookDocuments=Jh});var Zh=I(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.thenable=St.typedArray=St.stringArray=St.array=St.func=St.error=St.number=St.string=St.boolean=void 0;function vA(e){return e===!0||e===!1}St.boolean=vA;function Ix(e){return typeof e=="string"||e instanceof String}St.string=Ix;function TA(e){return typeof e=="number"||e instanceof Number}St.number=TA;function RA(e){return e instanceof Error}St.error=RA;function Ox(e){return typeof e=="function"}St.func=Ox;function Lx(e){return Array.isArray(e)}St.array=Lx;function xA(e){return Lx(e)&&e.every(t=>Ix(t))}St.stringArray=xA;function bA(e,t){return Array.isArray(e)&&e.every(t)}St.typedArray=bA;function _A(e){return e&&Ox(e.then)}St.thenable=_A});var em=I(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.generateUuid=Br.parse=Br.isUUID=Br.v4=Br.empty=void 0;var Pa=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},Aa=class e extends Pa{static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}};Aa._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];Aa._timeHighBits=["8","9","a","b"];Br.empty=new Pa("00000000-0000-0000-0000-000000000000");function Mx(){return new Aa}Br.v4=Mx;var SA=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function $x(e){return SA.test(e)}Br.isUUID=$x;function kA(e){if(!$x(e))throw new Error("invalid uuid");return new Pa(e)}Br.parse=kA;function wA(){return Mx().asHex()}Br.generateUuid=wA});var Fx=I(Ai=>{"use strict";Object.defineProperty(Ai,"__esModule",{value:!0});Ai.attachPartialResult=Ai.ProgressFeature=Ai.attachWorkDone=void 0;var Pi=vt(),CA=em(),go=class e{constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(Pi.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(Pi.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(Pi.WorkDoneProgress.type,this._token,{kind:"end"})}};go.Instances=new Map;var Eu=class extends go{constructor(t,r){super(t,r),this._source=new Pi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},Da=class{constructor(){}begin(){}report(){}done(){}},Pu=class extends Da{constructor(){super(),this._source=new Pi.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function EA(e,t){if(t===void 0||t.workDoneToken===void 0)return new Da;let r=t.workDoneToken;return delete t.workDoneToken,new go(e,r)}Ai.attachWorkDone=EA;var PA=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(Pi.WorkDoneProgressCancelNotification.type,r=>{let n=go.Instances.get(r.token);(n instanceof Eu||n instanceof Pu)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new Da:new go(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,CA.generateUuid)();return this.connection.sendRequest(Pi.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Eu(this.connection,t))}else return Promise.resolve(new Pu)}};Ai.ProgressFeature=PA;var tm;(function(e){e.type=new Pi.ProgressType})(tm||(tm={}));var rm=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(tm.type,this._token,t)}};function AA(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new rm(e,r)}Ai.attachPartialResult=AA});var qx=I(Au=>{"use strict";Object.defineProperty(Au,"__esModule",{value:!0});Au.ConfigurationFeature=void 0;var DA=vt(),NA=Zh(),IA=e=>class extends e{getConfiguration(t){return t?NA.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(DA.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}};Au.ConfigurationFeature=IA});var jx=I(Nu=>{"use strict";Object.defineProperty(Nu,"__esModule",{value:!0});Nu.WorkspaceFoldersFeature=void 0;var Du=vt(),OA=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new Du.Emitter,this.connection.onNotification(Du.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(Du.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(Du.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};Nu.WorkspaceFoldersFeature=OA});var Ux=I(Iu=>{"use strict";Object.defineProperty(Iu,"__esModule",{value:!0});Iu.CallHierarchyFeature=void 0;var nm=vt(),LA=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(nm.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:t=>{let r=nm.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=nm.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Iu.CallHierarchyFeature=LA});var Wx=I(Ou=>{"use strict";Object.defineProperty(Ou,"__esModule",{value:!0});Ou.ShowDocumentFeature=void 0;var MA=vt(),$A=e=>class extends e{showDocument(t){return this.connection.sendRequest(MA.ShowDocumentRequest.type,t)}};Ou.ShowDocumentFeature=$A});var Hx=I(Lu=>{"use strict";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.FileOperationsFeature=void 0;var us=vt(),FA=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(us.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(us.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(us.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(us.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(us.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(us.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}};Lu.FileOperationsFeature=FA});var Gx=I(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.LinkedEditingRangeFeature=void 0;var qA=vt(),jA=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(qA.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}};Mu.LinkedEditingRangeFeature=jA});var Bx=I($u=>{"use strict";Object.defineProperty($u,"__esModule",{value:!0});$u.TypeHierarchyFeature=void 0;var im=vt(),UA=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(im.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:t=>{let r=im.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:t=>{let r=im.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};$u.TypeHierarchyFeature=UA});var zx=I(Fu=>{"use strict";Object.defineProperty(Fu,"__esModule",{value:!0});Fu.InlineValueFeature=void 0;var Kx=vt(),WA=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(Kx.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(Kx.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};Fu.InlineValueFeature=WA});var Xx=I(qu=>{"use strict";Object.defineProperty(qu,"__esModule",{value:!0});qu.FoldingRangeFeature=void 0;var Vx=vt(),HA=e=>class extends e{get foldingRange(){return{refresh:()=>this.connection.sendRequest(Vx.FoldingRangeRefreshRequest.type),on:t=>{let r=Vx.FoldingRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};qu.FoldingRangeFeature=HA});var Yx=I(ju=>{"use strict";Object.defineProperty(ju,"__esModule",{value:!0});ju.InlayHintFeature=void 0;var om=vt(),GA=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(om.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(om.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),resolve:t=>this.connection.onRequest(om.InlayHintResolveRequest.type,(r,n)=>t(r,n))}}};ju.InlayHintFeature=GA});var Jx=I(Uu=>{"use strict";Object.defineProperty(Uu,"__esModule",{value:!0});Uu.DiagnosticFeature=void 0;var Na=vt(),BA=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Na.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Na.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Na.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:t=>this.connection.onRequest(Na.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Na.WorkspaceDiagnosticRequest.partialResult,r)))}}};Uu.DiagnosticFeature=BA});var Qx=I(Wu=>{"use strict";Object.defineProperty(Wu,"__esModule",{value:!0});Wu.MonikerFeature=void 0;var KA=vt(),zA=e=>class extends e{get moniker(){return{on:t=>{let r=KA.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};Wu.MonikerFeature=zA});var pb=I(Ae=>{"use strict";Object.defineProperty(Ae,"__esModule",{value:!0});Ae.createConnection=Ae.combineFeatures=Ae.combineNotebooksFeatures=Ae.combineLanguagesFeatures=Ae.combineWorkspaceFeatures=Ae.combineWindowFeatures=Ae.combineClientFeatures=Ae.combineTracerFeatures=Ae.combineTelemetryFeatures=Ae.combineConsoleFeatures=Ae._NotebooksImpl=Ae._LanguagesImpl=Ae.BulkUnregistration=Ae.BulkRegistration=Ae.ErrorMessageTracker=void 0;var G=vt(),Kr=Zh(),am=em(),me=Fx(),VA=qx(),XA=jx(),YA=Ux(),JA=Vh(),QA=Wx(),ZA=Hx(),eD=Gx(),tD=Bx(),rD=zx(),nD=Xx(),iD=Yx(),oD=Jx(),sD=Qh(),aD=Qx();function sm(e){if(e!==null)return e}var cm=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Ae.ErrorMessageTracker=cm;var Hu=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(G.MessageType.Error,t)}warn(t){this.send(G.MessageType.Warning,t)}info(t){this.send(G.MessageType.Info,t)}log(t){this.send(G.MessageType.Log,t)}debug(t){this.send(G.MessageType.Debug,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(G.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,G.RAL)().console.error("Sending log message failed")})}},um=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:G.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(G.ShowMessageRequest.type,n).then(sm)}showWarningMessage(t,...r){let n={type:G.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(G.ShowMessageRequest.type,n).then(sm)}showInformationMessage(t,...r){let n={type:G.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(G.ShowMessageRequest.type,n).then(sm)}},Zx=(0,QA.ShowDocumentFeature)((0,me.ProgressFeature)(um)),eb;(function(e){function t(){return new Gu}e.create=t})(eb||(Ae.BulkRegistration=eb={}));var Gu=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=Kr.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=am.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},tb;(function(e){function t(){return new Ia(void 0,[])}e.create=t})(tb||(Ae.BulkUnregistration=tb={}));var Ia=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(G.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=Kr.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(G.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},Bu=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof Gu?this.registerMany(t):t instanceof Ia?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=Kr.string(r)?r:r.method,o=am.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(G.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=Kr.string(t)?t:t.method,i=am.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(G.RegistrationRequest.type,o).then(s=>G.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(G.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(G.RegistrationRequest.type,r).then(()=>new Ia(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},lm=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this.connection.sendRequest(G.ApplyWorkspaceEditRequest.type,n)}},rb=(0,ZA.FileOperationsFeature)((0,XA.WorkspaceFoldersFeature)((0,VA.ConfigurationFeature)(lm))),Ku=class{constructor(){this._trace=G.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==G.Trace.Off&&this.connection.sendNotification(G.LogTraceNotification.type,{message:t,verbose:this._trace===G.Trace.Verbose?r:void 0}).catch(()=>{})}},zu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(G.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},Vu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,me.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,me.attachPartialResult)(this.connection,r)}};Ae._LanguagesImpl=Vu;var nb=(0,nD.FoldingRangeFeature)((0,aD.MonikerFeature)((0,oD.DiagnosticFeature)((0,iD.InlayHintFeature)((0,rD.InlineValueFeature)((0,tD.TypeHierarchyFeature)((0,eD.LinkedEditingRangeFeature)((0,JA.SemanticTokensFeature)((0,YA.CallHierarchyFeature)(Vu))))))))),Xu=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,me.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,me.attachPartialResult)(this.connection,r)}};Ae._NotebooksImpl=Xu;var ib=(0,sD.NotebookSyncFeature)(Xu);function ob(e,t){return function(r){return t(e(r))}}Ae.combineConsoleFeatures=ob;function sb(e,t){return function(r){return t(e(r))}}Ae.combineTelemetryFeatures=sb;function ab(e,t){return function(r){return t(e(r))}}Ae.combineTracerFeatures=ab;function cb(e,t){return function(r){return t(e(r))}}Ae.combineClientFeatures=cb;function ub(e,t){return function(r){return t(e(r))}}Ae.combineWindowFeatures=ub;function lb(e,t){return function(r){return t(e(r))}}Ae.combineWorkspaceFeatures=lb;function fb(e,t){return function(r){return t(e(r))}}Ae.combineLanguagesFeatures=fb;function db(e,t){return function(r){return t(e(r))}}Ae.combineNotebooksFeatures=db;function cD(e,t){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(e.console,t.console,ob),tracer:r(e.tracer,t.tracer,ab),telemetry:r(e.telemetry,t.telemetry,sb),client:r(e.client,t.client,cb),window:r(e.window,t.window,ub),workspace:r(e.workspace,t.workspace,lb),languages:r(e.languages,t.languages,fb),notebooks:r(e.notebooks,t.notebooks,db)}}Ae.combineFeatures=cD;function uD(e,t,r){let n=r&&r.console?new(r.console(Hu)):new Hu,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(Ku)):new Ku,s=r&&r.telemetry?new(r.telemetry(zu)):new zu,a=r&&r.client?new(r.client(Bu)):new Bu,c=r&&r.window?new(r.window(Zx)):new Zx,l=r&&r.workspace?new(r.workspace(rb)):new rb,g=r&&r.languages?new(r.languages(nb)):new nb,v=r&&r.notebooks?new(r.notebooks(ib)):new ib,x=[n,o,s,a,c,l,g,v];function k(p){return p instanceof Promise?p:Kr.thenable(p)?new Promise((d,b)=>{p.then(F=>d(F),F=>b(F))}):Promise.resolve(p)}let N,D,j,A={listen:()=>i.listen(),sendRequest:(p,...d)=>i.sendRequest(Kr.string(p)?p:p.method,...d),onRequest:(p,d)=>i.onRequest(p,d),sendNotification:(p,d)=>{let b=Kr.string(p)?p:p.method;return i.sendNotification(b,d)},onNotification:(p,d)=>i.onNotification(p,d),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:p=>(D=p,{dispose:()=>{D=void 0}}),onInitialized:p=>i.onNotification(G.InitializedNotification.type,p),onShutdown:p=>(N=p,{dispose:()=>{N=void 0}}),onExit:p=>(j=p,{dispose:()=>{j=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return c},get workspace(){return l},get languages(){return g},get notebooks(){return v},onDidChangeConfiguration:p=>i.onNotification(G.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>i.onNotification(G.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>i.onNotification(G.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>i.onNotification(G.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>i.onNotification(G.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>i.onNotification(G.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>i.onRequest(G.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>i.onNotification(G.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>i.sendNotification(G.PublishDiagnosticsNotification.type,p),onHover:p=>i.onRequest(G.HoverRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),onCompletion:p=>i.onRequest(G.CompletionRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onCompletionResolve:p=>i.onRequest(G.CompletionResolveRequest.type,p),onSignatureHelp:p=>i.onRequest(G.SignatureHelpRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),onDeclaration:p=>i.onRequest(G.DeclarationRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onDefinition:p=>i.onRequest(G.DefinitionRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onTypeDefinition:p=>i.onRequest(G.TypeDefinitionRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onImplementation:p=>i.onRequest(G.ImplementationRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onReferences:p=>i.onRequest(G.ReferencesRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onDocumentHighlight:p=>i.onRequest(G.DocumentHighlightRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onDocumentSymbol:p=>i.onRequest(G.DocumentSymbolRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onWorkspaceSymbol:p=>i.onRequest(G.WorkspaceSymbolRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onWorkspaceSymbolResolve:p=>i.onRequest(G.WorkspaceSymbolResolveRequest.type,p),onCodeAction:p=>i.onRequest(G.CodeActionRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onCodeActionResolve:p=>i.onRequest(G.CodeActionResolveRequest.type,(d,b)=>p(d,b)),onCodeLens:p=>i.onRequest(G.CodeLensRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onCodeLensResolve:p=>i.onRequest(G.CodeLensResolveRequest.type,(d,b)=>p(d,b)),onDocumentFormatting:p=>i.onRequest(G.DocumentFormattingRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),onDocumentRangeFormatting:p=>i.onRequest(G.DocumentRangeFormattingRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),onDocumentOnTypeFormatting:p=>i.onRequest(G.DocumentOnTypeFormattingRequest.type,(d,b)=>p(d,b)),onRenameRequest:p=>i.onRequest(G.RenameRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),onPrepareRename:p=>i.onRequest(G.PrepareRenameRequest.type,(d,b)=>p(d,b)),onDocumentLinks:p=>i.onRequest(G.DocumentLinkRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onDocumentLinkResolve:p=>i.onRequest(G.DocumentLinkResolveRequest.type,(d,b)=>p(d,b)),onDocumentColor:p=>i.onRequest(G.DocumentColorRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onColorPresentation:p=>i.onRequest(G.ColorPresentationRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onFoldingRanges:p=>i.onRequest(G.FoldingRangeRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onSelectionRanges:p=>i.onRequest(G.SelectionRangeRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),(0,me.attachPartialResult)(i,d))),onExecuteCommand:p=>i.onRequest(G.ExecuteCommandRequest.type,(d,b)=>p(d,b,(0,me.attachWorkDone)(i,d),void 0)),dispose:()=>i.dispose()};for(let p of x)p.attach(A);return i.onRequest(G.InitializeRequest.type,p=>{t.initialize(p),Kr.string(p.trace)&&(o.trace=G.Trace.fromString(p.trace));for(let d of x)d.initialize(p.capabilities);if(D){let d=D(p,new G.CancellationTokenSource().token,(0,me.attachWorkDone)(i,p),void 0);return k(d).then(b=>{if(b instanceof G.ResponseError)return b;let F=b;F||(F={capabilities:{}});let Y=F.capabilities;Y||(Y={},F.capabilities=Y),Y.textDocumentSync===void 0||Y.textDocumentSync===null?Y.textDocumentSync=Kr.number(A.__textDocumentSync)?A.__textDocumentSync:G.TextDocumentSyncKind.None:!Kr.number(Y.textDocumentSync)&&!Kr.number(Y.textDocumentSync.change)&&(Y.textDocumentSync.change=Kr.number(A.__textDocumentSync)?A.__textDocumentSync:G.TextDocumentSyncKind.None);for(let _e of x)_e.fillServerCapabilities(Y);return F})}else{let d={capabilities:{textDocumentSync:G.TextDocumentSyncKind.None}};for(let b of x)b.fillServerCapabilities(d.capabilities);return d}}),i.onRequest(G.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,N)return N(new G.CancellationTokenSource().token)}),i.onNotification(G.ExitNotification.type,()=>{try{j&&j()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(G.SetTraceNotification.type,p=>{o.trace=G.Trace.fromString(p.value)}),A}Ae.createConnection=uD});var fm=I(rr=>{"use strict";var lD=rr&&rr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),mb=rr&&rr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&lD(t,e,r)};Object.defineProperty(rr,"__esModule",{value:!0});rr.ProposedFeatures=rr.NotebookDocuments=rr.TextDocuments=rr.SemanticTokensBuilder=void 0;var fD=Vh();Object.defineProperty(rr,"SemanticTokensBuilder",{enumerable:!0,get:function(){return fD.SemanticTokensBuilder}});var dD=Dx();mb(vt(),rr);var pD=Yh();Object.defineProperty(rr,"TextDocuments",{enumerable:!0,get:function(){return pD.TextDocuments}});var hD=Qh();Object.defineProperty(rr,"NotebookDocuments",{enumerable:!0,get:function(){return hD.NotebookDocuments}});mb(pb(),rr);var hb;(function(e){e.all={__brand:"features",languages:dD.InlineCompletionFeature}})(hb||(rr.ProposedFeatures=hb={}))});var yb=I((xz,gb)=>{"use strict";gb.exports=vt()});var Le=I(Cn=>{"use strict";var mD=Cn&&Cn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Tb=Cn&&Cn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&mD(t,e,r)};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.createConnection=void 0;var Yu=fm();Tb(yb(),Cn);Tb(fm(),Cn);var vb=!1,gD={initialize:e=>{},get shutdownReceived(){return vb},set shutdownReceived(e){vb=e},exit:e=>{}};function yD(e,t,r,n){let i,o,s,a;e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),Yu.ConnectionStrategy.is(e)||Yu.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=r);let c=l=>(0,Yu.createProtocolConnection)(o,s,l,a);return(0,Yu.createConnection)(c,gD,i)}Cn.createConnection=yD});var hs=I(nr=>{"use strict";Object.defineProperty(nr,"__esModule",{value:!0});nr.stringArray=nr.array=nr.func=nr.error=nr.number=nr.string=nr.boolean=void 0;function uN(e){return e===!0||e===!1}nr.boolean=uN;function Nb(e){return typeof e=="string"||e instanceof String}nr.string=Nb;function lN(e){return typeof e=="number"||e instanceof Number}nr.number=lN;function fN(e){return e instanceof Error}nr.error=fN;function dN(e){return typeof e=="function"}nr.func=dN;function Ib(e){return Array.isArray(e)}nr.array=Ib;function pN(e){return Ib(e)&&e.every(t=>Nb(t))}nr.stringArray=pN});var Bm=I(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.Message=ne.NotificationType9=ne.NotificationType8=ne.NotificationType7=ne.NotificationType6=ne.NotificationType5=ne.NotificationType4=ne.NotificationType3=ne.NotificationType2=ne.NotificationType1=ne.NotificationType0=ne.NotificationType=ne.RequestType9=ne.RequestType8=ne.RequestType7=ne.RequestType6=ne.RequestType5=ne.RequestType4=ne.RequestType3=ne.RequestType2=ne.RequestType1=ne.RequestType=ne.RequestType0=ne.AbstractMessageSignature=ne.ParameterStructures=ne.ResponseError=ne.ErrorCodes=void 0;var Ro=hs(),Ob;(function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3})(Ob=ne.ErrorCodes||(ne.ErrorCodes={}));var bm=class e extends Error{constructor(t,r,n){super(r),this.code=Ro.number(t)?t:Ob.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,e.prototype)}toJson(){let t={code:this.code,message:this.message};return this.data!==void 0&&(t.data=this.data),t}};ne.ResponseError=bm;var Er=class e{constructor(t){this.kind=t}static is(t){return t===e.auto||t===e.byName||t===e.byPosition}toString(){return this.kind}};ne.ParameterStructures=Er;Er.auto=new Er("auto");Er.byPosition=new Er("byPosition");Er.byName=new Er("byName");var Xe=class{constructor(t,r){this.method=t,this.numberOfParams=r}get parameterStructures(){return Er.auto}};ne.AbstractMessageSignature=Xe;var _m=class extends Xe{constructor(t){super(t,0)}};ne.RequestType0=_m;var Sm=class extends Xe{constructor(t,r=Er.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.RequestType=Sm;var km=class extends Xe{constructor(t,r=Er.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.RequestType1=km;var wm=class extends Xe{constructor(t){super(t,2)}};ne.RequestType2=wm;var Cm=class extends Xe{constructor(t){super(t,3)}};ne.RequestType3=Cm;var Em=class extends Xe{constructor(t){super(t,4)}};ne.RequestType4=Em;var Pm=class extends Xe{constructor(t){super(t,5)}};ne.RequestType5=Pm;var Am=class extends Xe{constructor(t){super(t,6)}};ne.RequestType6=Am;var Dm=class extends Xe{constructor(t){super(t,7)}};ne.RequestType7=Dm;var Nm=class extends Xe{constructor(t){super(t,8)}};ne.RequestType8=Nm;var Im=class extends Xe{constructor(t){super(t,9)}};ne.RequestType9=Im;var Om=class extends Xe{constructor(t,r=Er.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.NotificationType=Om;var Lm=class extends Xe{constructor(t){super(t,0)}};ne.NotificationType0=Lm;var Mm=class extends Xe{constructor(t,r=Er.auto){super(t,1),this._parameterStructures=r}get parameterStructures(){return this._parameterStructures}};ne.NotificationType1=Mm;var $m=class extends Xe{constructor(t){super(t,2)}};ne.NotificationType2=$m;var Fm=class extends Xe{constructor(t){super(t,3)}};ne.NotificationType3=Fm;var qm=class extends Xe{constructor(t){super(t,4)}};ne.NotificationType4=qm;var jm=class extends Xe{constructor(t){super(t,5)}};ne.NotificationType5=jm;var Um=class extends Xe{constructor(t){super(t,6)}};ne.NotificationType6=Um;var Wm=class extends Xe{constructor(t){super(t,7)}};ne.NotificationType7=Wm;var Hm=class extends Xe{constructor(t){super(t,8)}};ne.NotificationType8=Hm;var Gm=class extends Xe{constructor(t){super(t,9)}};ne.NotificationType9=Gm;var hN;(function(e){function t(i){let o=i;return o&&Ro.string(o.method)&&(Ro.string(o.id)||Ro.number(o.id))}e.isRequest=t;function r(i){let o=i;return o&&Ro.string(o.method)&&i.id===void 0}e.isNotification=r;function n(i){let o=i;return o&&(o.result!==void 0||!!o.error)&&(Ro.string(o.id)||Ro.number(o.id)||o.id===null)}e.isResponse=n})(hN=ne.Message||(ne.Message={}))});var zm=I(ei=>{"use strict";var Lb;Object.defineProperty(ei,"__esModule",{value:!0});ei.LRUCache=ei.LinkedMap=ei.Touch=void 0;var mr;(function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last})(mr=ei.Touch||(ei.Touch={}));var al=class{constructor(){this[Lb]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(t){return this._map.has(t)}get(t,r=mr.None){let n=this._map.get(t);if(n)return r!==mr.None&&this.touch(n,r),n.value}set(t,r,n=mr.None){let i=this._map.get(t);if(i)i.value=r,n!==mr.None&&this.touch(i,n);else{switch(i={key:t,value:r,next:void 0,previous:void 0},n){case mr.None:this.addItemLast(i);break;case mr.First:this.addItemFirst(i);break;case mr.Last:this.addItemLast(i);break;default:this.addItemLast(i);break}this._map.set(t,i),this._size++}return this}delete(t){return!!this.remove(t)}remove(t){let r=this._map.get(t);if(r)return this._map.delete(t),this.removeItem(r),this._size--,r.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");let t=this._head;return this._map.delete(t.key),this.removeItem(t),this._size--,t.value}forEach(t,r){let n=this._state,i=this._head;for(;i;){if(r?t.bind(r)(i.value,i.key,this):t(i.value,i.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");i=i.next}}keys(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.key,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}values(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:r.value,done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}entries(){let t=this._state,r=this._head,n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==t)throw new Error("LinkedMap got modified during iteration.");if(r){let i={value:[r.key,r.value],done:!1};return r=r.next,i}else return{value:void 0,done:!0}}};return n}[(Lb=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(t){if(t>=this.size)return;if(t===0){this.clear();return}let r=this._head,n=this.size;for(;r&&n>t;)this._map.delete(r.key),r=r.next,n--;this._head=r,this._size=n,r&&(r.previous=void 0),this._state++}addItemFirst(t){if(!this._head&&!this._tail)this._tail=t;else if(this._head)t.next=this._head,this._head.previous=t;else throw new Error("Invalid list");this._head=t,this._state++}addItemLast(t){if(!this._head&&!this._tail)this._head=t;else if(this._tail)t.previous=this._tail,this._tail.next=t;else throw new Error("Invalid list");this._tail=t,this._state++}removeItem(t){if(t===this._head&&t===this._tail)this._head=void 0,this._tail=void 0;else if(t===this._head){if(!t.next)throw new Error("Invalid list");t.next.previous=void 0,this._head=t.next}else if(t===this._tail){if(!t.previous)throw new Error("Invalid list");t.previous.next=void 0,this._tail=t.previous}else{let r=t.next,n=t.previous;if(!r||!n)throw new Error("Invalid list");r.previous=n,n.next=r}t.next=void 0,t.previous=void 0,this._state++}touch(t,r){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(r!==mr.First&&r!==mr.Last)){if(r===mr.First){if(t===this._head)return;let n=t.next,i=t.previous;t===this._tail?(i.next=void 0,this._tail=i):(n.previous=i,i.next=n),t.previous=void 0,t.next=this._head,this._head.previous=t,this._head=t,this._state++}else if(r===mr.Last){if(t===this._tail)return;let n=t.next,i=t.previous;t===this._head?(n.previous=void 0,this._head=n):(n.previous=i,i.next=n),t.next=void 0,t.previous=this._tail,this._tail.next=t,this._tail=t,this._state++}}}toJSON(){let t=[];return this.forEach((r,n)=>{t.push([n,r])}),t}fromJSON(t){this.clear();for(let[r,n]of t)this.set(r,n)}};ei.LinkedMap=al;var Km=class extends al{constructor(t,r=1){super(),this._limit=t,this._ratio=Math.min(Math.max(0,r),1)}get limit(){return this._limit}set limit(t){this._limit=t,this.checkTrim()}get ratio(){return this._ratio}set ratio(t){this._ratio=Math.min(Math.max(0,t),1),this.checkTrim()}get(t,r=mr.AsNew){return super.get(t,r)}peek(t){return super.get(t,mr.None)}set(t,r){return super.set(t,r,mr.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}};ei.LRUCache=Km});var Mb=I(Ua=>{"use strict";Object.defineProperty(Ua,"__esModule",{value:!0});Ua.Disposable=void 0;var mN;(function(e){function t(r){return{dispose:r}}e.create=t})(mN=Ua.Disposable||(Ua.Disposable={}))});var Di=I(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});var Vm;function Xm(){if(Vm===void 0)throw new Error("No runtime abstraction layer installed");return Vm}(function(e){function t(r){if(r===void 0)throw new Error("No runtime abstraction layer provided");Vm=r}e.install=t})(Xm||(Xm={}));Ym.default=Xm});var ms=I(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.Emitter=xo.Event=void 0;var gN=Di(),yN;(function(e){let t={dispose(){}};e.None=function(){return t}})(yN=xo.Event||(xo.Event={}));var Jm=class{add(t,r=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(t),this._contexts.push(r),Array.isArray(n)&&n.push({dispose:()=>this.remove(t,r)})}remove(t,r=null){if(!this._callbacks)return;let n=!1;for(let i=0,o=this._callbacks.length;i<o;i++)if(this._callbacks[i]===t)if(this._contexts[i]===r){this._callbacks.splice(i,1),this._contexts.splice(i,1);return}else n=!0;if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...t){if(!this._callbacks)return[];let r=[],n=this._callbacks.slice(0),i=this._contexts.slice(0);for(let o=0,s=n.length;o<s;o++)try{r.push(n[o].apply(i[o],t))}catch(a){(0,gN.default)().console.error(a)}return r}isEmpty(){return!this._callbacks||this._callbacks.length===0}dispose(){this._callbacks=void 0,this._contexts=void 0}},cl=class e{constructor(t){this._options=t}get event(){return this._event||(this._event=(t,r,n)=>{this._callbacks||(this._callbacks=new Jm),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(t,r);let i={dispose:()=>{this._callbacks&&(this._callbacks.remove(t,r),i.dispose=e._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(i),i}),this._event}fire(t){this._callbacks&&this._callbacks.invoke.call(this._callbacks,t)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}};xo.Emitter=cl;cl._noop=function(){}});var ll=I(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.CancellationTokenSource=bo.CancellationToken=void 0;var vN=Di(),TN=hs(),Qm=ms(),Zm;(function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:Qm.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:Qm.Event.None});function t(r){let n=r;return n&&(n===e.None||n===e.Cancelled||TN.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}e.is=t})(Zm=bo.CancellationToken||(bo.CancellationToken={}));var RN=Object.freeze(function(e,t){let r=(0,vN.default)().timer.setTimeout(e.bind(t),0);return{dispose(){r.dispose()}}}),ul=class{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?RN:(this._emitter||(this._emitter=new Qm.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}},eg=class{get token(){return this._token||(this._token=new ul),this._token}cancel(){this._token?this._token.cancel():this._token=Zm.Cancelled}dispose(){this._token?this._token instanceof ul&&this._token.dispose():this._token=Zm.None}};bo.CancellationTokenSource=eg});var $b=I(gs=>{"use strict";Object.defineProperty(gs,"__esModule",{value:!0});gs.SharedArrayReceiverStrategy=gs.SharedArraySenderStrategy=void 0;var xN=ll(),Wa;(function(e){e.Continue=0,e.Cancelled=1})(Wa||(Wa={}));var tg=class{constructor(){this.buffers=new Map}enableCancellation(t){if(t.id===null)return;let r=new SharedArrayBuffer(4),n=new Int32Array(r,0,1);n[0]=Wa.Continue,this.buffers.set(t.id,r),t.$cancellationData=r}async sendCancellation(t,r){let n=this.buffers.get(r);if(n===void 0)return;let i=new Int32Array(n,0,1);Atomics.store(i,0,Wa.Cancelled)}cleanup(t){this.buffers.delete(t)}dispose(){this.buffers.clear()}};gs.SharedArraySenderStrategy=tg;var rg=class{constructor(t){this.data=new Int32Array(t,0,1)}get isCancellationRequested(){return Atomics.load(this.data,0)===Wa.Cancelled}get onCancellationRequested(){throw new Error("Cancellation over SharedArrayBuffer doesn't support cancellation events")}},ng=class{constructor(t){this.token=new rg(t)}cancel(){}dispose(){}},ig=class{constructor(){this.kind="request"}createCancellationTokenSource(t){let r=t.$cancellationData;return r===void 0?new xN.CancellationTokenSource:new ng(r)}};gs.SharedArrayReceiverStrategy=ig});var sg=I(fl=>{"use strict";Object.defineProperty(fl,"__esModule",{value:!0});fl.Semaphore=void 0;var bN=Di(),og=class{constructor(t=1){if(t<=0)throw new Error("Capacity must be greater than 0");this._capacity=t,this._active=0,this._waiting=[]}lock(t){return new Promise((r,n)=>{this._waiting.push({thunk:t,resolve:r,reject:n}),this.runNext()})}get active(){return this._active}runNext(){this._waiting.length===0||this._active===this._capacity||(0,bN.default)().timer.setImmediate(()=>this.doRunNext())}doRunNext(){if(this._waiting.length===0||this._active===this._capacity)return;let t=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{let r=t.thunk();r instanceof Promise?r.then(n=>{this._active--,t.resolve(n),this.runNext()},n=>{this._active--,t.reject(n),this.runNext()}):(this._active--,t.resolve(r),this.runNext())}catch(r){this._active--,t.reject(r),this.runNext()}}};fl.Semaphore=og});var Fb=I(ti=>{"use strict";Object.defineProperty(ti,"__esModule",{value:!0});ti.ReadableStreamMessageReader=ti.AbstractMessageReader=ti.MessageReader=void 0;var cg=Di(),ys=hs(),ag=ms(),_N=sg(),SN;(function(e){function t(r){let n=r;return n&&ys.func(n.listen)&&ys.func(n.dispose)&&ys.func(n.onError)&&ys.func(n.onClose)&&ys.func(n.onPartialMessage)}e.is=t})(SN=ti.MessageReader||(ti.MessageReader={}));var dl=class{constructor(){this.errorEmitter=new ag.Emitter,this.closeEmitter=new ag.Emitter,this.partialMessageEmitter=new ag.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t){this.errorEmitter.fire(this.asError(t))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(t){this.partialMessageEmitter.fire(t)}asError(t){return t instanceof Error?t:new Error(`Reader received error. Reason: ${ys.string(t.message)?t.message:"unknown"}`)}};ti.AbstractMessageReader=dl;var ug;(function(e){function t(r){let n,i,o,s=new Map,a,c=new Map;if(r===void 0||typeof r=="string")n=r??"utf-8";else{if(n=r.charset??"utf-8",r.contentDecoder!==void 0&&(o=r.contentDecoder,s.set(o.name,o)),r.contentDecoders!==void 0)for(let l of r.contentDecoders)s.set(l.name,l);if(r.contentTypeDecoder!==void 0&&(a=r.contentTypeDecoder,c.set(a.name,a)),r.contentTypeDecoders!==void 0)for(let l of r.contentTypeDecoders)c.set(l.name,l)}return a===void 0&&(a=(0,cg.default)().applicationJson.decoder,c.set(a.name,a)),{charset:n,contentDecoder:o,contentDecoders:s,contentTypeDecoder:a,contentTypeDecoders:c}}e.fromOptions=t})(ug||(ug={}));var lg=class extends dl{constructor(t,r){super(),this.readable=t,this.options=ug.fromOptions(r),this.buffer=(0,cg.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0,this.readSemaphore=new _N.Semaphore(1)}set partialMessageTimeout(t){this._partialMessageTimeout=t}get partialMessageTimeout(){return this._partialMessageTimeout}listen(t){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=t;let r=this.readable.onData(n=>{this.onData(n)});return this.readable.onError(n=>this.fireError(n)),this.readable.onClose(()=>this.fireClose()),r}onData(t){for(this.buffer.append(t);;){if(this.nextMessageLength===-1){let n=this.buffer.tryReadHeaders(!0);if(!n)return;let i=n.get("content-length");if(!i){this.fireError(new Error("Header must provide a Content-Length property."));return}let o=parseInt(i);if(isNaN(o)){this.fireError(new Error("Content-Length value must be a number."));return}this.nextMessageLength=o}let r=this.buffer.tryReadBody(this.nextMessageLength);if(r===void 0){this.setPartialMessageTimer();return}this.clearPartialMessageTimer(),this.nextMessageLength=-1,this.readSemaphore.lock(async()=>{let n=this.options.contentDecoder!==void 0?await this.options.contentDecoder.decode(r):r,i=await this.options.contentTypeDecoder.decode(n,this.options);this.callback(i)}).catch(n=>{this.fireError(n)})}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),!(this._partialMessageTimeout<=0)&&(this.partialMessageTimer=(0,cg.default)().timer.setTimeout((t,r)=>{this.partialMessageTimer=void 0,t===this.messageToken&&(this.firePartialMessage({messageToken:t,waitingTime:r}),this.setPartialMessageTimer())},this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}};ti.ReadableStreamMessageReader=lg});var Wb=I(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.WriteableStreamMessageWriter=ri.AbstractMessageWriter=ri.MessageWriter=void 0;var qb=Di(),Ha=hs(),kN=sg(),jb=ms(),wN="Content-Length: ",Ub=`\r
`,CN;(function(e){function t(r){let n=r;return n&&Ha.func(n.dispose)&&Ha.func(n.onClose)&&Ha.func(n.onError)&&Ha.func(n.write)}e.is=t})(CN=ri.MessageWriter||(ri.MessageWriter={}));var pl=class{constructor(){this.errorEmitter=new jb.Emitter,this.closeEmitter=new jb.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(t,r,n){this.errorEmitter.fire([this.asError(t),r,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(t){return t instanceof Error?t:new Error(`Writer received error. Reason: ${Ha.string(t.message)?t.message:"unknown"}`)}};ri.AbstractMessageWriter=pl;var fg;(function(e){function t(r){return r===void 0||typeof r=="string"?{charset:r??"utf-8",contentTypeEncoder:(0,qb.default)().applicationJson.encoder}:{charset:r.charset??"utf-8",contentEncoder:r.contentEncoder,contentTypeEncoder:r.contentTypeEncoder??(0,qb.default)().applicationJson.encoder}}e.fromOptions=t})(fg||(fg={}));var dg=class extends pl{constructor(t,r){super(),this.writable=t,this.options=fg.fromOptions(r),this.errorCount=0,this.writeSemaphore=new kN.Semaphore(1),this.writable.onError(n=>this.fireError(n)),this.writable.onClose(()=>this.fireClose())}async write(t){return this.writeSemaphore.lock(async()=>this.options.contentTypeEncoder.encode(t,this.options).then(n=>this.options.contentEncoder!==void 0?this.options.contentEncoder.encode(n):n).then(n=>{let i=[];return i.push(wN,n.byteLength.toString(),Ub),i.push(Ub),this.doWrite(t,i,n)},n=>{throw this.fireError(n),n}))}async doWrite(t,r,n){try{return await this.writable.write(r.join(""),"ascii"),this.writable.write(n)}catch(i){return this.handleError(i,t),Promise.reject(i)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){this.writable.end()}};ri.WriteableStreamMessageWriter=dg});var Hb=I(hl=>{"use strict";Object.defineProperty(hl,"__esModule",{value:!0});hl.AbstractMessageBuffer=void 0;var EN=13,PN=10,AN=`\r
`,pg=class{constructor(t="utf-8"){this._encoding=t,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(t){let r=typeof t=="string"?this.fromString(t,this._encoding):t;this._chunks.push(r),this._totalLength+=r.byteLength}tryReadHeaders(t=!1){if(this._chunks.length===0)return;let r=0,n=0,i=0,o=0;e:for(;n<this._chunks.length;){let l=this._chunks[n];for(i=0;i<l.length;){switch(l[i]){case EN:switch(r){case 0:r=1;break;case 2:r=3;break;default:r=0}break;case PN:switch(r){case 1:r=2;break;case 3:r=4,i++;break e;default:r=0}break;default:r=0}i++}o+=l.byteLength,n++}if(r!==4)return;let s=this._read(o+i),a=new Map,c=this.toString(s,"ascii").split(AN);if(c.length<2)return a;for(let l=0;l<c.length-2;l++){let g=c[l],v=g.indexOf(":");if(v===-1)throw new Error("Message header must separate key and value using :");let x=g.substr(0,v),k=g.substr(v+1).trim();a.set(t?x.toLowerCase():x,k)}return a}tryReadBody(t){if(!(this._totalLength<t))return this._read(t)}get numberOfBytes(){return this._totalLength}_read(t){if(t===0)return this.emptyBuffer();if(t>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===t){let o=this._chunks[0];return this._chunks.shift(),this._totalLength-=t,this.asNative(o)}if(this._chunks[0].byteLength>t){let o=this._chunks[0],s=this.asNative(o,t);return this._chunks[0]=o.slice(t),this._totalLength-=t,s}let r=this.allocNative(t),n=0,i=0;for(;t>0;){let o=this._chunks[i];if(o.byteLength>t){let s=o.slice(0,t);r.set(s,n),n+=t,this._chunks[i]=o.slice(t),this._totalLength-=t,t-=t}else r.set(o,n),n+=o.byteLength,this._chunks.shift(),this._totalLength-=o.byteLength,t-=o.byteLength}return r}};hl.AbstractMessageBuffer=pg});var Yb=I(re=>{"use strict";Object.defineProperty(re,"__esModule",{value:!0});re.createMessageConnection=re.ConnectionOptions=re.MessageStrategy=re.CancellationStrategy=re.CancellationSenderStrategy=re.CancellationReceiverStrategy=re.RequestCancellationReceiverStrategy=re.IdCancellationReceiverStrategy=re.ConnectionStrategy=re.ConnectionError=re.ConnectionErrors=re.LogTraceNotification=re.SetTraceNotification=re.TraceFormat=re.TraceValues=re.Trace=re.NullLogger=re.ProgressType=re.ProgressToken=void 0;var Gb=Di(),st=hs(),de=Bm(),Bb=zm(),Ga=ms(),hg=ll(),Ka;(function(e){e.type=new de.NotificationType("$/cancelRequest")})(Ka||(Ka={}));var Kb;(function(e){function t(r){return typeof r=="string"||typeof r=="number"}e.is=t})(Kb=re.ProgressToken||(re.ProgressToken={}));var Ba;(function(e){e.type=new de.NotificationType("$/progress")})(Ba||(Ba={}));var mg=class{constructor(){}};re.ProgressType=mg;var gg;(function(e){function t(r){return st.func(r)}e.is=t})(gg||(gg={}));re.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}});var Me;(function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"})(Me=re.Trace||(re.Trace={}));var DN;(function(e){e.Off="off",e.Messages="messages",e.Compact="compact",e.Verbose="verbose"})(DN=re.TraceValues||(re.TraceValues={}));(function(e){function t(n){if(!st.string(n))return e.Off;switch(n=n.toLowerCase(),n){case"off":return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose;default:return e.Off}}e.fromString=t;function r(n){switch(n){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}e.toString=r})(Me=re.Trace||(re.Trace={}));var fn;(function(e){e.Text="text",e.JSON="json"})(fn=re.TraceFormat||(re.TraceFormat={}));(function(e){function t(r){return st.string(r)?(r=r.toLowerCase(),r==="json"?e.JSON:e.Text):e.Text}e.fromString=t})(fn=re.TraceFormat||(re.TraceFormat={}));var zb;(function(e){e.type=new de.NotificationType("$/setTrace")})(zb=re.SetTraceNotification||(re.SetTraceNotification={}));var yg;(function(e){e.type=new de.NotificationType("$/logTrace")})(yg=re.LogTraceNotification||(re.LogTraceNotification={}));var ml;(function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"})(ml=re.ConnectionErrors||(re.ConnectionErrors={}));var vs=class e extends Error{constructor(t,r){super(r),this.code=t,Object.setPrototypeOf(this,e.prototype)}};re.ConnectionError=vs;var Vb;(function(e){function t(r){let n=r;return n&&st.func(n.cancelUndispatched)}e.is=t})(Vb=re.ConnectionStrategy||(re.ConnectionStrategy={}));var Rg;(function(e){function t(r){let n=r;return n&&(n.kind===void 0||n.kind==="id")&&st.func(n.createCancellationTokenSource)&&(n.dispose===void 0||st.func(n.dispose))}e.is=t})(Rg=re.IdCancellationReceiverStrategy||(re.IdCancellationReceiverStrategy={}));var Xb;(function(e){function t(r){let n=r;return n&&n.kind==="request"&&st.func(n.createCancellationTokenSource)&&(n.dispose===void 0||st.func(n.dispose))}e.is=t})(Xb=re.RequestCancellationReceiverStrategy||(re.RequestCancellationReceiverStrategy={}));var vg;(function(e){e.Message=Object.freeze({createCancellationTokenSource(r){return new hg.CancellationTokenSource}});function t(r){return Rg.is(r)||Xb.is(r)}e.is=t})(vg=re.CancellationReceiverStrategy||(re.CancellationReceiverStrategy={}));var Tg;(function(e){e.Message=Object.freeze({sendCancellation(r,n){return r.sendNotification(Ka.type,{id:n})},cleanup(r){}});function t(r){let n=r;return n&&st.func(n.sendCancellation)&&st.func(n.cleanup)}e.is=t})(Tg=re.CancellationSenderStrategy||(re.CancellationSenderStrategy={}));var xg;(function(e){e.Message=Object.freeze({receiver:vg.Message,sender:Tg.Message});function t(r){let n=r;return n&&vg.is(n.receiver)&&Tg.is(n.sender)}e.is=t})(xg=re.CancellationStrategy||(re.CancellationStrategy={}));var bg;(function(e){function t(r){let n=r;return n&&st.func(n.handleMessage)}e.is=t})(bg=re.MessageStrategy||(re.MessageStrategy={}));var NN;(function(e){function t(r){let n=r;return n&&(xg.is(n.cancellationStrategy)||Vb.is(n.connectionStrategy)||bg.is(n.messageStrategy))}e.is=t})(NN=re.ConnectionOptions||(re.ConnectionOptions={}));var dn;(function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"})(dn||(dn={}));function IN(e,t,r,n){let i=r!==void 0?r:re.NullLogger,o=0,s=0,a=0,c="2.0",l,g=new Map,v,x=new Map,k=new Map,N,D=new Bb.LinkedMap,j=new Map,A=new Set,p=new Map,d=Me.Off,b=fn.Text,F,Y=dn.New,_e=new Ga.Emitter,Oe=new Ga.Emitter,qt=new Ga.Emitter,bt=new Ga.Emitter,H=new Ga.Emitter,O=n&&n.cancellationStrategy?n.cancellationStrategy:xg.Message;function Q(u){if(u===null)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+u.toString()}function K(u){return u===null?"res-unknown-"+(++a).toString():"res-"+u.toString()}function xe(){return"not-"+(++s).toString()}function ce(u,R){de.Message.isRequest(R)?u.set(Q(R.id),R):de.Message.isResponse(R)?u.set(K(R.id),R):u.set(xe(),R)}function ae(u){}function nt(){return Y===dn.Listening}function ze(){return Y===dn.Closed}function Te(){return Y===dn.Disposed}function Qt(){(Y===dn.New||Y===dn.Listening)&&(Y=dn.Closed,Oe.fire(void 0))}function nn(u){_e.fire([u,void 0,void 0])}function io(u){_e.fire(u)}e.onClose(Qt),e.onError(nn),t.onClose(Qt),t.onError(io);function xn(){N||D.size===0||(N=(0,Gb.default)().timer.setImmediate(()=>{N=void 0,yi()}))}function It(u){de.Message.isRequest(u)?jt(u):de.Message.isNotification(u)?Ot(u):de.Message.isResponse(u)?Ur(u):Gt(u)}function yi(){if(D.size===0)return;let u=D.shift();try{let R=n?.messageStrategy;bg.is(R)?R.handleMessage(u,It):It(u)}finally{xn()}}let ht=u=>{try{if(de.Message.isNotification(u)&&u.method===Ka.type.method){let R=u.params.id,C=Q(R),$=D.get(C);if(de.Message.isRequest($)){let ie=n?.connectionStrategy,pe=ie&&ie.cancelUndispatched?ie.cancelUndispatched($,ae):void 0;if(pe&&(pe.error!==void 0||pe.result!==void 0)){D.delete(C),p.delete(R),pe.id=$.id,lr(pe,u.method,Date.now()),t.write(pe).catch(()=>i.error("Sending response for canceled message failed."));return}}let se=p.get(R);if(se!==void 0){se.cancel(),zn(u);return}else A.add(R)}ce(D,u)}finally{xn()}};function jt(u){if(Te())return;function R(z,ue,ee){let Re={jsonrpc:c,id:u.id};z instanceof de.ResponseError?Re.error=z.toJson():Re.result=z===void 0?null:z,lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function C(z,ue,ee){let Re={jsonrpc:c,id:u.id,error:z.toJson()};lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}function $(z,ue,ee){z===void 0&&(z=null);let Re={jsonrpc:c,id:u.id,result:z};lr(Re,ue,ee),t.write(Re).catch(()=>i.error("Sending response failed."))}vi(u);let se=g.get(u.method),ie,pe;se&&(ie=se.type,pe=se.handler);let he=Date.now();if(pe||l){let z=u.id??String(Date.now()),ue=Rg.is(O.receiver)?O.receiver.createCancellationTokenSource(z):O.receiver.createCancellationTokenSource(u);u.id!==null&&A.has(u.id)&&ue.cancel(),u.id!==null&&p.set(z,ue);try{let ee;if(pe)if(u.params===void 0){if(ie!==void 0&&ie.numberOfParams!==0){C(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${u.method} defines ${ie.numberOfParams} params but received none.`),u.method,he);return}ee=pe(ue.token)}else if(Array.isArray(u.params)){if(ie!==void 0&&ie.parameterStructures===de.ParameterStructures.byName){C(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by name but received parameters by position`),u.method,he);return}ee=pe(...u.params,ue.token)}else{if(ie!==void 0&&ie.parameterStructures===de.ParameterStructures.byPosition){C(new de.ResponseError(de.ErrorCodes.InvalidParams,`Request ${u.method} defines parameters by position but received parameters by name`),u.method,he);return}ee=pe(u.params,ue.token)}else l&&(ee=l(u.method,u.params,ue.token));let Re=ee;ee?Re.then?Re.then(Ee=>{p.delete(z),R(Ee,u.method,he)},Ee=>{p.delete(z),Ee instanceof de.ResponseError?C(Ee,u.method,he):Ee&&st.string(Ee.message)?C(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${Ee.message}`),u.method,he):C(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,he)}):(p.delete(z),R(ee,u.method,he)):(p.delete(z),$(ee,u.method,he))}catch(ee){p.delete(z),ee instanceof de.ResponseError?R(ee,u.method,he):ee&&st.string(ee.message)?C(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${u.method} failed with message: ${ee.message}`),u.method,he):C(new de.ResponseError(de.ErrorCodes.InternalError,`Request ${u.method} failed unexpectedly without providing any details.`),u.method,he)}}else C(new de.ResponseError(de.ErrorCodes.MethodNotFound,`Unhandled method ${u.method}`),u.method,he)}function Ur(u){if(!Te())if(u.id===null)u.error?i.error(`Received response message without id: Error is: 
${JSON.stringify(u.error,void 0,4)}`):i.error("Received response message without id. No further error information provided.");else{let R=u.id,C=j.get(R);if(la(u,C),C!==void 0){j.delete(R);try{if(u.error){let $=u.error;C.reject(new de.ResponseError($.code,$.message,$.data))}else if(u.result!==void 0)C.resolve(u.result);else throw new Error("Should never happen.")}catch($){$.message?i.error(`Response handler '${C.method}' failed with message: ${$.message}`):i.error(`Response handler '${C.method}' failed unexpectedly.`)}}}}function Ot(u){if(Te())return;let R,C;if(u.method===Ka.type.method){let $=u.params.id;A.delete($),zn(u);return}else{let $=x.get(u.method);$&&(C=$.handler,R=$.type)}if(C||v)try{if(zn(u),C)if(u.params===void 0)R!==void 0&&R.numberOfParams!==0&&R.parameterStructures!==de.ParameterStructures.byName&&i.error(`Notification ${u.method} defines ${R.numberOfParams} params but received none.`),C();else if(Array.isArray(u.params)){let $=u.params;u.method===Ba.type.method&&$.length===2&&Kb.is($[0])?C({token:$[0],value:$[1]}):(R!==void 0&&(R.parameterStructures===de.ParameterStructures.byName&&i.error(`Notification ${u.method} defines parameters by name but received parameters by position`),R.numberOfParams!==u.params.length&&i.error(`Notification ${u.method} defines ${R.numberOfParams} params but received ${$.length} arguments`)),C(...$))}else R!==void 0&&R.parameterStructures===de.ParameterStructures.byPosition&&i.error(`Notification ${u.method} defines parameters by position but received parameters by name`),C(u.params);else v&&v(u.method,u.params)}catch($){$.message?i.error(`Notification handler '${u.method}' failed with message: ${$.message}`):i.error(`Notification handler '${u.method}' failed unexpectedly.`)}else qt.fire(u)}function Gt(u){if(!u){i.error("Received empty message.");return}i.error(`Received message which is neither a response nor a notification message:
${JSON.stringify(u,null,4)}`);let R=u;if(st.string(R.id)||st.number(R.id)){let C=R.id,$=j.get(C);$&&$.reject(new Error("The received response has neither a result nor an error property."))}}function $e(u){if(u!=null)switch(d){case Me.Verbose:return JSON.stringify(u,null,4);case Me.Compact:return JSON.stringify(u);default:return}}function ur(u){if(!(d===Me.Off||!F))if(b===fn.Text){let R;(d===Me.Verbose||d===Me.Compact)&&u.params&&(R=`Params: ${$e(u.params)}

`),F.log(`Sending request '${u.method} - (${u.id})'.`,R)}else fr("send-request",u)}function Or(u){if(!(d===Me.Off||!F))if(b===fn.Text){let R;(d===Me.Verbose||d===Me.Compact)&&(u.params?R=`Params: ${$e(u.params)}

`:R=`No parameters provided.

`),F.log(`Sending notification '${u.method}'.`,R)}else fr("send-notification",u)}function lr(u,R,C){if(!(d===Me.Off||!F))if(b===fn.Text){let $;(d===Me.Verbose||d===Me.Compact)&&(u.error&&u.error.data?$=`Error data: ${$e(u.error.data)}

`:u.result?$=`Result: ${$e(u.result)}

`:u.error===void 0&&($=`No result returned.

`)),F.log(`Sending response '${R} - (${u.id})'. Processing request took ${Date.now()-C}ms`,$)}else fr("send-response",u)}function vi(u){if(!(d===Me.Off||!F))if(b===fn.Text){let R;(d===Me.Verbose||d===Me.Compact)&&u.params&&(R=`Params: ${$e(u.params)}

`),F.log(`Received request '${u.method} - (${u.id})'.`,R)}else fr("receive-request",u)}function zn(u){if(!(d===Me.Off||!F||u.method===yg.type.method))if(b===fn.Text){let R;(d===Me.Verbose||d===Me.Compact)&&(u.params?R=`Params: ${$e(u.params)}

`:R=`No parameters provided.

`),F.log(`Received notification '${u.method}'.`,R)}else fr("receive-notification",u)}function la(u,R){if(!(d===Me.Off||!F))if(b===fn.Text){let C;if((d===Me.Verbose||d===Me.Compact)&&(u.error&&u.error.data?C=`Error data: ${$e(u.error.data)}

`:u.result?C=`Result: ${$e(u.result)}

`:u.error===void 0&&(C=`No result returned.

`)),R){let $=u.error?` Request failed: ${u.error.message} (${u.error.code}).`:"";F.log(`Received response '${R.method} - (${u.id})' in ${Date.now()-R.timerStart}ms.${$}`,C)}else F.log(`Received response ${u.id} without active response promise.`,C)}else fr("receive-response",u)}function fr(u,R){if(!F||d===Me.Off)return;let C={isLSPMessage:!0,type:u,message:R,timestamp:Date.now()};F.log(C)}function Lr(){if(ze())throw new vs(ml.Closed,"Connection is closed.");if(Te())throw new vs(ml.Disposed,"Connection is disposed.")}function fa(){if(nt())throw new vs(ml.AlreadyListening,"Connection is already listening")}function da(){if(!nt())throw new Error("Call listen() first.")}function dr(u){return u===void 0?null:u}function oo(u){if(u!==null)return u}function so(u){return u!=null&&!Array.isArray(u)&&typeof u=="object"}function Vn(u,R){switch(u){case de.ParameterStructures.auto:return so(R)?oo(R):[dr(R)];case de.ParameterStructures.byName:if(!so(R))throw new Error("Received parameters by name but param is not an object literal.");return oo(R);case de.ParameterStructures.byPosition:return[dr(R)];default:throw new Error(`Unknown parameter structure ${u.toString()}`)}}function ao(u,R){let C,$=u.numberOfParams;switch($){case 0:C=void 0;break;case 1:C=Vn(u.parameterStructures,R[0]);break;default:C=[];for(let se=0;se<R.length&&se<$;se++)C.push(dr(R[se]));if(R.length<$)for(let se=R.length;se<$;se++)C.push(null);break}return C}let pr={sendNotification:(u,...R)=>{Lr();let C,$;if(st.string(u)){C=u;let ie=R[0],pe=0,he=de.ParameterStructures.auto;de.ParameterStructures.is(ie)&&(pe=1,he=ie);let z=R.length,ue=z-pe;switch(ue){case 0:$=void 0;break;case 1:$=Vn(he,R[pe]);break;default:if(he===de.ParameterStructures.byName)throw new Error(`Received ${ue} parameters for 'by Name' notification parameter structure.`);$=R.slice(pe,z).map(ee=>dr(ee));break}}else{let ie=R;C=u.method,$=ao(u,ie)}let se={jsonrpc:c,method:C,params:$};return Or(se),t.write(se).catch(ie=>{throw i.error("Sending notification failed."),ie})},onNotification:(u,R)=>{Lr();let C;return st.func(u)?v=u:R&&(st.string(u)?(C=u,x.set(u,{type:void 0,handler:R})):(C=u.method,x.set(u.method,{type:u,handler:R}))),{dispose:()=>{C!==void 0?x.delete(C):v=void 0}}},onProgress:(u,R,C)=>{if(k.has(R))throw new Error(`Progress handler for token ${R} already registered`);return k.set(R,C),{dispose:()=>{k.delete(R)}}},sendProgress:(u,R,C)=>pr.sendNotification(Ba.type,{token:R,value:C}),onUnhandledProgress:bt.event,sendRequest:(u,...R)=>{Lr(),da();let C,$,se;if(st.string(u)){C=u;let z=R[0],ue=R[R.length-1],ee=0,Re=de.ParameterStructures.auto;de.ParameterStructures.is(z)&&(ee=1,Re=z);let Ee=R.length;hg.CancellationToken.is(ue)&&(Ee=Ee-1,se=ue);let it=Ee-ee;switch(it){case 0:$=void 0;break;case 1:$=Vn(Re,R[ee]);break;default:if(Re===de.ParameterStructures.byName)throw new Error(`Received ${it} parameters for 'by Name' request parameter structure.`);$=R.slice(ee,Ee).map(w=>dr(w));break}}else{let z=R;C=u.method,$=ao(u,z);let ue=u.numberOfParams;se=hg.CancellationToken.is(z[ue])?z[ue]:void 0}let ie=o++,pe;se&&(pe=se.onCancellationRequested(()=>{let z=O.sender.sendCancellation(pr,ie);return z===void 0?(i.log(`Received no promise from cancellation strategy when cancelling id ${ie}`),Promise.resolve()):z.catch(()=>{i.log(`Sending cancellation messages for id ${ie} failed`)})}));let he={jsonrpc:c,id:ie,method:C,params:$};return ur(he),typeof O.sender.enableCancellation=="function"&&O.sender.enableCancellation(he),new Promise(async(z,ue)=>{let ee=it=>{z(it),O.sender.cleanup(ie),pe?.dispose()},Re=it=>{ue(it),O.sender.cleanup(ie),pe?.dispose()},Ee={method:C,timerStart:Date.now(),resolve:ee,reject:Re};try{await t.write(he),j.set(ie,Ee)}catch(it){throw i.error("Sending request failed."),Ee.reject(new de.ResponseError(de.ErrorCodes.MessageWriteError,it.message?it.message:"Unknown reason")),it}})},onRequest:(u,R)=>{Lr();let C=null;return gg.is(u)?(C=void 0,l=u):st.string(u)?(C=null,R!==void 0&&(C=u,g.set(u,{handler:R,type:void 0}))):R!==void 0&&(C=u.method,g.set(u.method,{type:u,handler:R})),{dispose:()=>{C!==null&&(C!==void 0?g.delete(C):l=void 0)}}},hasPendingResponse:()=>j.size>0,trace:async(u,R,C)=>{let $=!1,se=fn.Text;C!==void 0&&(st.boolean(C)?$=C:($=C.sendNotification||!1,se=C.traceFormat||fn.Text)),d=u,b=se,d===Me.Off?F=void 0:F=R,$&&!ze()&&!Te()&&await pr.sendNotification(zb.type,{value:Me.toString(u)})},onError:_e.event,onClose:Oe.event,onUnhandledNotification:qt.event,onDispose:H.event,end:()=>{t.end()},dispose:()=>{if(Te())return;Y=dn.Disposed,H.fire(void 0);let u=new de.ResponseError(de.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(let R of j.values())R.reject(u);j=new Map,p=new Map,A=new Set,D=new Bb.LinkedMap,st.func(t.dispose)&&t.dispose(),st.func(e.dispose)&&e.dispose()},listen:()=>{Lr(),fa(),Y=dn.Listening,e.listen(ht)},inspect:()=>{(0,Gb.default)().console.log("inspect")}};return pr.onNotification(yg.type,u=>{if(d===Me.Off||!F)return;let R=d===Me.Verbose||d===Me.Compact;F.log(u.message,R?u.verbose:void 0)}),pr.onNotification(Ba.type,u=>{let R=k.get(u.token);R?R(u.value):bt.fire(u)}),pr}re.createMessageConnection=IN});var gl=I(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.ProgressType=M.ProgressToken=M.createMessageConnection=M.NullLogger=M.ConnectionOptions=M.ConnectionStrategy=M.AbstractMessageBuffer=M.WriteableStreamMessageWriter=M.AbstractMessageWriter=M.MessageWriter=M.ReadableStreamMessageReader=M.AbstractMessageReader=M.MessageReader=M.SharedArrayReceiverStrategy=M.SharedArraySenderStrategy=M.CancellationToken=M.CancellationTokenSource=M.Emitter=M.Event=M.Disposable=M.LRUCache=M.Touch=M.LinkedMap=M.ParameterStructures=M.NotificationType9=M.NotificationType8=M.NotificationType7=M.NotificationType6=M.NotificationType5=M.NotificationType4=M.NotificationType3=M.NotificationType2=M.NotificationType1=M.NotificationType0=M.NotificationType=M.ErrorCodes=M.ResponseError=M.RequestType9=M.RequestType8=M.RequestType7=M.RequestType6=M.RequestType5=M.RequestType4=M.RequestType3=M.RequestType2=M.RequestType1=M.RequestType0=M.RequestType=M.Message=M.RAL=void 0;M.MessageStrategy=M.CancellationStrategy=M.CancellationSenderStrategy=M.CancellationReceiverStrategy=M.ConnectionError=M.ConnectionErrors=M.LogTraceNotification=M.SetTraceNotification=M.TraceFormat=M.TraceValues=M.Trace=void 0;var He=Bm();Object.defineProperty(M,"Message",{enumerable:!0,get:function(){return He.Message}});Object.defineProperty(M,"RequestType",{enumerable:!0,get:function(){return He.RequestType}});Object.defineProperty(M,"RequestType0",{enumerable:!0,get:function(){return He.RequestType0}});Object.defineProperty(M,"RequestType1",{enumerable:!0,get:function(){return He.RequestType1}});Object.defineProperty(M,"RequestType2",{enumerable:!0,get:function(){return He.RequestType2}});Object.defineProperty(M,"RequestType3",{enumerable:!0,get:function(){return He.RequestType3}});Object.defineProperty(M,"RequestType4",{enumerable:!0,get:function(){return He.RequestType4}});Object.defineProperty(M,"RequestType5",{enumerable:!0,get:function(){return He.RequestType5}});Object.defineProperty(M,"RequestType6",{enumerable:!0,get:function(){return He.RequestType6}});Object.defineProperty(M,"RequestType7",{enumerable:!0,get:function(){return He.RequestType7}});Object.defineProperty(M,"RequestType8",{enumerable:!0,get:function(){return He.RequestType8}});Object.defineProperty(M,"RequestType9",{enumerable:!0,get:function(){return He.RequestType9}});Object.defineProperty(M,"ResponseError",{enumerable:!0,get:function(){return He.ResponseError}});Object.defineProperty(M,"ErrorCodes",{enumerable:!0,get:function(){return He.ErrorCodes}});Object.defineProperty(M,"NotificationType",{enumerable:!0,get:function(){return He.NotificationType}});Object.defineProperty(M,"NotificationType0",{enumerable:!0,get:function(){return He.NotificationType0}});Object.defineProperty(M,"NotificationType1",{enumerable:!0,get:function(){return He.NotificationType1}});Object.defineProperty(M,"NotificationType2",{enumerable:!0,get:function(){return He.NotificationType2}});Object.defineProperty(M,"NotificationType3",{enumerable:!0,get:function(){return He.NotificationType3}});Object.defineProperty(M,"NotificationType4",{enumerable:!0,get:function(){return He.NotificationType4}});Object.defineProperty(M,"NotificationType5",{enumerable:!0,get:function(){return He.NotificationType5}});Object.defineProperty(M,"NotificationType6",{enumerable:!0,get:function(){return He.NotificationType6}});Object.defineProperty(M,"NotificationType7",{enumerable:!0,get:function(){return He.NotificationType7}});Object.defineProperty(M,"NotificationType8",{enumerable:!0,get:function(){return He.NotificationType8}});Object.defineProperty(M,"NotificationType9",{enumerable:!0,get:function(){return He.NotificationType9}});Object.defineProperty(M,"ParameterStructures",{enumerable:!0,get:function(){return He.ParameterStructures}});var _g=zm();Object.defineProperty(M,"LinkedMap",{enumerable:!0,get:function(){return _g.LinkedMap}});Object.defineProperty(M,"LRUCache",{enumerable:!0,get:function(){return _g.LRUCache}});Object.defineProperty(M,"Touch",{enumerable:!0,get:function(){return _g.Touch}});var ON=Mb();Object.defineProperty(M,"Disposable",{enumerable:!0,get:function(){return ON.Disposable}});var Jb=ms();Object.defineProperty(M,"Event",{enumerable:!0,get:function(){return Jb.Event}});Object.defineProperty(M,"Emitter",{enumerable:!0,get:function(){return Jb.Emitter}});var Qb=ll();Object.defineProperty(M,"CancellationTokenSource",{enumerable:!0,get:function(){return Qb.CancellationTokenSource}});Object.defineProperty(M,"CancellationToken",{enumerable:!0,get:function(){return Qb.CancellationToken}});var Zb=$b();Object.defineProperty(M,"SharedArraySenderStrategy",{enumerable:!0,get:function(){return Zb.SharedArraySenderStrategy}});Object.defineProperty(M,"SharedArrayReceiverStrategy",{enumerable:!0,get:function(){return Zb.SharedArrayReceiverStrategy}});var Sg=Fb();Object.defineProperty(M,"MessageReader",{enumerable:!0,get:function(){return Sg.MessageReader}});Object.defineProperty(M,"AbstractMessageReader",{enumerable:!0,get:function(){return Sg.AbstractMessageReader}});Object.defineProperty(M,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return Sg.ReadableStreamMessageReader}});var kg=Wb();Object.defineProperty(M,"MessageWriter",{enumerable:!0,get:function(){return kg.MessageWriter}});Object.defineProperty(M,"AbstractMessageWriter",{enumerable:!0,get:function(){return kg.AbstractMessageWriter}});Object.defineProperty(M,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return kg.WriteableStreamMessageWriter}});var LN=Hb();Object.defineProperty(M,"AbstractMessageBuffer",{enumerable:!0,get:function(){return LN.AbstractMessageBuffer}});var zt=Yb();Object.defineProperty(M,"ConnectionStrategy",{enumerable:!0,get:function(){return zt.ConnectionStrategy}});Object.defineProperty(M,"ConnectionOptions",{enumerable:!0,get:function(){return zt.ConnectionOptions}});Object.defineProperty(M,"NullLogger",{enumerable:!0,get:function(){return zt.NullLogger}});Object.defineProperty(M,"createMessageConnection",{enumerable:!0,get:function(){return zt.createMessageConnection}});Object.defineProperty(M,"ProgressToken",{enumerable:!0,get:function(){return zt.ProgressToken}});Object.defineProperty(M,"ProgressType",{enumerable:!0,get:function(){return zt.ProgressType}});Object.defineProperty(M,"Trace",{enumerable:!0,get:function(){return zt.Trace}});Object.defineProperty(M,"TraceValues",{enumerable:!0,get:function(){return zt.TraceValues}});Object.defineProperty(M,"TraceFormat",{enumerable:!0,get:function(){return zt.TraceFormat}});Object.defineProperty(M,"SetTraceNotification",{enumerable:!0,get:function(){return zt.SetTraceNotification}});Object.defineProperty(M,"LogTraceNotification",{enumerable:!0,get:function(){return zt.LogTraceNotification}});Object.defineProperty(M,"ConnectionErrors",{enumerable:!0,get:function(){return zt.ConnectionErrors}});Object.defineProperty(M,"ConnectionError",{enumerable:!0,get:function(){return zt.ConnectionError}});Object.defineProperty(M,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return zt.CancellationReceiverStrategy}});Object.defineProperty(M,"CancellationSenderStrategy",{enumerable:!0,get:function(){return zt.CancellationSenderStrategy}});Object.defineProperty(M,"CancellationStrategy",{enumerable:!0,get:function(){return zt.CancellationStrategy}});Object.defineProperty(M,"MessageStrategy",{enumerable:!0,get:function(){return zt.MessageStrategy}});var MN=Di();M.RAL=MN.default});var t_=I(Pg=>{"use strict";Object.defineProperty(Pg,"__esModule",{value:!0});var Pn=gl(),yl=class e extends Pn.AbstractMessageBuffer{constructor(t="utf-8"){super(t),this.asciiDecoder=new TextDecoder("ascii")}emptyBuffer(){return e.emptyBuffer}fromString(t,r){return new TextEncoder().encode(t)}toString(t,r){return r==="ascii"?this.asciiDecoder.decode(t):new TextDecoder(r).decode(t)}asNative(t,r){return r===void 0?t:t.slice(0,r)}allocNative(t){return new Uint8Array(t)}};yl.emptyBuffer=new Uint8Array(0);var wg=class{constructor(t){this.socket=t,this._onData=new Pn.Emitter,this._messageListener=r=>{r.data.arrayBuffer().then(i=>{this._onData.fire(new Uint8Array(i))},()=>{(0,Pn.RAL)().console.error("Converting blob to array buffer failed.")})},this.socket.addEventListener("message",this._messageListener)}onClose(t){return this.socket.addEventListener("close",t),Pn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Pn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Pn.Disposable.create(()=>this.socket.removeEventListener("end",t))}onData(t){return this._onData.event(t)}},Cg=class{constructor(t){this.socket=t}onClose(t){return this.socket.addEventListener("close",t),Pn.Disposable.create(()=>this.socket.removeEventListener("close",t))}onError(t){return this.socket.addEventListener("error",t),Pn.Disposable.create(()=>this.socket.removeEventListener("error",t))}onEnd(t){return this.socket.addEventListener("end",t),Pn.Disposable.create(()=>this.socket.removeEventListener("end",t))}write(t,r){if(typeof t=="string"){if(r!==void 0&&r!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${r}`);this.socket.send(t)}else this.socket.send(t);return Promise.resolve()}end(){this.socket.close()}},$N=new TextEncoder,e_=Object.freeze({messageBuffer:Object.freeze({create:e=>new yl(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{if(t.charset!=="utf-8")throw new Error(`In a Browser environments only utf-8 text encoding is supported. But got encoding: ${t.charset}`);return Promise.resolve($N.encode(JSON.stringify(e,void 0,0)))}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{if(!(e instanceof Uint8Array))throw new Error("In a Browser environments only Uint8Arrays are supported.");return Promise.resolve(JSON.parse(new TextDecoder(t.charset).decode(e)))}})}),stream:Object.freeze({asReadableStream:e=>new wg(e),asWritableStream:e=>new Cg(e)}),console,timer:Object.freeze({setTimeout(e,t,...r){let n=setTimeout(e,t,...r);return{dispose:()=>clearTimeout(n)}},setImmediate(e,...t){let r=setTimeout(e,0,...t);return{dispose:()=>clearTimeout(r)}},setInterval(e,t,...r){let n=setInterval(e,t,...r);return{dispose:()=>clearInterval(n)}}})});function Eg(){return e_}(function(e){function t(){Pn.RAL.install(e_)}e.install=t})(Eg||(Eg={}));Pg.default=Eg});var ni=I(qr=>{"use strict";var FN=qr&&qr.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qN=qr&&qr.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&FN(t,e,r)};Object.defineProperty(qr,"__esModule",{value:!0});qr.createMessageConnection=qr.BrowserMessageWriter=qr.BrowserMessageReader=void 0;var jN=t_();jN.default.install();var Ts=gl();qN(gl(),qr);var Ag=class extends Ts.AbstractMessageReader{constructor(t){super(),this._onData=new Ts.Emitter,this._messageListener=r=>{this._onData.fire(r.data)},t.addEventListener("error",r=>this.fireError(r)),t.onmessage=this._messageListener}listen(t){return this._onData.event(t)}};qr.BrowserMessageReader=Ag;var Dg=class extends Ts.AbstractMessageWriter{constructor(t){super(),this.port=t,this.errorCount=0,t.addEventListener("error",r=>this.fireError(r))}write(t){try{return this.port.postMessage(t),Promise.resolve()}catch(r){return this.handleError(r,t),Promise.reject(r)}}handleError(t,r){this.errorCount++,this.fireError(t,r,this.errorCount)}end(){}};qr.BrowserMessageWriter=Dg;function UN(e,t,r,n){return r===void 0&&(r=Ts.NullLogger),Ts.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,Ts.createMessageConnection)(e,t,r,n)}qr.createMessageConnection=UN});var ky=I((Qme,AC)=>{"use strict";AC.exports=ni()});var qf=I((DC,Ff)=>{(function(e){if(typeof Ff=="object"&&typeof Ff.exports=="object"){var t=e(Rd,DC);t!==void 0&&(Ff.exports=t)}else typeof define=="function"&&define.amd&&define(["require","exports"],e)})(function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextDocument=t.EOL=t.WorkspaceFolder=t.InlayHint=t.InlayHintLabelPart=t.InlayHintKind=t.InlineValueContext=t.InlineValueEvaluatableExpression=t.InlineValueVariableLookup=t.InlineValueText=t.SemanticTokens=t.SemanticTokenModifiers=t.SemanticTokenTypes=t.SelectionRange=t.DocumentLink=t.FormattingOptions=t.CodeLens=t.CodeAction=t.CodeActionContext=t.CodeActionTriggerKind=t.CodeActionKind=t.DocumentSymbol=t.WorkspaceSymbol=t.SymbolInformation=t.SymbolTag=t.SymbolKind=t.DocumentHighlight=t.DocumentHighlightKind=t.SignatureInformation=t.ParameterInformation=t.Hover=t.MarkedString=t.CompletionList=t.CompletionItem=t.CompletionItemLabelDetails=t.InsertTextMode=t.InsertReplaceEdit=t.CompletionItemTag=t.InsertTextFormat=t.CompletionItemKind=t.MarkupContent=t.MarkupKind=t.TextDocumentItem=t.OptionalVersionedTextDocumentIdentifier=t.VersionedTextDocumentIdentifier=t.TextDocumentIdentifier=t.WorkspaceChange=t.WorkspaceEdit=t.DeleteFile=t.RenameFile=t.CreateFile=t.TextDocumentEdit=t.AnnotatedTextEdit=t.ChangeAnnotationIdentifier=t.ChangeAnnotation=t.TextEdit=t.Command=t.Diagnostic=t.CodeDescription=t.DiagnosticTag=t.DiagnosticSeverity=t.DiagnosticRelatedInformation=t.FoldingRange=t.FoldingRangeKind=t.ColorPresentation=t.ColorInformation=t.Color=t.LocationLink=t.Location=t.Range=t.Position=t.uinteger=t.integer=t.URI=t.DocumentUri=void 0;var r;(function(h){function _(S){return typeof S=="string"}h.is=_})(r=t.DocumentUri||(t.DocumentUri={}));var n;(function(h){function _(S){return typeof S=="string"}h.is=_})(n=t.URI||(t.URI={}));var i;(function(h){h.MIN_VALUE=-2147483648,h.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&h.MIN_VALUE<=S&&S<=h.MAX_VALUE}h.is=_})(i=t.integer||(t.integer={}));var o;(function(h){h.MIN_VALUE=0,h.MAX_VALUE=2147483647;function _(S){return typeof S=="number"&&h.MIN_VALUE<=S&&S<=h.MAX_VALUE}h.is=_})(o=t.uinteger||(t.uinteger={}));var s;(function(h){function _(y,f){return y===Number.MAX_VALUE&&(y=o.MAX_VALUE),f===Number.MAX_VALUE&&(f=o.MAX_VALUE),{line:y,character:f}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&w.uinteger(f.line)&&w.uinteger(f.character)}h.is=S})(s=t.Position||(t.Position={}));var a;(function(h){function _(y,f,P,q){if(w.uinteger(y)&&w.uinteger(f)&&w.uinteger(P)&&w.uinteger(q))return{start:s.create(y,f),end:s.create(P,q)};if(s.is(y)&&s.is(f))return{start:y,end:f};throw new Error("Range#create called with invalid arguments[".concat(y,", ").concat(f,", ").concat(P,", ").concat(q,"]"))}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&s.is(f.start)&&s.is(f.end)}h.is=S})(a=t.Range||(t.Range={}));var c;(function(h){function _(y,f){return{uri:y,range:f}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&a.is(f.range)&&(w.string(f.uri)||w.undefined(f.uri))}h.is=S})(c=t.Location||(t.Location={}));var l;(function(h){function _(y,f,P,q){return{targetUri:y,targetRange:f,targetSelectionRange:P,originSelectionRange:q}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&a.is(f.targetRange)&&w.string(f.targetUri)&&a.is(f.targetSelectionRange)&&(a.is(f.originSelectionRange)||w.undefined(f.originSelectionRange))}h.is=S})(l=t.LocationLink||(t.LocationLink={}));var g;(function(h){function _(y,f,P,q){return{red:y,green:f,blue:P,alpha:q}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&w.numberRange(f.red,0,1)&&w.numberRange(f.green,0,1)&&w.numberRange(f.blue,0,1)&&w.numberRange(f.alpha,0,1)}h.is=S})(g=t.Color||(t.Color={}));var v;(function(h){function _(y,f){return{range:y,color:f}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&a.is(f.range)&&g.is(f.color)}h.is=S})(v=t.ColorInformation||(t.ColorInformation={}));var x;(function(h){function _(y,f,P){return{label:y,textEdit:f,additionalTextEdits:P}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&w.string(f.label)&&(w.undefined(f.textEdit)||F.is(f))&&(w.undefined(f.additionalTextEdits)||w.typedArray(f.additionalTextEdits,F.is))}h.is=S})(x=t.ColorPresentation||(t.ColorPresentation={}));var k;(function(h){h.Comment="comment",h.Imports="imports",h.Region="region"})(k=t.FoldingRangeKind||(t.FoldingRangeKind={}));var N;(function(h){function _(y,f,P,q,ye,mt){var Ue={startLine:y,endLine:f};return w.defined(P)&&(Ue.startCharacter=P),w.defined(q)&&(Ue.endCharacter=q),w.defined(ye)&&(Ue.kind=ye),w.defined(mt)&&(Ue.collapsedText=mt),Ue}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&w.uinteger(f.startLine)&&w.uinteger(f.startLine)&&(w.undefined(f.startCharacter)||w.uinteger(f.startCharacter))&&(w.undefined(f.endCharacter)||w.uinteger(f.endCharacter))&&(w.undefined(f.kind)||w.string(f.kind))}h.is=S})(N=t.FoldingRange||(t.FoldingRange={}));var D;(function(h){function _(y,f){return{location:y,message:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&c.is(f.location)&&w.string(f.message)}h.is=S})(D=t.DiagnosticRelatedInformation||(t.DiagnosticRelatedInformation={}));var j;(function(h){h.Error=1,h.Warning=2,h.Information=3,h.Hint=4})(j=t.DiagnosticSeverity||(t.DiagnosticSeverity={}));var A;(function(h){h.Unnecessary=1,h.Deprecated=2})(A=t.DiagnosticTag||(t.DiagnosticTag={}));var p;(function(h){function _(S){var y=S;return w.objectLiteral(y)&&w.string(y.href)}h.is=_})(p=t.CodeDescription||(t.CodeDescription={}));var d;(function(h){function _(y,f,P,q,ye,mt){var Ue={range:y,message:f};return w.defined(P)&&(Ue.severity=P),w.defined(q)&&(Ue.code=q),w.defined(ye)&&(Ue.source=ye),w.defined(mt)&&(Ue.relatedInformation=mt),Ue}h.create=_;function S(y){var f,P=y;return w.defined(P)&&a.is(P.range)&&w.string(P.message)&&(w.number(P.severity)||w.undefined(P.severity))&&(w.integer(P.code)||w.string(P.code)||w.undefined(P.code))&&(w.undefined(P.codeDescription)||w.string((f=P.codeDescription)===null||f===void 0?void 0:f.href))&&(w.string(P.source)||w.undefined(P.source))&&(w.undefined(P.relatedInformation)||w.typedArray(P.relatedInformation,D.is))}h.is=S})(d=t.Diagnostic||(t.Diagnostic={}));var b;(function(h){function _(y,f){for(var P=[],q=2;q<arguments.length;q++)P[q-2]=arguments[q];var ye={title:y,command:f};return w.defined(P)&&P.length>0&&(ye.arguments=P),ye}h.create=_;function S(y){var f=y;return w.defined(f)&&w.string(f.title)&&w.string(f.command)}h.is=S})(b=t.Command||(t.Command={}));var F;(function(h){function _(P,q){return{range:P,newText:q}}h.replace=_;function S(P,q){return{range:{start:P,end:P},newText:q}}h.insert=S;function y(P){return{range:P,newText:""}}h.del=y;function f(P){var q=P;return w.objectLiteral(q)&&w.string(q.newText)&&a.is(q.range)}h.is=f})(F=t.TextEdit||(t.TextEdit={}));var Y;(function(h){function _(y,f,P){var q={label:y};return f!==void 0&&(q.needsConfirmation=f),P!==void 0&&(q.description=P),q}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&w.string(f.label)&&(w.boolean(f.needsConfirmation)||f.needsConfirmation===void 0)&&(w.string(f.description)||f.description===void 0)}h.is=S})(Y=t.ChangeAnnotation||(t.ChangeAnnotation={}));var _e;(function(h){function _(S){var y=S;return w.string(y)}h.is=_})(_e=t.ChangeAnnotationIdentifier||(t.ChangeAnnotationIdentifier={}));var Oe;(function(h){function _(P,q,ye){return{range:P,newText:q,annotationId:ye}}h.replace=_;function S(P,q,ye){return{range:{start:P,end:P},newText:q,annotationId:ye}}h.insert=S;function y(P,q){return{range:P,newText:"",annotationId:q}}h.del=y;function f(P){var q=P;return F.is(q)&&(Y.is(q.annotationId)||_e.is(q.annotationId))}h.is=f})(Oe=t.AnnotatedTextEdit||(t.AnnotatedTextEdit={}));var qt;(function(h){function _(y,f){return{textDocument:y,edits:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&ze.is(f.textDocument)&&Array.isArray(f.edits)}h.is=S})(qt=t.TextDocumentEdit||(t.TextDocumentEdit={}));var bt;(function(h){function _(y,f,P){var q={kind:"create",uri:y};return f!==void 0&&(f.overwrite!==void 0||f.ignoreIfExists!==void 0)&&(q.options=f),P!==void 0&&(q.annotationId=P),q}h.create=_;function S(y){var f=y;return f&&f.kind==="create"&&w.string(f.uri)&&(f.options===void 0||(f.options.overwrite===void 0||w.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||w.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||_e.is(f.annotationId))}h.is=S})(bt=t.CreateFile||(t.CreateFile={}));var H;(function(h){function _(y,f,P,q){var ye={kind:"rename",oldUri:y,newUri:f};return P!==void 0&&(P.overwrite!==void 0||P.ignoreIfExists!==void 0)&&(ye.options=P),q!==void 0&&(ye.annotationId=q),ye}h.create=_;function S(y){var f=y;return f&&f.kind==="rename"&&w.string(f.oldUri)&&w.string(f.newUri)&&(f.options===void 0||(f.options.overwrite===void 0||w.boolean(f.options.overwrite))&&(f.options.ignoreIfExists===void 0||w.boolean(f.options.ignoreIfExists)))&&(f.annotationId===void 0||_e.is(f.annotationId))}h.is=S})(H=t.RenameFile||(t.RenameFile={}));var O;(function(h){function _(y,f,P){var q={kind:"delete",uri:y};return f!==void 0&&(f.recursive!==void 0||f.ignoreIfNotExists!==void 0)&&(q.options=f),P!==void 0&&(q.annotationId=P),q}h.create=_;function S(y){var f=y;return f&&f.kind==="delete"&&w.string(f.uri)&&(f.options===void 0||(f.options.recursive===void 0||w.boolean(f.options.recursive))&&(f.options.ignoreIfNotExists===void 0||w.boolean(f.options.ignoreIfNotExists)))&&(f.annotationId===void 0||_e.is(f.annotationId))}h.is=S})(O=t.DeleteFile||(t.DeleteFile={}));var Q;(function(h){function _(S){var y=S;return y&&(y.changes!==void 0||y.documentChanges!==void 0)&&(y.documentChanges===void 0||y.documentChanges.every(function(f){return w.string(f.kind)?bt.is(f)||H.is(f)||O.is(f):qt.is(f)}))}h.is=_})(Q=t.WorkspaceEdit||(t.WorkspaceEdit={}));var K=function(){function h(_,S){this.edits=_,this.changeAnnotations=S}return h.prototype.insert=function(_,S,y){var f,P;if(y===void 0?f=F.insert(_,S):_e.is(y)?(P=y,f=Oe.insert(_,S,y)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(y),f=Oe.insert(_,S,P)),this.edits.push(f),P!==void 0)return P},h.prototype.replace=function(_,S,y){var f,P;if(y===void 0?f=F.replace(_,S):_e.is(y)?(P=y,f=Oe.replace(_,S,y)):(this.assertChangeAnnotations(this.changeAnnotations),P=this.changeAnnotations.manage(y),f=Oe.replace(_,S,P)),this.edits.push(f),P!==void 0)return P},h.prototype.delete=function(_,S){var y,f;if(S===void 0?y=F.del(_):_e.is(S)?(f=S,y=Oe.del(_,S)):(this.assertChangeAnnotations(this.changeAnnotations),f=this.changeAnnotations.manage(S),y=Oe.del(_,f)),this.edits.push(y),f!==void 0)return f},h.prototype.add=function(_){this.edits.push(_)},h.prototype.all=function(){return this.edits},h.prototype.clear=function(){this.edits.splice(0,this.edits.length)},h.prototype.assertChangeAnnotations=function(_){if(_===void 0)throw new Error("Text edit change is not configured to manage change annotations.")},h}(),xe=function(){function h(_){this._annotations=_===void 0?Object.create(null):_,this._counter=0,this._size=0}return h.prototype.all=function(){return this._annotations},Object.defineProperty(h.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),h.prototype.manage=function(_,S){var y;if(_e.is(_)?y=_:(y=this.nextId(),S=_),this._annotations[y]!==void 0)throw new Error("Id ".concat(y," is already in use."));if(S===void 0)throw new Error("No annotation provided for id ".concat(y));return this._annotations[y]=S,this._size++,y},h.prototype.nextId=function(){return this._counter++,this._counter.toString()},h}(),ce=function(){function h(_){var S=this;this._textEditChanges=Object.create(null),_!==void 0?(this._workspaceEdit=_,_.documentChanges?(this._changeAnnotations=new xe(_.changeAnnotations),_.changeAnnotations=this._changeAnnotations.all(),_.documentChanges.forEach(function(y){if(qt.is(y)){var f=new K(y.edits,S._changeAnnotations);S._textEditChanges[y.textDocument.uri]=f}})):_.changes&&Object.keys(_.changes).forEach(function(y){var f=new K(_.changes[y]);S._textEditChanges[y]=f})):this._workspaceEdit={}}return Object.defineProperty(h.prototype,"edit",{get:function(){return this.initDocumentChanges(),this._changeAnnotations!==void 0&&(this._changeAnnotations.size===0?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),h.prototype.getTextEditChange=function(_){if(ze.is(_)){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var S={uri:_.uri,version:_.version},y=this._textEditChanges[S.uri];if(!y){var f=[],P={textDocument:S,edits:f};this._workspaceEdit.documentChanges.push(P),y=new K(f,this._changeAnnotations),this._textEditChanges[S.uri]=y}return y}else{if(this.initChanges(),this._workspaceEdit.changes===void 0)throw new Error("Workspace edit is not configured for normal text edit changes.");var y=this._textEditChanges[_];if(!y){var f=[];this._workspaceEdit.changes[_]=f,y=new K(f),this._textEditChanges[_]=y}return y}},h.prototype.initDocumentChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._changeAnnotations=new xe,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},h.prototype.initChanges=function(){this._workspaceEdit.documentChanges===void 0&&this._workspaceEdit.changes===void 0&&(this._workspaceEdit.changes=Object.create(null))},h.prototype.createFile=function(_,S,y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;Y.is(S)||_e.is(S)?f=S:y=S;var P,q;if(f===void 0?P=bt.create(_,y):(q=_e.is(f)?f:this._changeAnnotations.manage(f),P=bt.create(_,y,q)),this._workspaceEdit.documentChanges.push(P),q!==void 0)return q},h.prototype.renameFile=function(_,S,y,f){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var P;Y.is(y)||_e.is(y)?P=y:f=y;var q,ye;if(P===void 0?q=H.create(_,S,f):(ye=_e.is(P)?P:this._changeAnnotations.manage(P),q=H.create(_,S,f,ye)),this._workspaceEdit.documentChanges.push(q),ye!==void 0)return ye},h.prototype.deleteFile=function(_,S,y){if(this.initDocumentChanges(),this._workspaceEdit.documentChanges===void 0)throw new Error("Workspace edit is not configured for document changes.");var f;Y.is(S)||_e.is(S)?f=S:y=S;var P,q;if(f===void 0?P=O.create(_,y):(q=_e.is(f)?f:this._changeAnnotations.manage(f),P=O.create(_,y,q)),this._workspaceEdit.documentChanges.push(P),q!==void 0)return q},h}();t.WorkspaceChange=ce;var ae;(function(h){function _(y){return{uri:y}}h.create=_;function S(y){var f=y;return w.defined(f)&&w.string(f.uri)}h.is=S})(ae=t.TextDocumentIdentifier||(t.TextDocumentIdentifier={}));var nt;(function(h){function _(y,f){return{uri:y,version:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&w.string(f.uri)&&w.integer(f.version)}h.is=S})(nt=t.VersionedTextDocumentIdentifier||(t.VersionedTextDocumentIdentifier={}));var ze;(function(h){function _(y,f){return{uri:y,version:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&w.string(f.uri)&&(f.version===null||w.integer(f.version))}h.is=S})(ze=t.OptionalVersionedTextDocumentIdentifier||(t.OptionalVersionedTextDocumentIdentifier={}));var Te;(function(h){function _(y,f,P,q){return{uri:y,languageId:f,version:P,text:q}}h.create=_;function S(y){var f=y;return w.defined(f)&&w.string(f.uri)&&w.string(f.languageId)&&w.integer(f.version)&&w.string(f.text)}h.is=S})(Te=t.TextDocumentItem||(t.TextDocumentItem={}));var Qt;(function(h){h.PlainText="plaintext",h.Markdown="markdown";function _(S){var y=S;return y===h.PlainText||y===h.Markdown}h.is=_})(Qt=t.MarkupKind||(t.MarkupKind={}));var nn;(function(h){function _(S){var y=S;return w.objectLiteral(S)&&Qt.is(y.kind)&&w.string(y.value)}h.is=_})(nn=t.MarkupContent||(t.MarkupContent={}));var io;(function(h){h.Text=1,h.Method=2,h.Function=3,h.Constructor=4,h.Field=5,h.Variable=6,h.Class=7,h.Interface=8,h.Module=9,h.Property=10,h.Unit=11,h.Value=12,h.Enum=13,h.Keyword=14,h.Snippet=15,h.Color=16,h.File=17,h.Reference=18,h.Folder=19,h.EnumMember=20,h.Constant=21,h.Struct=22,h.Event=23,h.Operator=24,h.TypeParameter=25})(io=t.CompletionItemKind||(t.CompletionItemKind={}));var xn;(function(h){h.PlainText=1,h.Snippet=2})(xn=t.InsertTextFormat||(t.InsertTextFormat={}));var It;(function(h){h.Deprecated=1})(It=t.CompletionItemTag||(t.CompletionItemTag={}));var yi;(function(h){function _(y,f,P){return{newText:y,insert:f,replace:P}}h.create=_;function S(y){var f=y;return f&&w.string(f.newText)&&a.is(f.insert)&&a.is(f.replace)}h.is=S})(yi=t.InsertReplaceEdit||(t.InsertReplaceEdit={}));var ht;(function(h){h.asIs=1,h.adjustIndentation=2})(ht=t.InsertTextMode||(t.InsertTextMode={}));var jt;(function(h){function _(S){var y=S;return y&&(w.string(y.detail)||y.detail===void 0)&&(w.string(y.description)||y.description===void 0)}h.is=_})(jt=t.CompletionItemLabelDetails||(t.CompletionItemLabelDetails={}));var Ur;(function(h){function _(S){return{label:S}}h.create=_})(Ur=t.CompletionItem||(t.CompletionItem={}));var Ot;(function(h){function _(S,y){return{items:S||[],isIncomplete:!!y}}h.create=_})(Ot=t.CompletionList||(t.CompletionList={}));var Gt;(function(h){function _(y){return y.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}h.fromPlainText=_;function S(y){var f=y;return w.string(f)||w.objectLiteral(f)&&w.string(f.language)&&w.string(f.value)}h.is=S})(Gt=t.MarkedString||(t.MarkedString={}));var $e;(function(h){function _(S){var y=S;return!!y&&w.objectLiteral(y)&&(nn.is(y.contents)||Gt.is(y.contents)||w.typedArray(y.contents,Gt.is))&&(S.range===void 0||a.is(S.range))}h.is=_})($e=t.Hover||(t.Hover={}));var ur;(function(h){function _(S,y){return y?{label:S,documentation:y}:{label:S}}h.create=_})(ur=t.ParameterInformation||(t.ParameterInformation={}));var Or;(function(h){function _(S,y){for(var f=[],P=2;P<arguments.length;P++)f[P-2]=arguments[P];var q={label:S};return w.defined(y)&&(q.documentation=y),w.defined(f)?q.parameters=f:q.parameters=[],q}h.create=_})(Or=t.SignatureInformation||(t.SignatureInformation={}));var lr;(function(h){h.Text=1,h.Read=2,h.Write=3})(lr=t.DocumentHighlightKind||(t.DocumentHighlightKind={}));var vi;(function(h){function _(S,y){var f={range:S};return w.number(y)&&(f.kind=y),f}h.create=_})(vi=t.DocumentHighlight||(t.DocumentHighlight={}));var zn;(function(h){h.File=1,h.Module=2,h.Namespace=3,h.Package=4,h.Class=5,h.Method=6,h.Property=7,h.Field=8,h.Constructor=9,h.Enum=10,h.Interface=11,h.Function=12,h.Variable=13,h.Constant=14,h.String=15,h.Number=16,h.Boolean=17,h.Array=18,h.Object=19,h.Key=20,h.Null=21,h.EnumMember=22,h.Struct=23,h.Event=24,h.Operator=25,h.TypeParameter=26})(zn=t.SymbolKind||(t.SymbolKind={}));var la;(function(h){h.Deprecated=1})(la=t.SymbolTag||(t.SymbolTag={}));var fr;(function(h){function _(S,y,f,P,q){var ye={name:S,kind:y,location:{uri:P,range:f}};return q&&(ye.containerName=q),ye}h.create=_})(fr=t.SymbolInformation||(t.SymbolInformation={}));var Lr;(function(h){function _(S,y,f,P){return P!==void 0?{name:S,kind:y,location:{uri:f,range:P}}:{name:S,kind:y,location:{uri:f}}}h.create=_})(Lr=t.WorkspaceSymbol||(t.WorkspaceSymbol={}));var fa;(function(h){function _(y,f,P,q,ye,mt){var Ue={name:y,detail:f,kind:P,range:q,selectionRange:ye};return mt!==void 0&&(Ue.children=mt),Ue}h.create=_;function S(y){var f=y;return f&&w.string(f.name)&&w.number(f.kind)&&a.is(f.range)&&a.is(f.selectionRange)&&(f.detail===void 0||w.string(f.detail))&&(f.deprecated===void 0||w.boolean(f.deprecated))&&(f.children===void 0||Array.isArray(f.children))&&(f.tags===void 0||Array.isArray(f.tags))}h.is=S})(fa=t.DocumentSymbol||(t.DocumentSymbol={}));var da;(function(h){h.Empty="",h.QuickFix="quickfix",h.Refactor="refactor",h.RefactorExtract="refactor.extract",h.RefactorInline="refactor.inline",h.RefactorRewrite="refactor.rewrite",h.Source="source",h.SourceOrganizeImports="source.organizeImports",h.SourceFixAll="source.fixAll"})(da=t.CodeActionKind||(t.CodeActionKind={}));var dr;(function(h){h.Invoked=1,h.Automatic=2})(dr=t.CodeActionTriggerKind||(t.CodeActionTriggerKind={}));var oo;(function(h){function _(y,f,P){var q={diagnostics:y};return f!=null&&(q.only=f),P!=null&&(q.triggerKind=P),q}h.create=_;function S(y){var f=y;return w.defined(f)&&w.typedArray(f.diagnostics,d.is)&&(f.only===void 0||w.typedArray(f.only,w.string))&&(f.triggerKind===void 0||f.triggerKind===dr.Invoked||f.triggerKind===dr.Automatic)}h.is=S})(oo=t.CodeActionContext||(t.CodeActionContext={}));var so;(function(h){function _(y,f,P){var q={title:y},ye=!0;return typeof f=="string"?(ye=!1,q.kind=f):b.is(f)?q.command=f:q.edit=f,ye&&P!==void 0&&(q.kind=P),q}h.create=_;function S(y){var f=y;return f&&w.string(f.title)&&(f.diagnostics===void 0||w.typedArray(f.diagnostics,d.is))&&(f.kind===void 0||w.string(f.kind))&&(f.edit!==void 0||f.command!==void 0)&&(f.command===void 0||b.is(f.command))&&(f.isPreferred===void 0||w.boolean(f.isPreferred))&&(f.edit===void 0||Q.is(f.edit))}h.is=S})(so=t.CodeAction||(t.CodeAction={}));var Vn;(function(h){function _(y,f){var P={range:y};return w.defined(f)&&(P.data=f),P}h.create=_;function S(y){var f=y;return w.defined(f)&&a.is(f.range)&&(w.undefined(f.command)||b.is(f.command))}h.is=S})(Vn=t.CodeLens||(t.CodeLens={}));var ao;(function(h){function _(y,f){return{tabSize:y,insertSpaces:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&w.uinteger(f.tabSize)&&w.boolean(f.insertSpaces)}h.is=S})(ao=t.FormattingOptions||(t.FormattingOptions={}));var pr;(function(h){function _(y,f,P){return{range:y,target:f,data:P}}h.create=_;function S(y){var f=y;return w.defined(f)&&a.is(f.range)&&(w.undefined(f.target)||w.string(f.target))}h.is=S})(pr=t.DocumentLink||(t.DocumentLink={}));var u;(function(h){function _(y,f){return{range:y,parent:f}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&a.is(f.range)&&(f.parent===void 0||h.is(f.parent))}h.is=S})(u=t.SelectionRange||(t.SelectionRange={}));var R;(function(h){h.namespace="namespace",h.type="type",h.class="class",h.enum="enum",h.interface="interface",h.struct="struct",h.typeParameter="typeParameter",h.parameter="parameter",h.variable="variable",h.property="property",h.enumMember="enumMember",h.event="event",h.function="function",h.method="method",h.macro="macro",h.keyword="keyword",h.modifier="modifier",h.comment="comment",h.string="string",h.number="number",h.regexp="regexp",h.operator="operator",h.decorator="decorator"})(R=t.SemanticTokenTypes||(t.SemanticTokenTypes={}));var C;(function(h){h.declaration="declaration",h.definition="definition",h.readonly="readonly",h.static="static",h.deprecated="deprecated",h.abstract="abstract",h.async="async",h.modification="modification",h.documentation="documentation",h.defaultLibrary="defaultLibrary"})(C=t.SemanticTokenModifiers||(t.SemanticTokenModifiers={}));var $;(function(h){function _(S){var y=S;return w.objectLiteral(y)&&(y.resultId===void 0||typeof y.resultId=="string")&&Array.isArray(y.data)&&(y.data.length===0||typeof y.data[0]=="number")}h.is=_})($=t.SemanticTokens||(t.SemanticTokens={}));var se;(function(h){function _(y,f){return{range:y,text:f}}h.create=_;function S(y){var f=y;return f!=null&&a.is(f.range)&&w.string(f.text)}h.is=S})(se=t.InlineValueText||(t.InlineValueText={}));var ie;(function(h){function _(y,f,P){return{range:y,variableName:f,caseSensitiveLookup:P}}h.create=_;function S(y){var f=y;return f!=null&&a.is(f.range)&&w.boolean(f.caseSensitiveLookup)&&(w.string(f.variableName)||f.variableName===void 0)}h.is=S})(ie=t.InlineValueVariableLookup||(t.InlineValueVariableLookup={}));var pe;(function(h){function _(y,f){return{range:y,expression:f}}h.create=_;function S(y){var f=y;return f!=null&&a.is(f.range)&&(w.string(f.expression)||f.expression===void 0)}h.is=S})(pe=t.InlineValueEvaluatableExpression||(t.InlineValueEvaluatableExpression={}));var he;(function(h){function _(y,f){return{frameId:y,stoppedLocation:f}}h.create=_;function S(y){var f=y;return w.defined(f)&&a.is(y.stoppedLocation)}h.is=S})(he=t.InlineValueContext||(t.InlineValueContext={}));var z;(function(h){h.Type=1,h.Parameter=2;function _(S){return S===1||S===2}h.is=_})(z=t.InlayHintKind||(t.InlayHintKind={}));var ue;(function(h){function _(y){return{value:y}}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&(f.tooltip===void 0||w.string(f.tooltip)||nn.is(f.tooltip))&&(f.location===void 0||c.is(f.location))&&(f.command===void 0||b.is(f.command))}h.is=S})(ue=t.InlayHintLabelPart||(t.InlayHintLabelPart={}));var ee;(function(h){function _(y,f,P){var q={position:y,label:f};return P!==void 0&&(q.kind=P),q}h.create=_;function S(y){var f=y;return w.objectLiteral(f)&&s.is(f.position)&&(w.string(f.label)||w.typedArray(f.label,ue.is))&&(f.kind===void 0||z.is(f.kind))&&f.textEdits===void 0||w.typedArray(f.textEdits,F.is)&&(f.tooltip===void 0||w.string(f.tooltip)||nn.is(f.tooltip))&&(f.paddingLeft===void 0||w.boolean(f.paddingLeft))&&(f.paddingRight===void 0||w.boolean(f.paddingRight))}h.is=S})(ee=t.InlayHint||(t.InlayHint={}));var Re;(function(h){function _(S){var y=S;return w.objectLiteral(y)&&n.is(y.uri)&&w.string(y.name)}h.is=_})(Re=t.WorkspaceFolder||(t.WorkspaceFolder={})),t.EOL=[`
`,`\r
`,"\r"];var Ee;(function(h){function _(P,q,ye,mt){return new it(P,q,ye,mt)}h.create=_;function S(P){var q=P;return!!(w.defined(q)&&w.string(q.uri)&&(w.undefined(q.languageId)||w.string(q.languageId))&&w.uinteger(q.lineCount)&&w.func(q.getText)&&w.func(q.positionAt)&&w.func(q.offsetAt))}h.is=S;function y(P,q){for(var ye=P.getText(),mt=f(q,function($o,Pc){var rv=$o.range.start.line-Pc.range.start.line;return rv===0?$o.range.start.character-Pc.range.start.character:rv}),Ue=ye.length,on=mt.length-1;on>=0;on--){var sn=mt[on],Xn=P.offsetAt(sn.range.start),we=P.offsetAt(sn.range.end);if(we<=Ue)ye=ye.substring(0,Xn)+sn.newText+ye.substring(we,ye.length);else throw new Error("Overlapping edit");Ue=Xn}return ye}h.applyEdits=y;function f(P,q){if(P.length<=1)return P;var ye=P.length/2|0,mt=P.slice(0,ye),Ue=P.slice(ye);f(mt,q),f(Ue,q);for(var on=0,sn=0,Xn=0;on<mt.length&&sn<Ue.length;){var we=q(mt[on],Ue[sn]);we<=0?P[Xn++]=mt[on++]:P[Xn++]=Ue[sn++]}for(;on<mt.length;)P[Xn++]=mt[on++];for(;sn<Ue.length;)P[Xn++]=Ue[sn++];return P}})(Ee=t.TextDocument||(t.TextDocument={}));var it=function(){function h(_,S,y,f){this._uri=_,this._languageId=S,this._version=y,this._content=f,this._lineOffsets=void 0}return Object.defineProperty(h.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),h.prototype.getText=function(_){if(_){var S=this.offsetAt(_.start),y=this.offsetAt(_.end);return this._content.substring(S,y)}return this._content},h.prototype.update=function(_,S){this._content=_.text,this._version=S,this._lineOffsets=void 0},h.prototype.getLineOffsets=function(){if(this._lineOffsets===void 0){for(var _=[],S=this._content,y=!0,f=0;f<S.length;f++){y&&(_.push(f),y=!1);var P=S.charAt(f);y=P==="\r"||P===`
`,P==="\r"&&f+1<S.length&&S.charAt(f+1)===`
`&&f++}y&&S.length>0&&_.push(S.length),this._lineOffsets=_}return this._lineOffsets},h.prototype.positionAt=function(_){_=Math.max(Math.min(_,this._content.length),0);var S=this.getLineOffsets(),y=0,f=S.length;if(f===0)return s.create(0,_);for(;y<f;){var P=Math.floor((y+f)/2);S[P]>_?f=P:y=P+1}var q=y-1;return s.create(q,_-S[q])},h.prototype.offsetAt=function(_){var S=this.getLineOffsets();if(_.line>=S.length)return this._content.length;if(_.line<0)return 0;var y=S[_.line],f=_.line+1<S.length?S[_.line+1]:this._content.length;return Math.max(Math.min(y+_.character,f),y)},Object.defineProperty(h.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),h}(),w;(function(h){var _=Object.prototype.toString;function S(we){return typeof we<"u"}h.defined=S;function y(we){return typeof we>"u"}h.undefined=y;function f(we){return we===!0||we===!1}h.boolean=f;function P(we){return _.call(we)==="[object String]"}h.string=P;function q(we){return _.call(we)==="[object Number]"}h.number=q;function ye(we,$o,Pc){return _.call(we)==="[object Number]"&&$o<=we&&we<=Pc}h.numberRange=ye;function mt(we){return _.call(we)==="[object Number]"&&-2147483648<=we&&we<=2147483647}h.integer=mt;function Ue(we){return _.call(we)==="[object Number]"&&0<=we&&we<=2147483647}h.uinteger=Ue;function on(we){return _.call(we)==="[object Function]"}h.func=on;function sn(we){return we!==null&&typeof we=="object"}h.objectLiteral=sn;function Xn(we,$o){return Array.isArray(we)&&we.every($o)}h.typedArray=Xn})(w||(w={}))})});var dt=I(xr=>{"use strict";Object.defineProperty(xr,"__esModule",{value:!0});xr.ProtocolNotificationType=xr.ProtocolNotificationType0=xr.ProtocolRequestType=xr.ProtocolRequestType0=xr.RegistrationType=xr.MessageDirection=void 0;var ta=ni(),Jj;(function(e){e.clientToServer="clientToServer",e.serverToClient="serverToClient",e.both="both"})(Jj=xr.MessageDirection||(xr.MessageDirection={}));var wy=class{constructor(t){this.method=t}};xr.RegistrationType=wy;var Cy=class extends ta.RequestType0{constructor(t){super(t)}};xr.ProtocolRequestType0=Cy;var Ey=class extends ta.RequestType{constructor(t){super(t,ta.ParameterStructures.byName)}};xr.ProtocolRequestType=Ey;var Py=class extends ta.NotificationType0{constructor(t){super(t)}};xr.ProtocolNotificationType0=Py;var Ay=class extends ta.NotificationType{constructor(t){super(t,ta.ParameterStructures.byName)}};xr.ProtocolNotificationType=Ay});var jf=I(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});At.objectLiteral=At.typedArray=At.stringArray=At.array=At.func=At.error=At.number=At.string=At.boolean=void 0;function Qj(e){return e===!0||e===!1}At.boolean=Qj;function NC(e){return typeof e=="string"||e instanceof String}At.string=NC;function Zj(e){return typeof e=="number"||e instanceof Number}At.number=Zj;function eU(e){return e instanceof Error}At.error=eU;function tU(e){return typeof e=="function"}At.func=tU;function IC(e){return Array.isArray(e)}At.array=IC;function rU(e){return IC(e)&&e.every(t=>NC(t))}At.stringArray=rU;function nU(e,t){return Array.isArray(e)&&e.every(t)}At.typedArray=nU;function iU(e){return e!==null&&typeof e=="object"}At.objectLiteral=iU});var LC=I(pc=>{"use strict";Object.defineProperty(pc,"__esModule",{value:!0});pc.ImplementationRequest=void 0;var OC=dt(),oU;(function(e){e.method="textDocument/implementation",e.messageDirection=OC.MessageDirection.clientToServer,e.type=new OC.ProtocolRequestType(e.method)})(oU=pc.ImplementationRequest||(pc.ImplementationRequest={}))});var $C=I(hc=>{"use strict";Object.defineProperty(hc,"__esModule",{value:!0});hc.TypeDefinitionRequest=void 0;var MC=dt(),sU;(function(e){e.method="textDocument/typeDefinition",e.messageDirection=MC.MessageDirection.clientToServer,e.type=new MC.ProtocolRequestType(e.method)})(sU=hc.TypeDefinitionRequest||(hc.TypeDefinitionRequest={}))});var FC=I(Qi=>{"use strict";Object.defineProperty(Qi,"__esModule",{value:!0});Qi.DidChangeWorkspaceFoldersNotification=Qi.WorkspaceFoldersRequest=void 0;var Uf=dt(),aU;(function(e){e.method="workspace/workspaceFolders",e.messageDirection=Uf.MessageDirection.serverToClient,e.type=new Uf.ProtocolRequestType0(e.method)})(aU=Qi.WorkspaceFoldersRequest||(Qi.WorkspaceFoldersRequest={}));var cU;(function(e){e.method="workspace/didChangeWorkspaceFolders",e.messageDirection=Uf.MessageDirection.clientToServer,e.type=new Uf.ProtocolNotificationType(e.method)})(cU=Qi.DidChangeWorkspaceFoldersNotification||(Qi.DidChangeWorkspaceFoldersNotification={}))});var jC=I(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});mc.ConfigurationRequest=void 0;var qC=dt(),uU;(function(e){e.method="workspace/configuration",e.messageDirection=qC.MessageDirection.serverToClient,e.type=new qC.ProtocolRequestType(e.method)})(uU=mc.ConfigurationRequest||(mc.ConfigurationRequest={}))});var UC=I(Zi=>{"use strict";Object.defineProperty(Zi,"__esModule",{value:!0});Zi.ColorPresentationRequest=Zi.DocumentColorRequest=void 0;var Wf=dt(),lU;(function(e){e.method="textDocument/documentColor",e.messageDirection=Wf.MessageDirection.clientToServer,e.type=new Wf.ProtocolRequestType(e.method)})(lU=Zi.DocumentColorRequest||(Zi.DocumentColorRequest={}));var fU;(function(e){e.method="textDocument/colorPresentation",e.messageDirection=Wf.MessageDirection.clientToServer,e.type=new Wf.ProtocolRequestType(e.method)})(fU=Zi.ColorPresentationRequest||(Zi.ColorPresentationRequest={}))});var HC=I(gc=>{"use strict";Object.defineProperty(gc,"__esModule",{value:!0});gc.FoldingRangeRequest=void 0;var WC=dt(),dU;(function(e){e.method="textDocument/foldingRange",e.messageDirection=WC.MessageDirection.clientToServer,e.type=new WC.ProtocolRequestType(e.method)})(dU=gc.FoldingRangeRequest||(gc.FoldingRangeRequest={}))});var BC=I(yc=>{"use strict";Object.defineProperty(yc,"__esModule",{value:!0});yc.DeclarationRequest=void 0;var GC=dt(),pU;(function(e){e.method="textDocument/declaration",e.messageDirection=GC.MessageDirection.clientToServer,e.type=new GC.ProtocolRequestType(e.method)})(pU=yc.DeclarationRequest||(yc.DeclarationRequest={}))});var zC=I(vc=>{"use strict";Object.defineProperty(vc,"__esModule",{value:!0});vc.SelectionRangeRequest=void 0;var KC=dt(),hU;(function(e){e.method="textDocument/selectionRange",e.messageDirection=KC.MessageDirection.clientToServer,e.type=new KC.ProtocolRequestType(e.method)})(hU=vc.SelectionRangeRequest||(vc.SelectionRangeRequest={}))});var VC=I(mn=>{"use strict";Object.defineProperty(mn,"__esModule",{value:!0});mn.WorkDoneProgressCancelNotification=mn.WorkDoneProgressCreateRequest=mn.WorkDoneProgress=void 0;var mU=ni(),Hf=dt(),gU;(function(e){e.type=new mU.ProgressType;function t(r){return r===e.type}e.is=t})(gU=mn.WorkDoneProgress||(mn.WorkDoneProgress={}));var yU;(function(e){e.method="window/workDoneProgress/create",e.messageDirection=Hf.MessageDirection.serverToClient,e.type=new Hf.ProtocolRequestType(e.method)})(yU=mn.WorkDoneProgressCreateRequest||(mn.WorkDoneProgressCreateRequest={}));var vU;(function(e){e.method="window/workDoneProgress/cancel",e.messageDirection=Hf.MessageDirection.clientToServer,e.type=new Hf.ProtocolNotificationType(e.method)})(vU=mn.WorkDoneProgressCancelNotification||(mn.WorkDoneProgressCancelNotification={}))});var XC=I(gn=>{"use strict";Object.defineProperty(gn,"__esModule",{value:!0});gn.CallHierarchyOutgoingCallsRequest=gn.CallHierarchyIncomingCallsRequest=gn.CallHierarchyPrepareRequest=void 0;var ra=dt(),TU;(function(e){e.method="textDocument/prepareCallHierarchy",e.messageDirection=ra.MessageDirection.clientToServer,e.type=new ra.ProtocolRequestType(e.method)})(TU=gn.CallHierarchyPrepareRequest||(gn.CallHierarchyPrepareRequest={}));var RU;(function(e){e.method="callHierarchy/incomingCalls",e.messageDirection=ra.MessageDirection.clientToServer,e.type=new ra.ProtocolRequestType(e.method)})(RU=gn.CallHierarchyIncomingCallsRequest||(gn.CallHierarchyIncomingCallsRequest={}));var xU;(function(e){e.method="callHierarchy/outgoingCalls",e.messageDirection=ra.MessageDirection.clientToServer,e.type=new ra.ProtocolRequestType(e.method)})(xU=gn.CallHierarchyOutgoingCallsRequest||(gn.CallHierarchyOutgoingCallsRequest={}))});var YC=I(Dt=>{"use strict";Object.defineProperty(Dt,"__esModule",{value:!0});Dt.SemanticTokensRefreshRequest=Dt.SemanticTokensRangeRequest=Dt.SemanticTokensDeltaRequest=Dt.SemanticTokensRequest=Dt.SemanticTokensRegistrationType=Dt.TokenFormat=void 0;var gi=dt(),bU;(function(e){e.Relative="relative"})(bU=Dt.TokenFormat||(Dt.TokenFormat={}));var Gf;(function(e){e.method="textDocument/semanticTokens",e.type=new gi.RegistrationType(e.method)})(Gf=Dt.SemanticTokensRegistrationType||(Dt.SemanticTokensRegistrationType={}));var _U;(function(e){e.method="textDocument/semanticTokens/full",e.messageDirection=gi.MessageDirection.clientToServer,e.type=new gi.ProtocolRequestType(e.method),e.registrationMethod=Gf.method})(_U=Dt.SemanticTokensRequest||(Dt.SemanticTokensRequest={}));var SU;(function(e){e.method="textDocument/semanticTokens/full/delta",e.messageDirection=gi.MessageDirection.clientToServer,e.type=new gi.ProtocolRequestType(e.method),e.registrationMethod=Gf.method})(SU=Dt.SemanticTokensDeltaRequest||(Dt.SemanticTokensDeltaRequest={}));var kU;(function(e){e.method="textDocument/semanticTokens/range",e.messageDirection=gi.MessageDirection.clientToServer,e.type=new gi.ProtocolRequestType(e.method),e.registrationMethod=Gf.method})(kU=Dt.SemanticTokensRangeRequest||(Dt.SemanticTokensRangeRequest={}));var wU;(function(e){e.method="workspace/semanticTokens/refresh",e.messageDirection=gi.MessageDirection.serverToClient,e.type=new gi.ProtocolRequestType0(e.method)})(wU=Dt.SemanticTokensRefreshRequest||(Dt.SemanticTokensRefreshRequest={}))});var QC=I(Tc=>{"use strict";Object.defineProperty(Tc,"__esModule",{value:!0});Tc.ShowDocumentRequest=void 0;var JC=dt(),CU;(function(e){e.method="window/showDocument",e.messageDirection=JC.MessageDirection.serverToClient,e.type=new JC.ProtocolRequestType(e.method)})(CU=Tc.ShowDocumentRequest||(Tc.ShowDocumentRequest={}))});var eE=I(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});Rc.LinkedEditingRangeRequest=void 0;var ZC=dt(),EU;(function(e){e.method="textDocument/linkedEditingRange",e.messageDirection=ZC.MessageDirection.clientToServer,e.type=new ZC.ProtocolRequestType(e.method)})(EU=Rc.LinkedEditingRangeRequest||(Rc.LinkedEditingRangeRequest={}))});var tE=I(pt=>{"use strict";Object.defineProperty(pt,"__esModule",{value:!0});pt.WillDeleteFilesRequest=pt.DidDeleteFilesNotification=pt.DidRenameFilesNotification=pt.WillRenameFilesRequest=pt.DidCreateFilesNotification=pt.WillCreateFilesRequest=pt.FileOperationPatternKind=void 0;var Zr=dt(),PU;(function(e){e.file="file",e.folder="folder"})(PU=pt.FileOperationPatternKind||(pt.FileOperationPatternKind={}));var AU;(function(e){e.method="workspace/willCreateFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolRequestType(e.method)})(AU=pt.WillCreateFilesRequest||(pt.WillCreateFilesRequest={}));var DU;(function(e){e.method="workspace/didCreateFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolNotificationType(e.method)})(DU=pt.DidCreateFilesNotification||(pt.DidCreateFilesNotification={}));var NU;(function(e){e.method="workspace/willRenameFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolRequestType(e.method)})(NU=pt.WillRenameFilesRequest||(pt.WillRenameFilesRequest={}));var IU;(function(e){e.method="workspace/didRenameFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolNotificationType(e.method)})(IU=pt.DidRenameFilesNotification||(pt.DidRenameFilesNotification={}));var OU;(function(e){e.method="workspace/didDeleteFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolNotificationType(e.method)})(OU=pt.DidDeleteFilesNotification||(pt.DidDeleteFilesNotification={}));var LU;(function(e){e.method="workspace/willDeleteFiles",e.messageDirection=Zr.MessageDirection.clientToServer,e.type=new Zr.ProtocolRequestType(e.method)})(LU=pt.WillDeleteFilesRequest||(pt.WillDeleteFilesRequest={}))});var nE=I(yn=>{"use strict";Object.defineProperty(yn,"__esModule",{value:!0});yn.MonikerRequest=yn.MonikerKind=yn.UniquenessLevel=void 0;var rE=dt(),MU;(function(e){e.document="document",e.project="project",e.group="group",e.scheme="scheme",e.global="global"})(MU=yn.UniquenessLevel||(yn.UniquenessLevel={}));var $U;(function(e){e.$import="import",e.$export="export",e.local="local"})($U=yn.MonikerKind||(yn.MonikerKind={}));var FU;(function(e){e.method="textDocument/moniker",e.messageDirection=rE.MessageDirection.clientToServer,e.type=new rE.ProtocolRequestType(e.method)})(FU=yn.MonikerRequest||(yn.MonikerRequest={}))});var iE=I(vn=>{"use strict";Object.defineProperty(vn,"__esModule",{value:!0});vn.TypeHierarchySubtypesRequest=vn.TypeHierarchySupertypesRequest=vn.TypeHierarchyPrepareRequest=void 0;var na=dt(),qU;(function(e){e.method="textDocument/prepareTypeHierarchy",e.messageDirection=na.MessageDirection.clientToServer,e.type=new na.ProtocolRequestType(e.method)})(qU=vn.TypeHierarchyPrepareRequest||(vn.TypeHierarchyPrepareRequest={}));var jU;(function(e){e.method="typeHierarchy/supertypes",e.messageDirection=na.MessageDirection.clientToServer,e.type=new na.ProtocolRequestType(e.method)})(jU=vn.TypeHierarchySupertypesRequest||(vn.TypeHierarchySupertypesRequest={}));var UU;(function(e){e.method="typeHierarchy/subtypes",e.messageDirection=na.MessageDirection.clientToServer,e.type=new na.ProtocolRequestType(e.method)})(UU=vn.TypeHierarchySubtypesRequest||(vn.TypeHierarchySubtypesRequest={}))});var oE=I(eo=>{"use strict";Object.defineProperty(eo,"__esModule",{value:!0});eo.InlineValueRefreshRequest=eo.InlineValueRequest=void 0;var Bf=dt(),WU;(function(e){e.method="textDocument/inlineValue",e.messageDirection=Bf.MessageDirection.clientToServer,e.type=new Bf.ProtocolRequestType(e.method)})(WU=eo.InlineValueRequest||(eo.InlineValueRequest={}));var HU;(function(e){e.method="workspace/inlineValue/refresh",e.messageDirection=Bf.MessageDirection.serverToClient,e.type=new Bf.ProtocolRequestType0(e.method)})(HU=eo.InlineValueRefreshRequest||(eo.InlineValueRefreshRequest={}))});var sE=I(Tn=>{"use strict";Object.defineProperty(Tn,"__esModule",{value:!0});Tn.InlayHintRefreshRequest=Tn.InlayHintResolveRequest=Tn.InlayHintRequest=void 0;var ia=dt(),GU;(function(e){e.method="textDocument/inlayHint",e.messageDirection=ia.MessageDirection.clientToServer,e.type=new ia.ProtocolRequestType(e.method)})(GU=Tn.InlayHintRequest||(Tn.InlayHintRequest={}));var BU;(function(e){e.method="inlayHint/resolve",e.messageDirection=ia.MessageDirection.clientToServer,e.type=new ia.ProtocolRequestType(e.method)})(BU=Tn.InlayHintResolveRequest||(Tn.InlayHintResolveRequest={}));var KU;(function(e){e.method="workspace/inlayHint/refresh",e.messageDirection=ia.MessageDirection.serverToClient,e.type=new ia.ProtocolRequestType0(e.method)})(KU=Tn.InlayHintRefreshRequest||(Tn.InlayHintRefreshRequest={}))});var cE=I(Xt=>{"use strict";Object.defineProperty(Xt,"__esModule",{value:!0});Xt.DiagnosticRefreshRequest=Xt.WorkspaceDiagnosticRequest=Xt.DocumentDiagnosticRequest=Xt.DocumentDiagnosticReportKind=Xt.DiagnosticServerCancellationData=void 0;var aE=ni(),zU=jf(),oa=dt(),VU;(function(e){function t(r){let n=r;return n&&zU.boolean(n.retriggerRequest)}e.is=t})(VU=Xt.DiagnosticServerCancellationData||(Xt.DiagnosticServerCancellationData={}));var XU;(function(e){e.Full="full",e.Unchanged="unchanged"})(XU=Xt.DocumentDiagnosticReportKind||(Xt.DocumentDiagnosticReportKind={}));var YU;(function(e){e.method="textDocument/diagnostic",e.messageDirection=oa.MessageDirection.clientToServer,e.type=new oa.ProtocolRequestType(e.method),e.partialResult=new aE.ProgressType})(YU=Xt.DocumentDiagnosticRequest||(Xt.DocumentDiagnosticRequest={}));var JU;(function(e){e.method="workspace/diagnostic",e.messageDirection=oa.MessageDirection.clientToServer,e.type=new oa.ProtocolRequestType(e.method),e.partialResult=new aE.ProgressType})(JU=Xt.WorkspaceDiagnosticRequest||(Xt.WorkspaceDiagnosticRequest={}));var QU;(function(e){e.method="workspace/diagnostic/refresh",e.messageDirection=oa.MessageDirection.serverToClient,e.type=new oa.ProtocolRequestType0(e.method)})(QU=Xt.DiagnosticRefreshRequest||(Xt.DiagnosticRefreshRequest={}))});var fE=I(Ne=>{"use strict";Object.defineProperty(Ne,"__esModule",{value:!0});Ne.DidCloseNotebookDocumentNotification=Ne.DidSaveNotebookDocumentNotification=Ne.DidChangeNotebookDocumentNotification=Ne.NotebookCellArrayChange=Ne.DidOpenNotebookDocumentNotification=Ne.NotebookDocumentSyncRegistrationType=Ne.NotebookDocument=Ne.NotebookCell=Ne.ExecutionSummary=Ne.NotebookCellKind=void 0;var xc=qf(),Rn=jf(),Hn=dt(),uE;(function(e){e.Markup=1,e.Code=2;function t(r){return r===1||r===2}e.is=t})(uE=Ne.NotebookCellKind||(Ne.NotebookCellKind={}));var lE;(function(e){function t(i,o){let s={executionOrder:i};return(o===!0||o===!1)&&(s.success=o),s}e.create=t;function r(i){let o=i;return Rn.objectLiteral(o)&&xc.uinteger.is(o.executionOrder)&&(o.success===void 0||Rn.boolean(o.success))}e.is=r;function n(i,o){return i===o?!0:i==null||o===null||o===void 0?!1:i.executionOrder===o.executionOrder&&i.success===o.success}e.equals=n})(lE=Ne.ExecutionSummary||(Ne.ExecutionSummary={}));var Dy;(function(e){function t(o,s){return{kind:o,document:s}}e.create=t;function r(o){let s=o;return Rn.objectLiteral(s)&&uE.is(s.kind)&&xc.DocumentUri.is(s.document)&&(s.metadata===void 0||Rn.objectLiteral(s.metadata))}e.is=r;function n(o,s){let a=new Set;return o.document!==s.document&&a.add("document"),o.kind!==s.kind&&a.add("kind"),o.executionSummary!==s.executionSummary&&a.add("executionSummary"),(o.metadata!==void 0||s.metadata!==void 0)&&!i(o.metadata,s.metadata)&&a.add("metadata"),(o.executionSummary!==void 0||s.executionSummary!==void 0)&&!lE.equals(o.executionSummary,s.executionSummary)&&a.add("executionSummary"),a}e.diff=n;function i(o,s){if(o===s)return!0;if(o==null||s===null||s===void 0||typeof o!=typeof s||typeof o!="object")return!1;let a=Array.isArray(o),c=Array.isArray(s);if(a!==c)return!1;if(a&&c){if(o.length!==s.length)return!1;for(let l=0;l<o.length;l++)if(!i(o[l],s[l]))return!1}if(Rn.objectLiteral(o)&&Rn.objectLiteral(s)){let l=Object.keys(o),g=Object.keys(s);if(l.length!==g.length||(l.sort(),g.sort(),!i(l,g)))return!1;for(let v=0;v<l.length;v++){let x=l[v];if(!i(o[x],s[x]))return!1}}return!0}})(Dy=Ne.NotebookCell||(Ne.NotebookCell={}));var ZU;(function(e){function t(n,i,o,s){return{uri:n,notebookType:i,version:o,cells:s}}e.create=t;function r(n){let i=n;return Rn.objectLiteral(i)&&Rn.string(i.uri)&&xc.integer.is(i.version)&&Rn.typedArray(i.cells,Dy.is)}e.is=r})(ZU=Ne.NotebookDocument||(Ne.NotebookDocument={}));var bc;(function(e){e.method="notebookDocument/sync",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.RegistrationType(e.method)})(bc=Ne.NotebookDocumentSyncRegistrationType||(Ne.NotebookDocumentSyncRegistrationType={}));var eW;(function(e){e.method="notebookDocument/didOpen",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method),e.registrationMethod=bc.method})(eW=Ne.DidOpenNotebookDocumentNotification||(Ne.DidOpenNotebookDocumentNotification={}));var tW;(function(e){function t(n){let i=n;return Rn.objectLiteral(i)&&xc.uinteger.is(i.start)&&xc.uinteger.is(i.deleteCount)&&(i.cells===void 0||Rn.typedArray(i.cells,Dy.is))}e.is=t;function r(n,i,o){let s={start:n,deleteCount:i};return o!==void 0&&(s.cells=o),s}e.create=r})(tW=Ne.NotebookCellArrayChange||(Ne.NotebookCellArrayChange={}));var rW;(function(e){e.method="notebookDocument/didChange",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method),e.registrationMethod=bc.method})(rW=Ne.DidChangeNotebookDocumentNotification||(Ne.DidChangeNotebookDocumentNotification={}));var nW;(function(e){e.method="notebookDocument/didSave",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method),e.registrationMethod=bc.method})(nW=Ne.DidSaveNotebookDocumentNotification||(Ne.DidSaveNotebookDocumentNotification={}));var iW;(function(e){e.method="notebookDocument/didClose",e.messageDirection=Hn.MessageDirection.clientToServer,e.type=new Hn.ProtocolNotificationType(e.method),e.registrationMethod=bc.method})(iW=Ne.DidCloseNotebookDocumentNotification||(Ne.DidCloseNotebookDocumentNotification={}))});var RE=I(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.WorkspaceSymbolRequest=m.CodeActionResolveRequest=m.CodeActionRequest=m.DocumentSymbolRequest=m.DocumentHighlightRequest=m.ReferencesRequest=m.DefinitionRequest=m.SignatureHelpRequest=m.SignatureHelpTriggerKind=m.HoverRequest=m.CompletionResolveRequest=m.CompletionRequest=m.CompletionTriggerKind=m.PublishDiagnosticsNotification=m.WatchKind=m.RelativePattern=m.FileChangeType=m.DidChangeWatchedFilesNotification=m.WillSaveTextDocumentWaitUntilRequest=m.WillSaveTextDocumentNotification=m.TextDocumentSaveReason=m.DidSaveTextDocumentNotification=m.DidCloseTextDocumentNotification=m.DidChangeTextDocumentNotification=m.TextDocumentContentChangeEvent=m.DidOpenTextDocumentNotification=m.TextDocumentSyncKind=m.TelemetryEventNotification=m.LogMessageNotification=m.ShowMessageRequest=m.ShowMessageNotification=m.MessageType=m.DidChangeConfigurationNotification=m.ExitNotification=m.ShutdownRequest=m.InitializedNotification=m.InitializeErrorCodes=m.InitializeRequest=m.WorkDoneProgressOptions=m.TextDocumentRegistrationOptions=m.StaticRegistrationOptions=m.PositionEncodingKind=m.FailureHandlingKind=m.ResourceOperationKind=m.UnregistrationRequest=m.RegistrationRequest=m.DocumentSelector=m.NotebookCellTextDocumentFilter=m.NotebookDocumentFilter=m.TextDocumentFilter=void 0;m.TypeHierarchySubtypesRequest=m.TypeHierarchyPrepareRequest=m.MonikerRequest=m.MonikerKind=m.UniquenessLevel=m.WillDeleteFilesRequest=m.DidDeleteFilesNotification=m.WillRenameFilesRequest=m.DidRenameFilesNotification=m.WillCreateFilesRequest=m.DidCreateFilesNotification=m.FileOperationPatternKind=m.LinkedEditingRangeRequest=m.ShowDocumentRequest=m.SemanticTokensRegistrationType=m.SemanticTokensRefreshRequest=m.SemanticTokensRangeRequest=m.SemanticTokensDeltaRequest=m.SemanticTokensRequest=m.TokenFormat=m.CallHierarchyPrepareRequest=m.CallHierarchyOutgoingCallsRequest=m.CallHierarchyIncomingCallsRequest=m.WorkDoneProgressCancelNotification=m.WorkDoneProgressCreateRequest=m.WorkDoneProgress=m.SelectionRangeRequest=m.DeclarationRequest=m.FoldingRangeRequest=m.ColorPresentationRequest=m.DocumentColorRequest=m.ConfigurationRequest=m.DidChangeWorkspaceFoldersNotification=m.WorkspaceFoldersRequest=m.TypeDefinitionRequest=m.ImplementationRequest=m.ApplyWorkspaceEditRequest=m.ExecuteCommandRequest=m.PrepareRenameRequest=m.RenameRequest=m.PrepareSupportDefaultBehavior=m.DocumentOnTypeFormattingRequest=m.DocumentRangeFormattingRequest=m.DocumentFormattingRequest=m.DocumentLinkResolveRequest=m.DocumentLinkRequest=m.CodeLensRefreshRequest=m.CodeLensResolveRequest=m.CodeLensRequest=m.WorkspaceSymbolResolveRequest=void 0;m.DidCloseNotebookDocumentNotification=m.DidSaveNotebookDocumentNotification=m.DidChangeNotebookDocumentNotification=m.NotebookCellArrayChange=m.DidOpenNotebookDocumentNotification=m.NotebookDocumentSyncRegistrationType=m.NotebookDocument=m.NotebookCell=m.ExecutionSummary=m.NotebookCellKind=m.DiagnosticRefreshRequest=m.WorkspaceDiagnosticRequest=m.DocumentDiagnosticRequest=m.DocumentDiagnosticReportKind=m.DiagnosticServerCancellationData=m.InlayHintRefreshRequest=m.InlayHintResolveRequest=m.InlayHintRequest=m.InlineValueRefreshRequest=m.InlineValueRequest=m.TypeHierarchySupertypesRequest=void 0;var W=dt(),dE=qf(),Yt=jf(),oW=LC();Object.defineProperty(m,"ImplementationRequest",{enumerable:!0,get:function(){return oW.ImplementationRequest}});var sW=$C();Object.defineProperty(m,"TypeDefinitionRequest",{enumerable:!0,get:function(){return sW.TypeDefinitionRequest}});var pE=FC();Object.defineProperty(m,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return pE.WorkspaceFoldersRequest}});Object.defineProperty(m,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return pE.DidChangeWorkspaceFoldersNotification}});var aW=jC();Object.defineProperty(m,"ConfigurationRequest",{enumerable:!0,get:function(){return aW.ConfigurationRequest}});var hE=UC();Object.defineProperty(m,"DocumentColorRequest",{enumerable:!0,get:function(){return hE.DocumentColorRequest}});Object.defineProperty(m,"ColorPresentationRequest",{enumerable:!0,get:function(){return hE.ColorPresentationRequest}});var cW=HC();Object.defineProperty(m,"FoldingRangeRequest",{enumerable:!0,get:function(){return cW.FoldingRangeRequest}});var uW=BC();Object.defineProperty(m,"DeclarationRequest",{enumerable:!0,get:function(){return uW.DeclarationRequest}});var lW=zC();Object.defineProperty(m,"SelectionRangeRequest",{enumerable:!0,get:function(){return lW.SelectionRangeRequest}});var Ny=VC();Object.defineProperty(m,"WorkDoneProgress",{enumerable:!0,get:function(){return Ny.WorkDoneProgress}});Object.defineProperty(m,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return Ny.WorkDoneProgressCreateRequest}});Object.defineProperty(m,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return Ny.WorkDoneProgressCancelNotification}});var Iy=XC();Object.defineProperty(m,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return Iy.CallHierarchyIncomingCallsRequest}});Object.defineProperty(m,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return Iy.CallHierarchyOutgoingCallsRequest}});Object.defineProperty(m,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return Iy.CallHierarchyPrepareRequest}});var sa=YC();Object.defineProperty(m,"TokenFormat",{enumerable:!0,get:function(){return sa.TokenFormat}});Object.defineProperty(m,"SemanticTokensRequest",{enumerable:!0,get:function(){return sa.SemanticTokensRequest}});Object.defineProperty(m,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return sa.SemanticTokensDeltaRequest}});Object.defineProperty(m,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return sa.SemanticTokensRangeRequest}});Object.defineProperty(m,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return sa.SemanticTokensRefreshRequest}});Object.defineProperty(m,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return sa.SemanticTokensRegistrationType}});var fW=QC();Object.defineProperty(m,"ShowDocumentRequest",{enumerable:!0,get:function(){return fW.ShowDocumentRequest}});var dW=eE();Object.defineProperty(m,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return dW.LinkedEditingRangeRequest}});var Oo=tE();Object.defineProperty(m,"FileOperationPatternKind",{enumerable:!0,get:function(){return Oo.FileOperationPatternKind}});Object.defineProperty(m,"DidCreateFilesNotification",{enumerable:!0,get:function(){return Oo.DidCreateFilesNotification}});Object.defineProperty(m,"WillCreateFilesRequest",{enumerable:!0,get:function(){return Oo.WillCreateFilesRequest}});Object.defineProperty(m,"DidRenameFilesNotification",{enumerable:!0,get:function(){return Oo.DidRenameFilesNotification}});Object.defineProperty(m,"WillRenameFilesRequest",{enumerable:!0,get:function(){return Oo.WillRenameFilesRequest}});Object.defineProperty(m,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return Oo.DidDeleteFilesNotification}});Object.defineProperty(m,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return Oo.WillDeleteFilesRequest}});var Oy=nE();Object.defineProperty(m,"UniquenessLevel",{enumerable:!0,get:function(){return Oy.UniquenessLevel}});Object.defineProperty(m,"MonikerKind",{enumerable:!0,get:function(){return Oy.MonikerKind}});Object.defineProperty(m,"MonikerRequest",{enumerable:!0,get:function(){return Oy.MonikerRequest}});var Ly=iE();Object.defineProperty(m,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return Ly.TypeHierarchyPrepareRequest}});Object.defineProperty(m,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return Ly.TypeHierarchySubtypesRequest}});Object.defineProperty(m,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return Ly.TypeHierarchySupertypesRequest}});var mE=oE();Object.defineProperty(m,"InlineValueRequest",{enumerable:!0,get:function(){return mE.InlineValueRequest}});Object.defineProperty(m,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return mE.InlineValueRefreshRequest}});var My=sE();Object.defineProperty(m,"InlayHintRequest",{enumerable:!0,get:function(){return My.InlayHintRequest}});Object.defineProperty(m,"InlayHintResolveRequest",{enumerable:!0,get:function(){return My.InlayHintResolveRequest}});Object.defineProperty(m,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return My.InlayHintRefreshRequest}});var _c=cE();Object.defineProperty(m,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return _c.DiagnosticServerCancellationData}});Object.defineProperty(m,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return _c.DocumentDiagnosticReportKind}});Object.defineProperty(m,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return _c.DocumentDiagnosticRequest}});Object.defineProperty(m,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return _c.WorkspaceDiagnosticRequest}});Object.defineProperty(m,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return _c.DiagnosticRefreshRequest}});var Gn=fE();Object.defineProperty(m,"NotebookCellKind",{enumerable:!0,get:function(){return Gn.NotebookCellKind}});Object.defineProperty(m,"ExecutionSummary",{enumerable:!0,get:function(){return Gn.ExecutionSummary}});Object.defineProperty(m,"NotebookCell",{enumerable:!0,get:function(){return Gn.NotebookCell}});Object.defineProperty(m,"NotebookDocument",{enumerable:!0,get:function(){return Gn.NotebookDocument}});Object.defineProperty(m,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return Gn.NotebookDocumentSyncRegistrationType}});Object.defineProperty(m,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return Gn.DidOpenNotebookDocumentNotification}});Object.defineProperty(m,"NotebookCellArrayChange",{enumerable:!0,get:function(){return Gn.NotebookCellArrayChange}});Object.defineProperty(m,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return Gn.DidChangeNotebookDocumentNotification}});Object.defineProperty(m,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return Gn.DidSaveNotebookDocumentNotification}});Object.defineProperty(m,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return Gn.DidCloseNotebookDocumentNotification}});var gE;(function(e){function t(r){let n=r;return Yt.string(n.language)||Yt.string(n.scheme)||Yt.string(n.pattern)}e.is=t})(gE=m.TextDocumentFilter||(m.TextDocumentFilter={}));var yE;(function(e){function t(r){let n=r;return Yt.objectLiteral(n)&&(Yt.string(n.notebookType)||Yt.string(n.scheme)||Yt.string(n.pattern))}e.is=t})(yE=m.NotebookDocumentFilter||(m.NotebookDocumentFilter={}));var vE;(function(e){function t(r){let n=r;return Yt.objectLiteral(n)&&(Yt.string(n.notebook)||yE.is(n.notebook))&&(n.language===void 0||Yt.string(n.language))}e.is=t})(vE=m.NotebookCellTextDocumentFilter||(m.NotebookCellTextDocumentFilter={}));var TE;(function(e){function t(r){if(!Array.isArray(r))return!1;for(let n of r)if(!Yt.string(n)&&!gE.is(n)&&!vE.is(n))return!1;return!0}e.is=t})(TE=m.DocumentSelector||(m.DocumentSelector={}));var pW;(function(e){e.method="client/registerCapability",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(pW=m.RegistrationRequest||(m.RegistrationRequest={}));var hW;(function(e){e.method="client/unregisterCapability",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(hW=m.UnregistrationRequest||(m.UnregistrationRequest={}));var mW;(function(e){e.Create="create",e.Rename="rename",e.Delete="delete"})(mW=m.ResourceOperationKind||(m.ResourceOperationKind={}));var gW;(function(e){e.Abort="abort",e.Transactional="transactional",e.TextOnlyTransactional="textOnlyTransactional",e.Undo="undo"})(gW=m.FailureHandlingKind||(m.FailureHandlingKind={}));var yW;(function(e){e.UTF8="utf-8",e.UTF16="utf-16",e.UTF32="utf-32"})(yW=m.PositionEncodingKind||(m.PositionEncodingKind={}));var vW;(function(e){function t(r){let n=r;return n&&Yt.string(n.id)&&n.id.length>0}e.hasId=t})(vW=m.StaticRegistrationOptions||(m.StaticRegistrationOptions={}));var TW;(function(e){function t(r){let n=r;return n&&(n.documentSelector===null||TE.is(n.documentSelector))}e.is=t})(TW=m.TextDocumentRegistrationOptions||(m.TextDocumentRegistrationOptions={}));var RW;(function(e){function t(n){let i=n;return Yt.objectLiteral(i)&&(i.workDoneProgress===void 0||Yt.boolean(i.workDoneProgress))}e.is=t;function r(n){let i=n;return i&&Yt.boolean(i.workDoneProgress)}e.hasWorkDoneProgress=r})(RW=m.WorkDoneProgressOptions||(m.WorkDoneProgressOptions={}));var xW;(function(e){e.method="initialize",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(xW=m.InitializeRequest||(m.InitializeRequest={}));var bW;(function(e){e.unknownProtocolVersion=1})(bW=m.InitializeErrorCodes||(m.InitializeErrorCodes={}));var _W;(function(e){e.method="initialized",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(_W=m.InitializedNotification||(m.InitializedNotification={}));var SW;(function(e){e.method="shutdown",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType0(e.method)})(SW=m.ShutdownRequest||(m.ShutdownRequest={}));var kW;(function(e){e.method="exit",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType0(e.method)})(kW=m.ExitNotification||(m.ExitNotification={}));var wW;(function(e){e.method="workspace/didChangeConfiguration",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(wW=m.DidChangeConfigurationNotification||(m.DidChangeConfigurationNotification={}));var CW;(function(e){e.Error=1,e.Warning=2,e.Info=3,e.Log=4})(CW=m.MessageType||(m.MessageType={}));var EW;(function(e){e.method="window/showMessage",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(EW=m.ShowMessageNotification||(m.ShowMessageNotification={}));var PW;(function(e){e.method="window/showMessageRequest",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType(e.method)})(PW=m.ShowMessageRequest||(m.ShowMessageRequest={}));var AW;(function(e){e.method="window/logMessage",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(AW=m.LogMessageNotification||(m.LogMessageNotification={}));var DW;(function(e){e.method="telemetry/event",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(DW=m.TelemetryEventNotification||(m.TelemetryEventNotification={}));var NW;(function(e){e.None=0,e.Full=1,e.Incremental=2})(NW=m.TextDocumentSyncKind||(m.TextDocumentSyncKind={}));var IW;(function(e){e.method="textDocument/didOpen",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(IW=m.DidOpenTextDocumentNotification||(m.DidOpenTextDocumentNotification={}));var OW;(function(e){function t(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range!==void 0&&(i.rangeLength===void 0||typeof i.rangeLength=="number")}e.isIncremental=t;function r(n){let i=n;return i!=null&&typeof i.text=="string"&&i.range===void 0&&i.rangeLength===void 0}e.isFull=r})(OW=m.TextDocumentContentChangeEvent||(m.TextDocumentContentChangeEvent={}));var LW;(function(e){e.method="textDocument/didChange",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(LW=m.DidChangeTextDocumentNotification||(m.DidChangeTextDocumentNotification={}));var MW;(function(e){e.method="textDocument/didClose",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(MW=m.DidCloseTextDocumentNotification||(m.DidCloseTextDocumentNotification={}));var $W;(function(e){e.method="textDocument/didSave",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})($W=m.DidSaveTextDocumentNotification||(m.DidSaveTextDocumentNotification={}));var FW;(function(e){e.Manual=1,e.AfterDelay=2,e.FocusOut=3})(FW=m.TextDocumentSaveReason||(m.TextDocumentSaveReason={}));var qW;(function(e){e.method="textDocument/willSave",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(qW=m.WillSaveTextDocumentNotification||(m.WillSaveTextDocumentNotification={}));var jW;(function(e){e.method="textDocument/willSaveWaitUntil",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(jW=m.WillSaveTextDocumentWaitUntilRequest||(m.WillSaveTextDocumentWaitUntilRequest={}));var UW;(function(e){e.method="workspace/didChangeWatchedFiles",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolNotificationType(e.method)})(UW=m.DidChangeWatchedFilesNotification||(m.DidChangeWatchedFilesNotification={}));var WW;(function(e){e.Created=1,e.Changed=2,e.Deleted=3})(WW=m.FileChangeType||(m.FileChangeType={}));var HW;(function(e){function t(r){let n=r;return Yt.objectLiteral(n)&&(dE.URI.is(n.baseUri)||dE.WorkspaceFolder.is(n.baseUri))&&Yt.string(n.pattern)}e.is=t})(HW=m.RelativePattern||(m.RelativePattern={}));var GW;(function(e){e.Create=1,e.Change=2,e.Delete=4})(GW=m.WatchKind||(m.WatchKind={}));var BW;(function(e){e.method="textDocument/publishDiagnostics",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolNotificationType(e.method)})(BW=m.PublishDiagnosticsNotification||(m.PublishDiagnosticsNotification={}));var KW;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.TriggerForIncompleteCompletions=3})(KW=m.CompletionTriggerKind||(m.CompletionTriggerKind={}));var zW;(function(e){e.method="textDocument/completion",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(zW=m.CompletionRequest||(m.CompletionRequest={}));var VW;(function(e){e.method="completionItem/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(VW=m.CompletionResolveRequest||(m.CompletionResolveRequest={}));var XW;(function(e){e.method="textDocument/hover",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(XW=m.HoverRequest||(m.HoverRequest={}));var YW;(function(e){e.Invoked=1,e.TriggerCharacter=2,e.ContentChange=3})(YW=m.SignatureHelpTriggerKind||(m.SignatureHelpTriggerKind={}));var JW;(function(e){e.method="textDocument/signatureHelp",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(JW=m.SignatureHelpRequest||(m.SignatureHelpRequest={}));var QW;(function(e){e.method="textDocument/definition",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(QW=m.DefinitionRequest||(m.DefinitionRequest={}));var ZW;(function(e){e.method="textDocument/references",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(ZW=m.ReferencesRequest||(m.ReferencesRequest={}));var eH;(function(e){e.method="textDocument/documentHighlight",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(eH=m.DocumentHighlightRequest||(m.DocumentHighlightRequest={}));var tH;(function(e){e.method="textDocument/documentSymbol",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(tH=m.DocumentSymbolRequest||(m.DocumentSymbolRequest={}));var rH;(function(e){e.method="textDocument/codeAction",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(rH=m.CodeActionRequest||(m.CodeActionRequest={}));var nH;(function(e){e.method="codeAction/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(nH=m.CodeActionResolveRequest||(m.CodeActionResolveRequest={}));var iH;(function(e){e.method="workspace/symbol",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(iH=m.WorkspaceSymbolRequest||(m.WorkspaceSymbolRequest={}));var oH;(function(e){e.method="workspaceSymbol/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(oH=m.WorkspaceSymbolResolveRequest||(m.WorkspaceSymbolResolveRequest={}));var sH;(function(e){e.method="textDocument/codeLens",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(sH=m.CodeLensRequest||(m.CodeLensRequest={}));var aH;(function(e){e.method="codeLens/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(aH=m.CodeLensResolveRequest||(m.CodeLensResolveRequest={}));var cH;(function(e){e.method="workspace/codeLens/refresh",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType0(e.method)})(cH=m.CodeLensRefreshRequest||(m.CodeLensRefreshRequest={}));var uH;(function(e){e.method="textDocument/documentLink",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(uH=m.DocumentLinkRequest||(m.DocumentLinkRequest={}));var lH;(function(e){e.method="documentLink/resolve",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(lH=m.DocumentLinkResolveRequest||(m.DocumentLinkResolveRequest={}));var fH;(function(e){e.method="textDocument/formatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(fH=m.DocumentFormattingRequest||(m.DocumentFormattingRequest={}));var dH;(function(e){e.method="textDocument/rangeFormatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(dH=m.DocumentRangeFormattingRequest||(m.DocumentRangeFormattingRequest={}));var pH;(function(e){e.method="textDocument/onTypeFormatting",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(pH=m.DocumentOnTypeFormattingRequest||(m.DocumentOnTypeFormattingRequest={}));var hH;(function(e){e.Identifier=1})(hH=m.PrepareSupportDefaultBehavior||(m.PrepareSupportDefaultBehavior={}));var mH;(function(e){e.method="textDocument/rename",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(mH=m.RenameRequest||(m.RenameRequest={}));var gH;(function(e){e.method="textDocument/prepareRename",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(gH=m.PrepareRenameRequest||(m.PrepareRenameRequest={}));var yH;(function(e){e.method="workspace/executeCommand",e.messageDirection=W.MessageDirection.clientToServer,e.type=new W.ProtocolRequestType(e.method)})(yH=m.ExecuteCommandRequest||(m.ExecuteCommandRequest={}));var vH;(function(e){e.method="workspace/applyEdit",e.messageDirection=W.MessageDirection.serverToClient,e.type=new W.ProtocolRequestType("workspace/applyEdit")})(vH=m.ApplyWorkspaceEditRequest||(m.ApplyWorkspaceEditRequest={}))});var bE=I(Kf=>{"use strict";Object.defineProperty(Kf,"__esModule",{value:!0});Kf.createProtocolConnection=void 0;var xE=ni();function TH(e,t,r,n){return xE.ConnectionStrategy.is(n)&&(n={connectionStrategy:n}),(0,xE.createMessageConnection)(e,t,r,n)}Kf.createProtocolConnection=TH});var _E=I(br=>{"use strict";var RH=br&&br.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),zf=br&&br.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RH(t,e,r)};Object.defineProperty(br,"__esModule",{value:!0});br.LSPErrorCodes=br.createProtocolConnection=void 0;zf(ni(),br);zf(qf(),br);zf(dt(),br);zf(RE(),br);var xH=bE();Object.defineProperty(br,"createProtocolConnection",{enumerable:!0,get:function(){return xH.createProtocolConnection}});var bH;(function(e){e.lspReservedErrorRangeStart=-32899,e.RequestFailed=-32803,e.ServerCancelled=-32802,e.ContentModified=-32801,e.RequestCancelled=-32800,e.lspReservedErrorRangeEnd=-32800})(bH=br.LSPErrorCodes||(br.LSPErrorCodes={}))});var Ft=I(Bn=>{"use strict";var _H=Bn&&Bn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),SE=Bn&&Bn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&_H(t,e,r)};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.createProtocolConnection=void 0;var SH=ky();SE(ky(),Bn);SE(_E(),Bn);function kH(e,t,r,n){return(0,SH.createMessageConnection)(e,t,r,n)}Bn.createProtocolConnection=kH});var Fy=I(to=>{"use strict";Object.defineProperty(to,"__esModule",{value:!0});to.SemanticTokensBuilder=to.SemanticTokensDiff=to.SemanticTokensFeature=void 0;var Vf=Ft(),wH=e=>class extends e{get semanticTokens(){return{refresh:()=>this.connection.sendRequest(Vf.SemanticTokensRefreshRequest.type),on:t=>{let r=Vf.SemanticTokensRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onDelta:t=>{let r=Vf.SemanticTokensDeltaRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onRange:t=>{let r=Vf.SemanticTokensRangeRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};to.SemanticTokensFeature=wH;var Xf=class{constructor(t,r){this.originalSequence=t,this.modifiedSequence=r}computeDiff(){let t=this.originalSequence.length,r=this.modifiedSequence.length,n=0;for(;n<r&&n<t&&this.originalSequence[n]===this.modifiedSequence[n];)n++;if(n<r&&n<t){let i=t-1,o=r-1;for(;i>=n&&o>=n&&this.originalSequence[i]===this.modifiedSequence[o];)i--,o--;(i<n||o<n)&&(i++,o++);let s=i-n+1,a=this.modifiedSequence.slice(n,o+1);return a.length===1&&a[0]===this.originalSequence[i]?[{start:n,deleteCount:s-1}]:[{start:n,deleteCount:s,data:a}]}else return n<r?[{start:n,deleteCount:0,data:this.modifiedSequence.slice(n)}]:n<t?[{start:n,deleteCount:t-n}]:[]}};to.SemanticTokensDiff=Xf;var $y=class{constructor(){this._prevData=void 0,this.initialize()}initialize(){this._id=Date.now(),this._prevLine=0,this._prevChar=0,this._data=[],this._dataLen=0}push(t,r,n,i,o){let s=t,a=r;this._dataLen>0&&(s-=this._prevLine,s===0&&(a-=this._prevChar)),this._data[this._dataLen++]=s,this._data[this._dataLen++]=a,this._data[this._dataLen++]=n,this._data[this._dataLen++]=i,this._data[this._dataLen++]=o,this._prevLine=t,this._prevChar=r}get id(){return this._id.toString()}previousResult(t){this.id===t&&(this._prevData=this._data),this.initialize()}build(){return this._prevData=void 0,{resultId:this.id,data:this._data}}canBuildEdits(){return this._prevData!==void 0}buildEdits(){return this._prevData!==void 0?{resultId:this.id,edits:new Xf(this._prevData,this._data).computeDiff()}:this.build()}};to.SemanticTokensBuilder=$y});var jy=I(Yf=>{"use strict";Object.defineProperty(Yf,"__esModule",{value:!0});Yf.TextDocuments=void 0;var Lo=Ft(),qy=class{constructor(t){this._configuration=t,this._syncedDocuments=new Map,this._onDidChangeContent=new Lo.Emitter,this._onDidOpen=new Lo.Emitter,this._onDidClose=new Lo.Emitter,this._onDidSave=new Lo.Emitter,this._onWillSave=new Lo.Emitter}get onDidOpen(){return this._onDidOpen.event}get onDidChangeContent(){return this._onDidChangeContent.event}get onWillSave(){return this._onWillSave.event}onWillSaveWaitUntil(t){this._willSaveWaitUntil=t}get onDidSave(){return this._onDidSave.event}get onDidClose(){return this._onDidClose.event}get(t){return this._syncedDocuments.get(t)}all(){return Array.from(this._syncedDocuments.values())}keys(){return Array.from(this._syncedDocuments.keys())}listen(t){t.__textDocumentSync=Lo.TextDocumentSyncKind.Incremental;let r=[];return r.push(t.onDidOpenTextDocument(n=>{let i=n.textDocument,o=this._configuration.create(i.uri,i.languageId,i.version,i.text);this._syncedDocuments.set(i.uri,o);let s=Object.freeze({document:o});this._onDidOpen.fire(s),this._onDidChangeContent.fire(s)})),r.push(t.onDidChangeTextDocument(n=>{let i=n.textDocument,o=n.contentChanges;if(o.length===0)return;let{version:s}=i;if(s==null)throw new Error(`Received document change event for ${i.uri} without valid version identifier`);let a=this._syncedDocuments.get(i.uri);a!==void 0&&(a=this._configuration.update(a,o,s),this._syncedDocuments.set(i.uri,a),this._onDidChangeContent.fire(Object.freeze({document:a})))})),r.push(t.onDidCloseTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&(this._syncedDocuments.delete(n.textDocument.uri),this._onDidClose.fire(Object.freeze({document:i})))})),r.push(t.onWillSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onWillSave.fire(Object.freeze({document:i,reason:n.reason}))})),r.push(t.onWillSaveTextDocumentWaitUntil((n,i)=>{let o=this._syncedDocuments.get(n.textDocument.uri);return o!==void 0&&this._willSaveWaitUntil?this._willSaveWaitUntil(Object.freeze({document:o,reason:n.reason}),i):[]})),r.push(t.onDidSaveTextDocument(n=>{let i=this._syncedDocuments.get(n.textDocument.uri);i!==void 0&&this._onDidSave.fire(Object.freeze({document:i}))})),Lo.Disposable.create(()=>{r.forEach(n=>n.dispose())})}};Yf.TextDocuments=qy});var Wy=I(aa=>{"use strict";Object.defineProperty(aa,"__esModule",{value:!0});aa.NotebookDocuments=aa.NotebookSyncFeature=void 0;var en=Ft(),kE=jy(),CH=e=>class extends e{get synchronization(){return{onDidOpenNotebookDocument:t=>this.connection.onNotification(en.DidOpenNotebookDocumentNotification.type,r=>{t(r)}),onDidChangeNotebookDocument:t=>this.connection.onNotification(en.DidChangeNotebookDocumentNotification.type,r=>{t(r)}),onDidSaveNotebookDocument:t=>this.connection.onNotification(en.DidSaveNotebookDocumentNotification.type,r=>{t(r)}),onDidCloseNotebookDocument:t=>this.connection.onNotification(en.DidCloseNotebookDocumentNotification.type,r=>{t(r)})}}};aa.NotebookSyncFeature=CH;var Jf=class e{onDidOpenTextDocument(t){return this.openHandler=t,en.Disposable.create(()=>{this.openHandler=void 0})}openTextDocument(t){this.openHandler&&this.openHandler(t)}onDidChangeTextDocument(t){return this.changeHandler=t,en.Disposable.create(()=>{this.changeHandler=t})}changeTextDocument(t){this.changeHandler&&this.changeHandler(t)}onDidCloseTextDocument(t){return this.closeHandler=t,en.Disposable.create(()=>{this.closeHandler=void 0})}closeTextDocument(t){this.closeHandler&&this.closeHandler(t)}onWillSaveTextDocument(){return e.NULL_DISPOSE}onWillSaveTextDocumentWaitUntil(){return e.NULL_DISPOSE}onDidSaveTextDocument(){return e.NULL_DISPOSE}};Jf.NULL_DISPOSE=Object.freeze({dispose:()=>{}});var Uy=class{constructor(t){t instanceof kE.TextDocuments?this._cellTextDocuments=t:this._cellTextDocuments=new kE.TextDocuments(t),this.notebookDocuments=new Map,this.notebookCellMap=new Map,this._onDidOpen=new en.Emitter,this._onDidChange=new en.Emitter,this._onDidSave=new en.Emitter,this._onDidClose=new en.Emitter}get cellTextDocuments(){return this._cellTextDocuments}getCellTextDocument(t){return this._cellTextDocuments.get(t.document)}getNotebookDocument(t){return this.notebookDocuments.get(t)}getNotebookCell(t){let r=this.notebookCellMap.get(t);return r&&r[0]}findNotebookDocumentForCell(t){let r=typeof t=="string"?t:t.document,n=this.notebookCellMap.get(r);return n&&n[1]}get onDidOpen(){return this._onDidOpen.event}get onDidSave(){return this._onDidSave.event}get onDidChange(){return this._onDidChange.event}get onDidClose(){return this._onDidClose.event}listen(t){let r=new Jf,n=[];return n.push(this.cellTextDocuments.listen(r)),n.push(t.notebooks.synchronization.onDidOpenNotebookDocument(i=>{this.notebookDocuments.set(i.notebookDocument.uri,i.notebookDocument);for(let o of i.cellTextDocuments)r.openTextDocument({textDocument:o});this.updateCellMap(i.notebookDocument),this._onDidOpen.fire(i.notebookDocument)})),n.push(t.notebooks.synchronization.onDidChangeNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o===void 0)return;o.version=i.notebookDocument.version;let s=o.metadata,a=!1,c=i.change;c.metadata!==void 0&&(a=!0,o.metadata=c.metadata);let l=[],g=[],v=[],x=[];if(c.cells!==void 0){let A=c.cells;if(A.structure!==void 0){let p=A.structure.array;if(o.cells.splice(p.start,p.deleteCount,...p.cells!==void 0?p.cells:[]),A.structure.didOpen!==void 0)for(let d of A.structure.didOpen)r.openTextDocument({textDocument:d}),l.push(d.uri);if(A.structure.didClose)for(let d of A.structure.didClose)r.closeTextDocument({textDocument:d}),g.push(d.uri)}if(A.data!==void 0){let p=new Map(A.data.map(d=>[d.document,d]));for(let d=0;d<=o.cells.length;d++){let b=p.get(o.cells[d].document);if(b!==void 0){let F=o.cells.splice(d,1,b);if(v.push({old:F[0],new:b}),p.delete(b.document),p.size===0)break}}}if(A.textContent!==void 0)for(let p of A.textContent)r.changeTextDocument({textDocument:p.document,contentChanges:p.changes}),x.push(p.document.uri)}this.updateCellMap(o);let k={notebookDocument:o};a&&(k.metadata={old:s,new:o.metadata});let N=[];for(let A of l)N.push(this.getNotebookCell(A));let D=[];for(let A of g)D.push(this.getNotebookCell(A));let j=[];for(let A of x)j.push(this.getNotebookCell(A));(N.length>0||D.length>0||v.length>0||j.length>0)&&(k.cells={added:N,removed:D,changed:{data:v,textContent:j}}),(k.metadata!==void 0||k.cells!==void 0)&&this._onDidChange.fire(k)})),n.push(t.notebooks.synchronization.onDidSaveNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);o!==void 0&&this._onDidSave.fire(o)})),n.push(t.notebooks.synchronization.onDidCloseNotebookDocument(i=>{let o=this.notebookDocuments.get(i.notebookDocument.uri);if(o!==void 0){this._onDidClose.fire(o);for(let s of i.cellTextDocuments)r.closeTextDocument({textDocument:s});this.notebookDocuments.delete(i.notebookDocument.uri);for(let s of o.cells)this.notebookCellMap.delete(s.document)}})),en.Disposable.create(()=>{n.forEach(i=>i.dispose())})}updateCellMap(t){for(let r of t.cells)this.notebookCellMap.set(r.document,[r,t])}};aa.NotebookDocuments=Uy});var Hy=I(Nt=>{"use strict";Object.defineProperty(Nt,"__esModule",{value:!0});Nt.thenable=Nt.typedArray=Nt.stringArray=Nt.array=Nt.func=Nt.error=Nt.number=Nt.string=Nt.boolean=void 0;function EH(e){return e===!0||e===!1}Nt.boolean=EH;function wE(e){return typeof e=="string"||e instanceof String}Nt.string=wE;function PH(e){return typeof e=="number"||e instanceof Number}Nt.number=PH;function AH(e){return e instanceof Error}Nt.error=AH;function CE(e){return typeof e=="function"}Nt.func=CE;function EE(e){return Array.isArray(e)}Nt.array=EE;function DH(e){return EE(e)&&e.every(t=>wE(t))}Nt.stringArray=DH;function NH(e,t){return Array.isArray(e)&&e.every(t)}Nt.typedArray=NH;function IH(e){return e&&CE(e.then)}Nt.thenable=IH});var Gy=I(tn=>{"use strict";Object.defineProperty(tn,"__esModule",{value:!0});tn.generateUuid=tn.parse=tn.isUUID=tn.v4=tn.empty=void 0;var Sc=class{constructor(t){this._value=t}asHex(){return this._value}equals(t){return this.asHex()===t.asHex()}},kc=class e extends Sc{constructor(){super([e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),"-","4",e._randomHex(),e._randomHex(),e._randomHex(),"-",e._oneOf(e._timeHighBits),e._randomHex(),e._randomHex(),e._randomHex(),"-",e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex(),e._randomHex()].join(""))}static _oneOf(t){return t[Math.floor(t.length*Math.random())]}static _randomHex(){return e._oneOf(e._chars)}};kc._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"];kc._timeHighBits=["8","9","a","b"];tn.empty=new Sc("00000000-0000-0000-0000-000000000000");function PE(){return new kc}tn.v4=PE;var OH=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function AE(e){return OH.test(e)}tn.isUUID=AE;function LH(e){if(!AE(e))throw new Error("invalid uuid");return new Sc(e)}tn.parse=LH;function MH(){return PE().asHex()}tn.generateUuid=MH});var DE=I(no=>{"use strict";Object.defineProperty(no,"__esModule",{value:!0});no.attachPartialResult=no.ProgressFeature=no.attachWorkDone=void 0;var ro=Ft(),$H=Gy(),Mo=class e{constructor(t,r){this._connection=t,this._token=r,e.Instances.set(this._token,this)}begin(t,r,n,i){let o={kind:"begin",title:t,percentage:r,message:n,cancellable:i};this._connection.sendProgress(ro.WorkDoneProgress.type,this._token,o)}report(t,r){let n={kind:"report"};typeof t=="number"?(n.percentage=t,r!==void 0&&(n.message=r)):n.message=t,this._connection.sendProgress(ro.WorkDoneProgress.type,this._token,n)}done(){e.Instances.delete(this._token),this._connection.sendProgress(ro.WorkDoneProgress.type,this._token,{kind:"end"})}};Mo.Instances=new Map;var Qf=class extends Mo{constructor(t,r){super(t,r),this._source=new ro.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose(),super.done()}cancel(){this._source.cancel()}},wc=class{constructor(){}begin(){}report(){}done(){}},Zf=class extends wc{constructor(){super(),this._source=new ro.CancellationTokenSource}get token(){return this._source.token}done(){this._source.dispose()}cancel(){this._source.cancel()}};function FH(e,t){if(t===void 0||t.workDoneToken===void 0)return new wc;let r=t.workDoneToken;return delete t.workDoneToken,new Mo(e,r)}no.attachWorkDone=FH;var qH=e=>class extends e{constructor(){super(),this._progressSupported=!1}initialize(t){super.initialize(t),t?.window?.workDoneProgress===!0&&(this._progressSupported=!0,this.connection.onNotification(ro.WorkDoneProgressCancelNotification.type,r=>{let n=Mo.Instances.get(r.token);(n instanceof Qf||n instanceof Zf)&&n.cancel()}))}attachWorkDoneProgress(t){return t===void 0?new wc:new Mo(this.connection,t)}createWorkDoneProgress(){if(this._progressSupported){let t=(0,$H.generateUuid)();return this.connection.sendRequest(ro.WorkDoneProgressCreateRequest.type,{token:t}).then(()=>new Qf(this.connection,t))}else return Promise.resolve(new Zf)}};no.ProgressFeature=qH;var By;(function(e){e.type=new ro.ProgressType})(By||(By={}));var Ky=class{constructor(t,r){this._connection=t,this._token=r}report(t){this._connection.sendProgress(By.type,this._token,t)}};function jH(e,t){if(t===void 0||t.partialResultToken===void 0)return;let r=t.partialResultToken;return delete t.partialResultToken,new Ky(e,r)}no.attachPartialResult=jH});var NE=I(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});ed.ConfigurationFeature=void 0;var UH=Ft(),WH=Hy(),HH=e=>class extends e{getConfiguration(t){return t?WH.string(t)?this._getConfiguration({section:t}):this._getConfiguration(t):this._getConfiguration({})}_getConfiguration(t){let r={items:Array.isArray(t)?t:[t]};return this.connection.sendRequest(UH.ConfigurationRequest.type,r).then(n=>Array.isArray(n)?Array.isArray(t)?n:n[0]:Array.isArray(t)?[]:null)}};ed.ConfigurationFeature=HH});var IE=I(rd=>{"use strict";Object.defineProperty(rd,"__esModule",{value:!0});rd.WorkspaceFoldersFeature=void 0;var td=Ft(),GH=e=>class extends e{constructor(){super(),this._notificationIsAutoRegistered=!1}initialize(t){super.initialize(t);let r=t.workspace;r&&r.workspaceFolders&&(this._onDidChangeWorkspaceFolders=new td.Emitter,this.connection.onNotification(td.DidChangeWorkspaceFoldersNotification.type,n=>{this._onDidChangeWorkspaceFolders.fire(n.event)}))}fillServerCapabilities(t){super.fillServerCapabilities(t);let r=t.workspace?.workspaceFolders?.changeNotifications;this._notificationIsAutoRegistered=r===!0||typeof r=="string"}getWorkspaceFolders(){return this.connection.sendRequest(td.WorkspaceFoldersRequest.type)}get onDidChangeWorkspaceFolders(){if(!this._onDidChangeWorkspaceFolders)throw new Error("Client doesn't support sending workspace folder change events.");return!this._notificationIsAutoRegistered&&!this._unregistration&&(this._unregistration=this.connection.client.register(td.DidChangeWorkspaceFoldersNotification.type)),this._onDidChangeWorkspaceFolders.event}};rd.WorkspaceFoldersFeature=GH});var OE=I(nd=>{"use strict";Object.defineProperty(nd,"__esModule",{value:!0});nd.CallHierarchyFeature=void 0;var zy=Ft(),BH=e=>class extends e{get callHierarchy(){return{onPrepare:t=>this.connection.onRequest(zy.CallHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onIncomingCalls:t=>{let r=zy.CallHierarchyIncomingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onOutgoingCalls:t=>{let r=zy.CallHierarchyOutgoingCallsRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};nd.CallHierarchyFeature=BH});var LE=I(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});id.ShowDocumentFeature=void 0;var KH=Ft(),zH=e=>class extends e{showDocument(t){return this.connection.sendRequest(KH.ShowDocumentRequest.type,t)}};id.ShowDocumentFeature=zH});var ME=I(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});od.FileOperationsFeature=void 0;var ca=Ft(),VH=e=>class extends e{onDidCreateFiles(t){return this.connection.onNotification(ca.DidCreateFilesNotification.type,r=>{t(r)})}onDidRenameFiles(t){return this.connection.onNotification(ca.DidRenameFilesNotification.type,r=>{t(r)})}onDidDeleteFiles(t){return this.connection.onNotification(ca.DidDeleteFilesNotification.type,r=>{t(r)})}onWillCreateFiles(t){return this.connection.onRequest(ca.WillCreateFilesRequest.type,(r,n)=>t(r,n))}onWillRenameFiles(t){return this.connection.onRequest(ca.WillRenameFilesRequest.type,(r,n)=>t(r,n))}onWillDeleteFiles(t){return this.connection.onRequest(ca.WillDeleteFilesRequest.type,(r,n)=>t(r,n))}};od.FileOperationsFeature=VH});var $E=I(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});sd.LinkedEditingRangeFeature=void 0;var XH=Ft(),YH=e=>class extends e{onLinkedEditingRange(t){return this.connection.onRequest(XH.LinkedEditingRangeRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0))}};sd.LinkedEditingRangeFeature=YH});var FE=I(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});ad.TypeHierarchyFeature=void 0;var Vy=Ft(),JH=e=>class extends e{get typeHierarchy(){return{onPrepare:t=>this.connection.onRequest(Vy.TypeHierarchyPrepareRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),void 0)),onSupertypes:t=>{let r=Vy.TypeHierarchySupertypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))},onSubtypes:t=>{let r=Vy.TypeHierarchySubtypesRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};ad.TypeHierarchyFeature=JH});var jE=I(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});cd.InlineValueFeature=void 0;var qE=Ft(),QH=e=>class extends e{get inlineValue(){return{refresh:()=>this.connection.sendRequest(qE.InlineValueRefreshRequest.type),on:t=>this.connection.onRequest(qE.InlineValueRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r)))}}};cd.InlineValueFeature=QH});var UE=I(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.InlayHintFeature=void 0;var Xy=Ft(),ZH=e=>class extends e{get inlayHint(){return{refresh:()=>this.connection.sendRequest(Xy.InlayHintRefreshRequest.type),on:t=>this.connection.onRequest(Xy.InlayHintRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r))),resolve:t=>this.connection.onRequest(Xy.InlayHintResolveRequest.type,(r,n)=>t(r,n))}}};ud.InlayHintFeature=ZH});var WE=I(ld=>{"use strict";Object.defineProperty(ld,"__esModule",{value:!0});ld.DiagnosticFeature=void 0;var Cc=Ft(),eG=e=>class extends e{get diagnostics(){return{refresh:()=>this.connection.sendRequest(Cc.DiagnosticRefreshRequest.type),on:t=>this.connection.onRequest(Cc.DocumentDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Cc.DocumentDiagnosticRequest.partialResult,r))),onWorkspace:t=>this.connection.onRequest(Cc.WorkspaceDiagnosticRequest.type,(r,n)=>t(r,n,this.attachWorkDoneProgress(r),this.attachPartialResultProgress(Cc.WorkspaceDiagnosticRequest.partialResult,r)))}}};ld.DiagnosticFeature=eG});var HE=I(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.MonikerFeature=void 0;var tG=Ft(),rG=e=>class extends e{get moniker(){return{on:t=>{let r=tG.MonikerRequest.type;return this.connection.onRequest(r,(n,i)=>t(n,i,this.attachWorkDoneProgress(n),this.attachPartialResultProgress(r,n)))}}}};fd.MonikerFeature=rG});var rP=I(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.createConnection=Ce.combineFeatures=Ce.combineNotebooksFeatures=Ce.combineLanguagesFeatures=Ce.combineWorkspaceFeatures=Ce.combineWindowFeatures=Ce.combineClientFeatures=Ce.combineTracerFeatures=Ce.combineTelemetryFeatures=Ce.combineConsoleFeatures=Ce._NotebooksImpl=Ce._LanguagesImpl=Ce.BulkUnregistration=Ce.BulkRegistration=Ce.ErrorMessageTracker=void 0;var B=Ft(),rn=Hy(),Jy=Gy(),ge=DE(),nG=NE(),iG=IE(),oG=OE(),sG=Fy(),aG=LE(),cG=ME(),uG=$E(),lG=FE(),fG=jE(),dG=UE(),pG=WE(),hG=Wy(),mG=HE();function Yy(e){if(e!==null)return e}var Qy=class{constructor(){this._messages=Object.create(null)}add(t){let r=this._messages[t];r||(r=0),r++,this._messages[t]=r}sendErrors(t){Object.keys(this._messages).forEach(r=>{t.window.showErrorMessage(r)})}};Ce.ErrorMessageTracker=Qy;var dd=class{constructor(){}rawAttach(t){this._rawConnection=t}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}fillServerCapabilities(t){}initialize(t){}error(t){this.send(B.MessageType.Error,t)}warn(t){this.send(B.MessageType.Warning,t)}info(t){this.send(B.MessageType.Info,t)}log(t){this.send(B.MessageType.Log,t)}send(t,r){this._rawConnection&&this._rawConnection.sendNotification(B.LogMessageNotification.type,{type:t,message:r}).catch(()=>{(0,B.RAL)().console.error("Sending log message failed")})}},Zy=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}showErrorMessage(t,...r){let n={type:B.MessageType.Error,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Yy)}showWarningMessage(t,...r){let n={type:B.MessageType.Warning,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Yy)}showInformationMessage(t,...r){let n={type:B.MessageType.Info,message:t,actions:r};return this.connection.sendRequest(B.ShowMessageRequest.type,n).then(Yy)}},GE=(0,aG.ShowDocumentFeature)((0,ge.ProgressFeature)(Zy)),gG;(function(e){function t(){return new pd}e.create=t})(gG=Ce.BulkRegistration||(Ce.BulkRegistration={}));var pd=class{constructor(){this._registrations=[],this._registered=new Set}add(t,r){let n=rn.string(t)?t:t.method;if(this._registered.has(n))throw new Error(`${n} is already added to this registration`);let i=Jy.generateUuid();this._registrations.push({id:i,method:n,registerOptions:r||{}}),this._registered.add(n)}asRegistrationParams(){return{registrations:this._registrations}}},yG;(function(e){function t(){return new Ec(void 0,[])}e.create=t})(yG=Ce.BulkUnregistration||(Ce.BulkUnregistration={}));var Ec=class{constructor(t,r){this._connection=t,this._unregistrations=new Map,r.forEach(n=>{this._unregistrations.set(n.method,n)})}get isAttached(){return!!this._connection}attach(t){this._connection=t}add(t){this._unregistrations.set(t.method,t)}dispose(){let t=[];for(let n of this._unregistrations.values())t.push(n);let r={unregisterations:t};this._connection.sendRequest(B.UnregistrationRequest.type,r).catch(()=>{this._connection.console.info("Bulk unregistration failed.")})}disposeSingle(t){let r=rn.string(t)?t:t.method,n=this._unregistrations.get(r);if(!n)return!1;let i={unregisterations:[n]};return this._connection.sendRequest(B.UnregistrationRequest.type,i).then(()=>{this._unregistrations.delete(r)},o=>{this._connection.console.info(`Un-registering request handler for ${n.id} failed.`)}),!0}},hd=class{attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}register(t,r,n){return t instanceof pd?this.registerMany(t):t instanceof Ec?this.registerSingle1(t,r,n):this.registerSingle2(t,r)}registerSingle1(t,r,n){let i=rn.string(r)?r:r.method,o=Jy.generateUuid(),s={registrations:[{id:o,method:i,registerOptions:n||{}}]};return t.isAttached||t.attach(this.connection),this.connection.sendRequest(B.RegistrationRequest.type,s).then(a=>(t.add({id:o,method:i}),t),a=>(this.connection.console.info(`Registering request handler for ${i} failed.`),Promise.reject(a)))}registerSingle2(t,r){let n=rn.string(t)?t:t.method,i=Jy.generateUuid(),o={registrations:[{id:i,method:n,registerOptions:r||{}}]};return this.connection.sendRequest(B.RegistrationRequest.type,o).then(s=>B.Disposable.create(()=>{this.unregisterSingle(i,n).catch(()=>{this.connection.console.info(`Un-registering capability with id ${i} failed.`)})}),s=>(this.connection.console.info(`Registering request handler for ${n} failed.`),Promise.reject(s)))}unregisterSingle(t,r){let n={unregisterations:[{id:t,method:r}]};return this.connection.sendRequest(B.UnregistrationRequest.type,n).catch(()=>{this.connection.console.info(`Un-registering request handler for ${t} failed.`)})}registerMany(t){let r=t.asRegistrationParams();return this.connection.sendRequest(B.RegistrationRequest.type,r).then(()=>new Ec(this._connection,r.registrations.map(n=>({id:n.id,method:n.method}))),n=>(this.connection.console.info("Bulk registration failed."),Promise.reject(n)))}},ev=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}applyEdit(t){function r(i){return i&&!!i.edit}let n=r(t)?t:{edit:t};return this.connection.sendRequest(B.ApplyWorkspaceEditRequest.type,n)}},BE=(0,cG.FileOperationsFeature)((0,iG.WorkspaceFoldersFeature)((0,nG.ConfigurationFeature)(ev))),md=class{constructor(){this._trace=B.Trace.Off}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}set trace(t){this._trace=t}log(t,r){this._trace!==B.Trace.Off&&this.connection.sendNotification(B.LogTraceNotification.type,{message:t,verbose:this._trace===B.Trace.Verbose?r:void 0}).catch(()=>{})}},gd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}logEvent(t){this.connection.sendNotification(B.TelemetryEventNotification.type,t).catch(()=>{this.connection.console.log("Sending TelemetryEventNotification failed")})}},yd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ge.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ge.attachPartialResult)(this.connection,r)}};Ce._LanguagesImpl=yd;var KE=(0,mG.MonikerFeature)((0,pG.DiagnosticFeature)((0,dG.InlayHintFeature)((0,fG.InlineValueFeature)((0,lG.TypeHierarchyFeature)((0,uG.LinkedEditingRangeFeature)((0,sG.SemanticTokensFeature)((0,oG.CallHierarchyFeature)(yd)))))))),vd=class{constructor(){}attach(t){this._connection=t}get connection(){if(!this._connection)throw new Error("Remote is not attached to a connection yet.");return this._connection}initialize(t){}fillServerCapabilities(t){}attachWorkDoneProgress(t){return(0,ge.attachWorkDone)(this.connection,t)}attachPartialResultProgress(t,r){return(0,ge.attachPartialResult)(this.connection,r)}};Ce._NotebooksImpl=vd;var zE=(0,hG.NotebookSyncFeature)(vd);function VE(e,t){return function(r){return t(e(r))}}Ce.combineConsoleFeatures=VE;function XE(e,t){return function(r){return t(e(r))}}Ce.combineTelemetryFeatures=XE;function YE(e,t){return function(r){return t(e(r))}}Ce.combineTracerFeatures=YE;function JE(e,t){return function(r){return t(e(r))}}Ce.combineClientFeatures=JE;function QE(e,t){return function(r){return t(e(r))}}Ce.combineWindowFeatures=QE;function ZE(e,t){return function(r){return t(e(r))}}Ce.combineWorkspaceFeatures=ZE;function eP(e,t){return function(r){return t(e(r))}}Ce.combineLanguagesFeatures=eP;function tP(e,t){return function(r){return t(e(r))}}Ce.combineNotebooksFeatures=tP;function vG(e,t){function r(i,o,s){return i&&o?s(i,o):i||o}return{__brand:"features",console:r(e.console,t.console,VE),tracer:r(e.tracer,t.tracer,YE),telemetry:r(e.telemetry,t.telemetry,XE),client:r(e.client,t.client,JE),window:r(e.window,t.window,QE),workspace:r(e.workspace,t.workspace,ZE),languages:r(e.languages,t.languages,eP),notebooks:r(e.notebooks,t.notebooks,tP)}}Ce.combineFeatures=vG;function TG(e,t,r){let n=r&&r.console?new(r.console(dd)):new dd,i=e(n);n.rawAttach(i);let o=r&&r.tracer?new(r.tracer(md)):new md,s=r&&r.telemetry?new(r.telemetry(gd)):new gd,a=r&&r.client?new(r.client(hd)):new hd,c=r&&r.window?new(r.window(GE)):new GE,l=r&&r.workspace?new(r.workspace(BE)):new BE,g=r&&r.languages?new(r.languages(KE)):new KE,v=r&&r.notebooks?new(r.notebooks(zE)):new zE,x=[n,o,s,a,c,l,g,v];function k(p){return p instanceof Promise?p:rn.thenable(p)?new Promise((d,b)=>{p.then(F=>d(F),F=>b(F))}):Promise.resolve(p)}let N,D,j,A={listen:()=>i.listen(),sendRequest:(p,...d)=>i.sendRequest(rn.string(p)?p:p.method,...d),onRequest:(p,d)=>i.onRequest(p,d),sendNotification:(p,d)=>{let b=rn.string(p)?p:p.method;return arguments.length===1?i.sendNotification(b):i.sendNotification(b,d)},onNotification:(p,d)=>i.onNotification(p,d),onProgress:i.onProgress,sendProgress:i.sendProgress,onInitialize:p=>(D=p,{dispose:()=>{D=void 0}}),onInitialized:p=>i.onNotification(B.InitializedNotification.type,p),onShutdown:p=>(N=p,{dispose:()=>{N=void 0}}),onExit:p=>(j=p,{dispose:()=>{j=void 0}}),get console(){return n},get telemetry(){return s},get tracer(){return o},get client(){return a},get window(){return c},get workspace(){return l},get languages(){return g},get notebooks(){return v},onDidChangeConfiguration:p=>i.onNotification(B.DidChangeConfigurationNotification.type,p),onDidChangeWatchedFiles:p=>i.onNotification(B.DidChangeWatchedFilesNotification.type,p),__textDocumentSync:void 0,onDidOpenTextDocument:p=>i.onNotification(B.DidOpenTextDocumentNotification.type,p),onDidChangeTextDocument:p=>i.onNotification(B.DidChangeTextDocumentNotification.type,p),onDidCloseTextDocument:p=>i.onNotification(B.DidCloseTextDocumentNotification.type,p),onWillSaveTextDocument:p=>i.onNotification(B.WillSaveTextDocumentNotification.type,p),onWillSaveTextDocumentWaitUntil:p=>i.onRequest(B.WillSaveTextDocumentWaitUntilRequest.type,p),onDidSaveTextDocument:p=>i.onNotification(B.DidSaveTextDocumentNotification.type,p),sendDiagnostics:p=>i.sendNotification(B.PublishDiagnosticsNotification.type,p),onHover:p=>i.onRequest(B.HoverRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),onCompletion:p=>i.onRequest(B.CompletionRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCompletionResolve:p=>i.onRequest(B.CompletionResolveRequest.type,p),onSignatureHelp:p=>i.onRequest(B.SignatureHelpRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),onDeclaration:p=>i.onRequest(B.DeclarationRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDefinition:p=>i.onRequest(B.DefinitionRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onTypeDefinition:p=>i.onRequest(B.TypeDefinitionRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onImplementation:p=>i.onRequest(B.ImplementationRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onReferences:p=>i.onRequest(B.ReferencesRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentHighlight:p=>i.onRequest(B.DocumentHighlightRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentSymbol:p=>i.onRequest(B.DocumentSymbolRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onWorkspaceSymbol:p=>i.onRequest(B.WorkspaceSymbolRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onWorkspaceSymbolResolve:p=>i.onRequest(B.WorkspaceSymbolResolveRequest.type,p),onCodeAction:p=>i.onRequest(B.CodeActionRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCodeActionResolve:p=>i.onRequest(B.CodeActionResolveRequest.type,(d,b)=>p(d,b)),onCodeLens:p=>i.onRequest(B.CodeLensRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onCodeLensResolve:p=>i.onRequest(B.CodeLensResolveRequest.type,(d,b)=>p(d,b)),onDocumentFormatting:p=>i.onRequest(B.DocumentFormattingRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),onDocumentRangeFormatting:p=>i.onRequest(B.DocumentRangeFormattingRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),onDocumentOnTypeFormatting:p=>i.onRequest(B.DocumentOnTypeFormattingRequest.type,(d,b)=>p(d,b)),onRenameRequest:p=>i.onRequest(B.RenameRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),onPrepareRename:p=>i.onRequest(B.PrepareRenameRequest.type,(d,b)=>p(d,b)),onDocumentLinks:p=>i.onRequest(B.DocumentLinkRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onDocumentLinkResolve:p=>i.onRequest(B.DocumentLinkResolveRequest.type,(d,b)=>p(d,b)),onDocumentColor:p=>i.onRequest(B.DocumentColorRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onColorPresentation:p=>i.onRequest(B.ColorPresentationRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onFoldingRanges:p=>i.onRequest(B.FoldingRangeRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onSelectionRanges:p=>i.onRequest(B.SelectionRangeRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),(0,ge.attachPartialResult)(i,d))),onExecuteCommand:p=>i.onRequest(B.ExecuteCommandRequest.type,(d,b)=>p(d,b,(0,ge.attachWorkDone)(i,d),void 0)),dispose:()=>i.dispose()};for(let p of x)p.attach(A);return i.onRequest(B.InitializeRequest.type,p=>{t.initialize(p),rn.string(p.trace)&&(o.trace=B.Trace.fromString(p.trace));for(let d of x)d.initialize(p.capabilities);if(D){let d=D(p,new B.CancellationTokenSource().token,(0,ge.attachWorkDone)(i,p),void 0);return k(d).then(b=>{if(b instanceof B.ResponseError)return b;let F=b;F||(F={capabilities:{}});let Y=F.capabilities;Y||(Y={},F.capabilities=Y),Y.textDocumentSync===void 0||Y.textDocumentSync===null?Y.textDocumentSync=rn.number(A.__textDocumentSync)?A.__textDocumentSync:B.TextDocumentSyncKind.None:!rn.number(Y.textDocumentSync)&&!rn.number(Y.textDocumentSync.change)&&(Y.textDocumentSync.change=rn.number(A.__textDocumentSync)?A.__textDocumentSync:B.TextDocumentSyncKind.None);for(let _e of x)_e.fillServerCapabilities(Y);return F})}else{let d={capabilities:{textDocumentSync:B.TextDocumentSyncKind.None}};for(let b of x)b.fillServerCapabilities(d.capabilities);return d}}),i.onRequest(B.ShutdownRequest.type,()=>{if(t.shutdownReceived=!0,N)return N(new B.CancellationTokenSource().token)}),i.onNotification(B.ExitNotification.type,()=>{try{j&&j()}finally{t.shutdownReceived?t.exit(0):t.exit(1)}}),i.onNotification(B.SetTraceNotification.type,p=>{o.trace=B.Trace.fromString(p.value)}),A}Ce.createConnection=TG});var tv=I(Jt=>{"use strict";var RG=Jt&&Jt.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),nP=Jt&&Jt.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&RG(t,e,r)};Object.defineProperty(Jt,"__esModule",{value:!0});Jt.ProposedFeatures=Jt.NotebookDocuments=Jt.TextDocuments=Jt.SemanticTokensBuilder=void 0;var xG=Fy();Object.defineProperty(Jt,"SemanticTokensBuilder",{enumerable:!0,get:function(){return xG.SemanticTokensBuilder}});nP(Ft(),Jt);var bG=jy();Object.defineProperty(Jt,"TextDocuments",{enumerable:!0,get:function(){return bG.TextDocuments}});var _G=Wy();Object.defineProperty(Jt,"NotebookDocuments",{enumerable:!0,get:function(){return _G.NotebookDocuments}});nP(rP(),Jt);var SG;(function(e){e.all={__brand:"features"}})(SG=Jt.ProposedFeatures||(Jt.ProposedFeatures={}))});var oP=I((oye,iP)=>{"use strict";iP.exports=Ft()});var cP=I(Kn=>{"use strict";var kG=Kn&&Kn.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),aP=Kn&&Kn.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&kG(t,e,r)};Object.defineProperty(Kn,"__esModule",{value:!0});Kn.createConnection=void 0;var Td=tv();aP(oP(),Kn);aP(tv(),Kn);var sP=!1,wG={initialize:e=>{},get shutdownReceived(){return sP},set shutdownReceived(e){sP=e},exit:e=>{}};function CG(e,t,r,n){let i,o,s,a;e!==void 0&&e.__brand==="features"&&(i=e,e=t,t=r,r=n),Td.ConnectionStrategy.is(e)||Td.ConnectionOptions.is(e)?a=e:(o=e,s=t,a=r);let c=l=>(0,Td.createProtocolConnection)(o,s,l,a);return(0,Td.createConnection)(c,wG,i)}Kn.createConnection=CG});var lP=I((aye,uP)=>{"use strict";uP.exports=cP()});var iv=Pe(Rd("file:///home/jyj/vela-demo/aom/node_modules/.pnpm/jiti@1.21.0/node_modules/jiti/lib/index.js"),1),X=(0,iv.default)(null,{interopDefault:!0,esmResolve:!0})("/home/jyj/vela-demo/aom/packages/aom-core/src/index.ts"),IG=X.URI,OG=X.UriUtils,LG=X.AppError,MG=X.DiagnosticError,$G=X.InternalError,FG=X.ir,qG=X.parser,jG=X.runtime,ov=X.services,UG=X.ft_utils,WG=X.types,HG=X.makeIrService,GG=X.ApiService,BG=X.convertFromAst,KG=X.AOM_VERSION,zG=X.ApiStyle,VG=X.isAtomicValue,XG=X.validateValue,YG=X.validateBlock,JG=X.AOMGrammar,QG=X.AOMGeneratedModule,ZG=X.AOMLanguageMetaData,eB=X.AomGeneratedSharedModule,tB=X.ast,rB=X.AomTerminals,nB=X.AppBlock,iB=X.isAppBlock,oB=X.Block,sB=X.isBlock,aB=X.Expr,cB=X.isExpr,uB=X.Literal,lB=X.isLiteral,fB=X.AppDefBlock,dB=X.isAppDefBlock,pB=X.BlockExpr,hB=X.isBlockExpr,mB=X.CompBlock,gB=X.isCompBlock,yB=X.CompDefBlock,vB=X.isCompDefBlock,TB=X.ListExpr,RB=X.isListExpr,xB=X.LiteralBool,bB=X.isLiteralBool,_B=X.LiteralFloat,SB=X.isLiteralFloat,kB=X.LiteralInt,wB=X.isLiteralInt,CB=X.LiteralString,EB=X.isLiteralString,PB=X.Model,AB=X.isModel,DB=X.PolicyBlock,NB=X.isPolicyBlock,IB=X.Property,OB=X.isProperty,LB=X.QualifiedName,MB=X.isQualifiedName,$B=X.SecretDefBlock,FB=X.isSecretDefBlock,qB=X.WorkflowBlock,jB=X.isWorkflowBlock,UB=X.AomAstReflection,WB=X.reflection,HB=X.parse,GB=X.createAomServices,BB=X.readableToStream,KB=X.StringPrinter;var Yj=Pe(Le(),1);var Ju=class e{constructor(t,r,n,i){this._uri=t,this._languageId=r,this._version=n,this._content=i,this._lineOffsets=void 0}get uri(){return this._uri}get languageId(){return this._languageId}get version(){return this._version}getText(t){if(t){let r=this.offsetAt(t.start),n=this.offsetAt(t.end);return this._content.substring(r,n)}return this._content}update(t,r){for(let n of t)if(e.isIncremental(n)){let i=xb(n.range),o=this.offsetAt(i.start),s=this.offsetAt(i.end);this._content=this._content.substring(0,o)+n.text+this._content.substring(s,this._content.length);let a=Math.max(i.start.line,0),c=Math.max(i.end.line,0),l=this._lineOffsets,g=Rb(n.text,!1,o);if(c-a===g.length)for(let x=0,k=g.length;x<k;x++)l[x+a+1]=g[x];else g.length<1e4?l.splice(a+1,c-a,...g):this._lineOffsets=l=l.slice(0,a+1).concat(g,l.slice(c+1));let v=n.text.length-(s-o);if(v!==0)for(let x=a+1+g.length,k=l.length;x<k;x++)l[x]=l[x]+v}else if(e.isFull(n))this._content=n.text,this._lineOffsets=void 0;else throw new Error("Unknown change event received");this._version=r}getLineOffsets(){return this._lineOffsets===void 0&&(this._lineOffsets=Rb(this._content,!0)),this._lineOffsets}positionAt(t){t=Math.max(Math.min(t,this._content.length),0);let r=this.getLineOffsets(),n=0,i=r.length;if(i===0)return{line:0,character:t};for(;n<i;){let s=Math.floor((n+i)/2);r[s]>t?i=s:n=s+1}let o=n-1;return{line:o,character:t-r[o]}}offsetAt(t){let r=this.getLineOffsets();if(t.line>=r.length)return this._content.length;if(t.line<0)return 0;let n=r[t.line],i=t.line+1<r.length?r[t.line+1]:this._content.length;return Math.max(Math.min(n+t.character,i),n)}get lineCount(){return this.getLineOffsets().length}static isIncremental(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range!==void 0&&(r.rangeLength===void 0||typeof r.rangeLength=="number")}static isFull(t){let r=t;return r!=null&&typeof r.text=="string"&&r.range===void 0&&r.rangeLength===void 0}},Qu;(function(e){function t(i,o,s,a){return new Ju(i,o,s,a)}e.create=t;function r(i,o,s){if(i instanceof Ju)return i.update(o,s),i;throw new Error("TextDocument.update: document must be created by TextDocument.create")}e.update=r;function n(i,o){let s=i.getText(),a=dm(o.map(vD),(g,v)=>{let x=g.range.start.line-v.range.start.line;return x===0?g.range.start.character-v.range.start.character:x}),c=0,l=[];for(let g of a){let v=i.offsetAt(g.range.start);if(v<c)throw new Error("Overlapping edit");v>c&&l.push(s.substring(c,v)),g.newText.length&&l.push(g.newText),c=i.offsetAt(g.range.end)}return l.push(s.substr(c)),l.join("")}e.applyEdits=n})(Qu||(Qu={}));function dm(e,t){if(e.length<=1)return e;let r=e.length/2|0,n=e.slice(0,r),i=e.slice(r);dm(n,t),dm(i,t);let o=0,s=0,a=0;for(;o<n.length&&s<i.length;)t(n[o],i[s])<=0?e[a++]=n[o++]:e[a++]=i[s++];for(;o<n.length;)e[a++]=n[o++];for(;s<i.length;)e[a++]=i[s++];return e}function Rb(e,t,r=0){let n=t?[r]:[];for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);(o===13||o===10)&&(o===13&&i+1<e.length&&e.charCodeAt(i+1)===10&&i++,n.push(r+i+1))}return n}function xb(e){let t=e.start,r=e.end;return t.line>r.line||t.line===r.line&&t.character>r.character?{start:r,end:t}:e}function vD(e){let t=xb(e.range);return t!==e.range?{newText:e.newText,range:t}:e}function ls(e){return typeof e=="object"&&e!==null&&typeof e.$type=="string"}var Oa=class{constructor(){this.subtypes={},this.allSubtypes={}}isInstance(t,r){return ls(t)&&this.isSubtype(t.$type,r)}isSubtype(t,r){if(t===r)return!0;let n=this.subtypes[t];n||(n=this.subtypes[t]={});let i=n[r];if(i!==void 0)return i;{let o=this.computeIsSubtype(t,r);return n[r]=o,o}}getAllSubTypes(t){let r=this.allSubtypes[t];if(r)return r;{let n=this.getAllTypes(),i=[];for(let o of n)this.isSubtype(o,t)&&i.push(o);return this.allSubtypes[t]=i,i}}};var Qn=class e{constructor(t,r){this.startFn=t,this.nextFn=r}iterator(){let t={state:this.startFn(),next:()=>this.nextFn(t.state),[Symbol.iterator]:()=>t};return t}[Symbol.iterator](){return this.iterator()}isEmpty(){return!!this.iterator().next().done}count(){let t=this.iterator(),r=0,n=t.next();for(;!n.done;)r++,n=t.next();return r}toArray(){let t=[],r=this.iterator(),n;do n=r.next(),n.value!==void 0&&t.push(n.value);while(!n.done);return t}toSet(){return new Set(this)}toMap(t,r){let n=this.map(i=>[t?t(i):i,r?r(i):i]);return new Map(n)}toString(){return this.join()}concat(t){let r=t[Symbol.iterator]();return new e(()=>({first:this.startFn(),firstDone:!1}),n=>{let i;if(!n.firstDone){do if(i=this.nextFn(n.first),!i.done)return i;while(!i.done);n.firstDone=!0}do if(i=r.next(),!i.done)return i;while(!i.done);return un})}join(t=","){let r=this.iterator(),n="",i,o=!1;do i=r.next(),i.done||(o&&(n+=t),n+=TD(i.value)),o=!0;while(!i.done);return n}indexOf(t,r=0){let n=this.iterator(),i=0,o=n.next();for(;!o.done;){if(i>=r&&o.value===t)return i;o=n.next(),i++}return-1}every(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(!t(n.value))return!1;n=r.next()}return!0}some(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return!0;n=r.next()}return!1}forEach(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;)t(i.value,n),i=r.next(),n++}map(t){return new e(this.startFn,r=>{let{done:n,value:i}=this.nextFn(r);return n?un:{done:!1,value:t(i)}})}filter(t){return new e(this.startFn,r=>{let n;do if(n=this.nextFn(r),!n.done&&t(n.value))return n;while(!n.done);return un})}nonNullable(){return this.filter(t=>t!=null)}reduce(t,r){let n=this.iterator(),i=r,o=n.next();for(;!o.done;)i===void 0?i=o.value:i=t(i,o.value),o=n.next();return i}reduceRight(t,r){return this.recursiveReduce(this.iterator(),t,r)}recursiveReduce(t,r,n){let i=t.next();if(i.done)return n;let o=this.recursiveReduce(t,r,n);return o===void 0?i.value:r(o,i.value)}find(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(t(n.value))return n.value;n=r.next()}}findIndex(t){let r=this.iterator(),n=0,i=r.next();for(;!i.done;){if(t(i.value))return n;i=r.next(),n++}return-1}includes(t){let r=this.iterator(),n=r.next();for(;!n.done;){if(n.value===t)return!0;n=r.next()}return!1}flatMap(t){return new e(()=>({this:this.startFn()}),r=>{do{if(r.iterator){let o=r.iterator.next();if(o.done)r.iterator=void 0;else return o}let{done:n,value:i}=this.nextFn(r.this);if(!n){let o=t(i);if(Zu(o))r.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}}while(r.iterator);return un})}flat(t){if(t===void 0&&(t=1),t<=0)return this;let r=t>1?this.flat(t-1):this;return new e(()=>({this:r.startFn()}),n=>{do{if(n.iterator){let s=n.iterator.next();if(s.done)n.iterator=void 0;else return s}let{done:i,value:o}=r.nextFn(n.this);if(!i)if(Zu(o))n.iterator=o[Symbol.iterator]();else return{done:!1,value:o}}while(n.iterator);return un})}head(){let r=this.iterator().next();if(!r.done)return r.value}tail(t=1){return new e(()=>{let r=this.startFn();for(let n=0;n<t;n++)if(this.nextFn(r).done)return r;return r},this.nextFn)}limit(t){return new e(()=>({size:0,state:this.startFn()}),r=>(r.size++,r.size>t?un:this.nextFn(r.state)))}distinct(t){let r=new Set;return this.filter(n=>{let i=t?t(n):n;return r.has(i)?!1:(r.add(i),!0)})}exclude(t,r){let n=new Set;for(let i of t){let o=r?r(i):i;n.add(o)}return this.filter(i=>{let o=r?r(i):i;return!n.has(o)})}};function TD(e){return typeof e=="string"?e:typeof e>"u"?"undefined":typeof e.toString=="function"?e.toString():Object.prototype.toString.call(e)}function Zu(e){return!!e&&typeof e[Symbol.iterator]=="function"}var pm=new Qn(()=>{},()=>un),un=Object.freeze({done:!0,value:void 0});function Tt(...e){if(e.length===1){let t=e[0];if(t instanceof Qn)return t;if(Zu(t))return new Qn(()=>t[Symbol.iterator](),r=>r.next());if(typeof t.length=="number")return new Qn(()=>({index:0}),r=>r.index<t.length?{done:!1,value:t[r.index++]}:un)}return e.length>1?new Qn(()=>({collIndex:0,arrIndex:0}),t=>{do{if(t.iterator){let r=t.iterator.next();if(!r.done)return r;t.iterator=void 0}if(t.array){if(t.arrIndex<t.array.length)return{done:!1,value:t.array[t.arrIndex++]};t.array=void 0,t.arrIndex=0}if(t.collIndex<e.length){let r=e[t.collIndex++];Zu(r)?t.iterator=r[Symbol.iterator]():r&&typeof r.length=="number"&&(t.array=r)}}while(t.iterator||t.array||t.collIndex<e.length);return un}):pm}var el;(function(e){function t(o){return o.reduce((s,a)=>s+a,0)}e.sum=t;function r(o){return o.reduce((s,a)=>s*a,0)}e.product=r;function n(o){return o.reduce((s,a)=>Math.min(s,a))}e.min=n;function i(o){return o.reduce((s,a)=>Math.max(s,a))}e.max=i})(el||(el={}));var bb;(function(e){e[e.Before=0]="Before",e[e.After=1]="After",e[e.OverlapFront=2]="OverlapFront",e[e.OverlapBack=3]="OverlapBack",e[e.Inside=4]="Inside"})(bb||(bb={}));var Az=Symbol("isProxy");var Dz=Symbol();var ln=class{constructor(t){if(this.map=new Map,t)for(let[r,n]of t)this.add(r,n)}get size(){return el.sum(Tt(this.map.values()).map(t=>t.length))}clear(){this.map.clear()}delete(t,r){if(r===void 0)return this.map.delete(t);{let n=this.map.get(t);if(n){let i=n.indexOf(r);if(i>=0)return n.length===1?this.map.delete(t):n.splice(i,1),!0}return!1}}get(t){var r;return(r=this.map.get(t))!==null&&r!==void 0?r:[]}has(t,r){if(r===void 0)return this.map.has(t);{let n=this.map.get(t);return n?n.indexOf(r)>=0:!1}}add(t,r){return this.map.has(t)?this.map.get(t).push(r):this.map.set(t,[r]),this}addAll(t,r){return this.map.has(t)?this.map.get(t).push(...r):this.map.set(t,Array.from(r)),this}forEach(t){this.map.forEach((r,n)=>r.forEach(i=>t(i,n,this)))}[Symbol.iterator](){return this.entries().iterator()}entries(){return Tt(this.map.entries()).flatMap(([t,r])=>r.map(n=>[t,n]))}keys(){return Tt(this.map.keys())}values(){return Tt(this.map.values()).flat()}entriesGroupedByKey(){return Tt(this.map.entries())}};var gm="AbstractRule";var La="AbstractType";var xD="Condition";var bD="TypeDefinition";var _b="AbstractElement";var _D="ArrayType";var SD="Conjunction";var kD="Disjunction";var wD="Grammar";var kb="Interface";var CD="LiteralCondition";var ED="Negation";var PD="Parameter";var AD="ParameterReference";var DD="ParserRule";var ND="ReferenceType";var ID="SimpleType";var Sb="TerminalRule";var wb="Type";var OD="UnionType";var LD="Action";var MD="Alternatives";var $D="Assignment";var FD="CharacterRange";var qD="CrossReference";var jD="EndOfFile";var UD="Group";var WD="Keyword";var HD="NegatedToken";var GD="RegexToken";var BD="RuleCall";var KD="TerminalAlternatives";var zD="TerminalGroup";var VD="TerminalRuleCall";var XD="UnorderedGroup";var YD="UntilToken";var JD="Wildcard";var tl=class extends Oa{getAllTypes(){return["AbstractElement","AbstractRule","AbstractType","Action","Alternatives","ArrayType","Assignment","CharacterRange","Condition","Conjunction","CrossReference","Disjunction","EndOfFile","Grammar","GrammarImport","Group","InferredType","Interface","Keyword","LiteralCondition","NamedArgument","NegatedToken","Negation","Parameter","ParameterReference","ParserRule","ReferenceType","RegexToken","ReturnType","RuleCall","SimpleType","TerminalAlternatives","TerminalGroup","TerminalRule","TerminalRuleCall","Type","TypeAttribute","TypeDefinition","UnionType","UnorderedGroup","UntilToken","Wildcard"]}computeIsSubtype(t,r){switch(t){case LD:return this.isSubtype(_b,r)||this.isSubtype(La,r);case MD:case $D:case FD:case qD:case jD:case UD:case WD:case HD:case GD:case BD:case KD:case zD:case VD:case XD:case YD:case JD:return this.isSubtype(_b,r);case _D:case ND:case ID:case OD:return this.isSubtype(bD,r);case SD:case kD:case CD:case ED:case AD:return this.isSubtype(xD,r);case kb:case wb:return this.isSubtype(La,r);case DD:return this.isSubtype(gm,r)||this.isSubtype(La,r);case Sb:return this.isSubtype(gm,r);default:return!1}}getReferenceType(t){let r=`${t.container.$type}:${t.property}`;switch(r){case"Action:type":case"CrossReference:type":case"Interface:superTypes":case"ParserRule:returnType":case"SimpleType:typeRef":return La;case"Grammar:hiddenTokens":case"ParserRule:hiddenTokens":case"RuleCall:rule":return gm;case"Grammar:usedGrammars":return wD;case"NamedArgument:parameter":case"ParameterReference:parameter":return PD;case"TerminalRuleCall:rule":return Sb;default:throw new Error(`${r} is not a valid reference id.`)}}getTypeMetaData(t){switch(t){case"Grammar":return{name:"Grammar",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"imports",type:"array"},{name:"interfaces",type:"array"},{name:"isDeclared",type:"boolean"},{name:"rules",type:"array"},{name:"types",type:"array"},{name:"usedGrammars",type:"array"}]};case"Interface":return{name:"Interface",mandatory:[{name:"attributes",type:"array"},{name:"superTypes",type:"array"}]};case"LiteralCondition":return{name:"LiteralCondition",mandatory:[{name:"true",type:"boolean"}]};case"NamedArgument":return{name:"NamedArgument",mandatory:[{name:"calledByName",type:"boolean"}]};case"ParserRule":return{name:"ParserRule",mandatory:[{name:"definesHiddenTokens",type:"boolean"},{name:"entry",type:"boolean"},{name:"fragment",type:"boolean"},{name:"hiddenTokens",type:"array"},{name:"parameters",type:"array"},{name:"wildcard",type:"boolean"}]};case"TerminalRule":return{name:"TerminalRule",mandatory:[{name:"fragment",type:"boolean"},{name:"hidden",type:"boolean"}]};case"TypeAttribute":return{name:"TypeAttribute",mandatory:[{name:"isOptional",type:"boolean"}]};case"UnionType":return{name:"UnionType",mandatory:[{name:"types",type:"array"}]};case"Alternatives":return{name:"Alternatives",mandatory:[{name:"elements",type:"array"}]};case"CrossReference":return{name:"CrossReference",mandatory:[{name:"deprecatedSyntax",type:"boolean"}]};case"Group":return{name:"Group",mandatory:[{name:"elements",type:"array"}]};case"RuleCall":return{name:"RuleCall",mandatory:[{name:"arguments",type:"array"}]};case"TerminalAlternatives":return{name:"TerminalAlternatives",mandatory:[{name:"elements",type:"array"}]};case"TerminalGroup":return{name:"TerminalGroup",mandatory:[{name:"elements",type:"array"}]};case"UnorderedGroup":return{name:"UnorderedGroup",mandatory:[{name:"elements",type:"array"}]};default:return{name:t,mandatory:[]}}}},Mz=new tl;var Jz=Object.freeze("__\xABSKIP^NEW^LINE^IF^EMPTY\xBB__");var Eb=typeof process>"u"?`
`:process.platform==="win32"?`\r
`:`
`;var Ma=class{constructor(t,r=!1){this.ifNotEmpty=!1,this.lineDelimiter=t??Eb,this.ifNotEmpty=r}},nN=new Ma,u2=new Ma(void 0,!0);function le(e){return e.charCodeAt(0)}function il(e,t){Array.isArray(e)?e.forEach(function(r){t.push(r)}):t.push(e)}function ds(e,t){if(e[t]===!0)throw"duplicate flag "+t;let r=e[t];e[t]=!0}function vo(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function Fa(){throw Error("Internal Error - Should never get here!")}function Tm(e){return e.type==="Character"}var qa=[];for(let e=le("0");e<=le("9");e++)qa.push(e);var ja=[le("_")].concat(qa);for(let e=le("a");e<=le("z");e++)ja.push(e);for(let e=le("A");e<=le("Z");e++)ja.push(e);var Rm=[le(" "),le("\f"),le(`
`),le("\r"),le("	"),le("\v"),le("	"),le("\xA0"),le("\u1680"),le("\u2000"),le("\u2001"),le("\u2002"),le("\u2003"),le("\u2004"),le("\u2005"),le("\u2006"),le("\u2007"),le("\u2008"),le("\u2009"),le("\u200A"),le("\u2028"),le("\u2029"),le("\u202F"),le("\u205F"),le("\u3000"),le("\uFEFF")];var aN=/[0-9a-fA-F]/,ol=/[0-9]/,cN=/[1-9]/,To=class{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(t){this.idx=t.idx,this.input=t.input,this.groupIdx=t.groupIdx}pattern(t){this.idx=0,this.input=t,this.groupIdx=0,this.consumeChar("/");let r=this.disjunction();this.consumeChar("/");let n={type:"Flags",loc:{begin:this.idx,end:t.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":ds(n,"global");break;case"i":ds(n,"ignoreCase");break;case"m":ds(n,"multiLine");break;case"u":ds(n,"unicode");break;case"y":ds(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:r,loc:this.loc(0)}}disjunction(){let t=[],r=this.idx;for(t.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),t.push(this.alternative());return{type:"Disjunction",value:t,loc:this.loc(r)}}alternative(){let t=[],r=this.idx;for(;this.isTerm();)t.push(this.term());return{type:"Alternative",value:t,loc:this.loc(r)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){let t=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(t)};case"$":return{type:"EndAnchor",loc:this.loc(t)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(t)};case"B":return{type:"NonWordBoundary",loc:this.loc(t)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let r;switch(this.popChar()){case"=":r="Lookahead";break;case"!":r="NegativeLookahead";break}vo(r);let n=this.disjunction();return this.consumeChar(")"),{type:r,value:n,loc:this.loc(t)}}return Fa()}quantifier(t=!1){let r,n=this.idx;switch(this.popChar()){case"*":r={atLeast:0,atMost:1/0};break;case"+":r={atLeast:1,atMost:1/0};break;case"?":r={atLeast:0,atMost:1};break;case"{":let i=this.integerIncludingZero();switch(this.popChar()){case"}":r={atLeast:i,atMost:i};break;case",":let o;this.isDigit()?(o=this.integerIncludingZero(),r={atLeast:i,atMost:o}):r={atLeast:i,atMost:1/0},this.consumeChar("}");break}if(t===!0&&r===void 0)return;vo(r);break}if(!(t===!0&&r===void 0)&&vo(r))return this.peekChar(0)==="?"?(this.consumeChar("?"),r.greedy=!1):r.greedy=!0,r.type="Quantifier",r.loc=this.loc(n),r}atom(){let t,r=this.idx;switch(this.peekChar()){case".":t=this.dotAll();break;case"\\":t=this.atomEscape();break;case"[":t=this.characterClass();break;case"(":t=this.group();break}return t===void 0&&this.isPatternCharacter()&&(t=this.patternCharacter()),vo(t)?(t.loc=this.loc(r),this.isQuantifier()&&(t.quantifier=this.quantifier()),t):Fa()}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[le(`
`),le("\r"),le("\u2028"),le("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let t,r=!1;switch(this.popChar()){case"d":t=qa;break;case"D":t=qa,r=!0;break;case"s":t=Rm;break;case"S":t=Rm,r=!0;break;case"w":t=ja;break;case"W":t=ja,r=!0;break}return vo(t)?{type:"Set",value:t,complement:r}:Fa()}controlEscapeAtom(){let t;switch(this.popChar()){case"f":t=le("\f");break;case"n":t=le(`
`);break;case"r":t=le("\r");break;case"t":t=le("	");break;case"v":t=le("\v");break}return vo(t)?{type:"Character",value:t}:Fa()}controlLetterEscapeAtom(){this.consumeChar("c");let t=this.popChar();if(/[a-zA-Z]/.test(t)===!1)throw Error("Invalid ");return{type:"Character",value:t.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:le("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){let t=this.popChar();return{type:"Character",value:le(t)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:let t=this.popChar();return{type:"Character",value:le(t)}}}characterClass(){let t=[],r=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),r=!0);this.isClassAtom();){let n=this.classAtom(),i=n.type==="Character";if(Tm(n)&&this.isRangeDash()){this.consumeChar("-");let o=this.classAtom(),s=o.type==="Character";if(Tm(o)){if(o.value<n.value)throw Error("Range out of order in character class");t.push({from:n.value,to:o.value})}else il(n.value,t),t.push(le("-")),il(o.value,t)}else il(n.value,t)}return this.consumeChar("]"),{type:"Set",complement:r,value:t}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:le("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let t=!0;switch(this.consumeChar("("),this.peekChar(0)){case"?":this.consumeChar("?"),this.consumeChar(":"),t=!1;break;default:this.groupIdx++;break}let r=this.disjunction();this.consumeChar(")");let n={type:"Group",capturing:t,value:r};return t&&(n.idx=this.groupIdx),n}positiveInteger(){let t=this.popChar();if(cN.test(t)===!1)throw Error("Expecting a positive integer");for(;ol.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}integerIncludingZero(){let t=this.popChar();if(ol.test(t)===!1)throw Error("Expecting an integer");for(;ol.test(this.peekChar(0));)t+=this.popChar();return parseInt(t,10)}patternCharacter(){let t=this.popChar();switch(t){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:le(t)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return ol.test(this.peekChar(0))}isClassAtom(t=0){switch(this.peekChar(t)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!");default:return!1}}isQuantifier(){let t=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(t)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(t){let r="";for(let i=0;i<t;i++){let o=this.popChar();if(aN.test(o)===!1)throw Error("Expecting a HexDecimal digits");r+=o}return{type:"Character",value:parseInt(r,16)}}peekChar(t=0){return this.input[this.idx+t]}popChar(){let t=this.peekChar(0);return this.consumeChar(void 0),t}consumeChar(t){if(t!==void 0&&this.input[this.idx]!==t)throw Error("Expected: '"+t+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(t){return{begin:t,end:this.idx}}};var En=class{visitChildren(t){for(let r in t){let n=t[r];t.hasOwnProperty(r)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(i=>{this.visit(i)},this))}}visit(t){switch(t.type){case"Pattern":this.visitPattern(t);break;case"Flags":this.visitFlags(t);break;case"Disjunction":this.visitDisjunction(t);break;case"Alternative":this.visitAlternative(t);break;case"StartAnchor":this.visitStartAnchor(t);break;case"EndAnchor":this.visitEndAnchor(t);break;case"WordBoundary":this.visitWordBoundary(t);break;case"NonWordBoundary":this.visitNonWordBoundary(t);break;case"Lookahead":this.visitLookahead(t);break;case"NegativeLookahead":this.visitNegativeLookahead(t);break;case"Character":this.visitCharacter(t);break;case"Set":this.visitSet(t);break;case"Group":this.visitGroup(t);break;case"GroupBackReference":this.visitGroupBackReference(t);break;case"Quantifier":this.visitQuantifier(t);break}this.visitChildren(t)}visitPattern(t){}visitFlags(t){}visitDisjunction(t){}visitAlternative(t){}visitStartAnchor(t){}visitEndAnchor(t){}visitWordBoundary(t){}visitNonWordBoundary(t){}visitLookahead(t){}visitNegativeLookahead(t){}visitCharacter(t){}visitSet(t){}visitGroup(t){}visitGroupBackReference(t){}visitQuantifier(t){}};var N2=new To,xm=class extends En{constructor(){super(...arguments),this.isStarting=!0,this.endRegexStack=[],this.multiline=!1}get endRegex(){return this.endRegexStack.join("")}reset(t){this.multiline=!1,this.regex=t,this.startRegex="",this.isStarting=!0,this.endRegexStack=[]}visitGroup(t){t.quantifier&&(this.isStarting=!1,this.endRegexStack=[])}visitCharacter(t){let r=String.fromCharCode(t.value);if(!this.multiline&&r===`
`&&(this.multiline=!0),t.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let n=sl(r);this.endRegexStack.push(n),this.isStarting&&(this.startRegex+=n)}}visitSet(t){if(!this.multiline){let r=this.regex.substring(t.loc.begin,t.loc.end),n=new RegExp(r);this.multiline=!!`
`.match(n)}if(t.quantifier)this.isStarting=!1,this.endRegexStack=[];else{let r=this.regex.substring(t.loc.begin,t.loc.end);this.endRegexStack.push(r),this.isStarting&&(this.startRegex+=r)}}visitChildren(t){t.type==="Group"&&t.quantifier||super.visitChildren(t)}},I2=new xm;function sl(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}var Db;(()=>{"use strict";var e={470:i=>{function o(c){if(typeof c!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(c))}function s(c,l){for(var g,v="",x=0,k=-1,N=0,D=0;D<=c.length;++D){if(D<c.length)g=c.charCodeAt(D);else{if(g===47)break;g=47}if(g===47){if(!(k===D-1||N===1))if(k!==D-1&&N===2){if(v.length<2||x!==2||v.charCodeAt(v.length-1)!==46||v.charCodeAt(v.length-2)!==46){if(v.length>2){var j=v.lastIndexOf("/");if(j!==v.length-1){j===-1?(v="",x=0):x=(v=v.slice(0,j)).length-1-v.lastIndexOf("/"),k=D,N=0;continue}}else if(v.length===2||v.length===1){v="",x=0,k=D,N=0;continue}}l&&(v.length>0?v+="/..":v="..",x=2)}else v.length>0?v+="/"+c.slice(k+1,D):v=c.slice(k+1,D),x=D-k-1;k=D,N=0}else g===46&&N!==-1?++N:N=-1}return v}var a={resolve:function(){for(var c,l="",g=!1,v=arguments.length-1;v>=-1&&!g;v--){var x;v>=0?x=arguments[v]:(c===void 0&&(c=process.cwd()),x=c),o(x),x.length!==0&&(l=x+"/"+l,g=x.charCodeAt(0)===47)}return l=s(l,!g),g?l.length>0?"/"+l:"/":l.length>0?l:"."},normalize:function(c){if(o(c),c.length===0)return".";var l=c.charCodeAt(0)===47,g=c.charCodeAt(c.length-1)===47;return(c=s(c,!l)).length!==0||l||(c="."),c.length>0&&g&&(c+="/"),l?"/"+c:c},isAbsolute:function(c){return o(c),c.length>0&&c.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var c,l=0;l<arguments.length;++l){var g=arguments[l];o(g),g.length>0&&(c===void 0?c=g:c+="/"+g)}return c===void 0?".":a.normalize(c)},relative:function(c,l){if(o(c),o(l),c===l||(c=a.resolve(c))===(l=a.resolve(l)))return"";for(var g=1;g<c.length&&c.charCodeAt(g)===47;++g);for(var v=c.length,x=v-g,k=1;k<l.length&&l.charCodeAt(k)===47;++k);for(var N=l.length-k,D=x<N?x:N,j=-1,A=0;A<=D;++A){if(A===D){if(N>D){if(l.charCodeAt(k+A)===47)return l.slice(k+A+1);if(A===0)return l.slice(k+A)}else x>D&&(c.charCodeAt(g+A)===47?j=A:A===0&&(j=0));break}var p=c.charCodeAt(g+A);if(p!==l.charCodeAt(k+A))break;p===47&&(j=A)}var d="";for(A=g+j+1;A<=v;++A)A!==v&&c.charCodeAt(A)!==47||(d.length===0?d+="..":d+="/..");return d.length>0?d+l.slice(k+j):(k+=j,l.charCodeAt(k)===47&&++k,l.slice(k))},_makeLong:function(c){return c},dirname:function(c){if(o(c),c.length===0)return".";for(var l=c.charCodeAt(0),g=l===47,v=-1,x=!0,k=c.length-1;k>=1;--k)if((l=c.charCodeAt(k))===47){if(!x){v=k;break}}else x=!1;return v===-1?g?"/":".":g&&v===1?"//":c.slice(0,v)},basename:function(c,l){if(l!==void 0&&typeof l!="string")throw new TypeError('"ext" argument must be a string');o(c);var g,v=0,x=-1,k=!0;if(l!==void 0&&l.length>0&&l.length<=c.length){if(l.length===c.length&&l===c)return"";var N=l.length-1,D=-1;for(g=c.length-1;g>=0;--g){var j=c.charCodeAt(g);if(j===47){if(!k){v=g+1;break}}else D===-1&&(k=!1,D=g+1),N>=0&&(j===l.charCodeAt(N)?--N==-1&&(x=g):(N=-1,x=D))}return v===x?x=D:x===-1&&(x=c.length),c.slice(v,x)}for(g=c.length-1;g>=0;--g)if(c.charCodeAt(g)===47){if(!k){v=g+1;break}}else x===-1&&(k=!1,x=g+1);return x===-1?"":c.slice(v,x)},extname:function(c){o(c);for(var l=-1,g=0,v=-1,x=!0,k=0,N=c.length-1;N>=0;--N){var D=c.charCodeAt(N);if(D!==47)v===-1&&(x=!1,v=N+1),D===46?l===-1?l=N:k!==1&&(k=1):l!==-1&&(k=-1);else if(!x){g=N+1;break}}return l===-1||v===-1||k===0||k===1&&l===v-1&&l===g+1?"":c.slice(l,v)},format:function(c){if(c===null||typeof c!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof c);return function(l,g){var v=g.dir||g.root,x=g.base||(g.name||"")+(g.ext||"");return v?v===g.root?v+x:v+"/"+x:x}(0,c)},parse:function(c){o(c);var l={root:"",dir:"",base:"",ext:"",name:""};if(c.length===0)return l;var g,v=c.charCodeAt(0),x=v===47;x?(l.root="/",g=1):g=0;for(var k=-1,N=0,D=-1,j=!0,A=c.length-1,p=0;A>=g;--A)if((v=c.charCodeAt(A))!==47)D===-1&&(j=!1,D=A+1),v===46?k===-1?k=A:p!==1&&(p=1):k!==-1&&(p=-1);else if(!j){N=A+1;break}return k===-1||D===-1||p===0||p===1&&k===D-1&&k===N+1?D!==-1&&(l.base=l.name=N===0&&x?c.slice(1,D):c.slice(N,D)):(N===0&&x?(l.name=c.slice(1,k),l.base=c.slice(1,D)):(l.name=c.slice(N,k),l.base=c.slice(N,D)),l.ext=c.slice(k,D)),N>0?l.dir=c.slice(0,N-1):x&&(l.dir="/"),l},sep:"/",delimiter:":",win32:null,posix:null};a.posix=a,i.exports=a}},t={};function r(i){var o=t[i];if(o!==void 0)return o.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.d=(i,o)=>{for(var s in o)r.o(o,s)&&!r.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:o[s]})},r.o=(i,o)=>Object.prototype.hasOwnProperty.call(i,o),r.r=i=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})};var n={};(()=>{let i;r.r(n),r.d(n,{URI:()=>x,Utils:()=>bt}),typeof process=="object"?i=process.platform==="win32":typeof navigator=="object"&&(i=navigator.userAgent.indexOf("Windows")>=0);let o=/^\w[\w\d+.-]*$/,s=/^\//,a=/^\/\//;function c(H,O){if(!H.scheme&&O)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${H.authority}", path: "${H.path}", query: "${H.query}", fragment: "${H.fragment}"}`);if(H.scheme&&!o.test(H.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(H.path){if(H.authority){if(!s.test(H.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(a.test(H.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}let l="",g="/",v=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class x{static isUri(O){return O instanceof x||!!O&&typeof O.authority=="string"&&typeof O.fragment=="string"&&typeof O.path=="string"&&typeof O.query=="string"&&typeof O.scheme=="string"&&typeof O.fsPath=="string"&&typeof O.with=="function"&&typeof O.toString=="function"}scheme;authority;path;query;fragment;constructor(O,Q,K,xe,ce,ae=!1){typeof O=="object"?(this.scheme=O.scheme||l,this.authority=O.authority||l,this.path=O.path||l,this.query=O.query||l,this.fragment=O.fragment||l):(this.scheme=function(nt,ze){return nt||ze?nt:"file"}(O,ae),this.authority=Q||l,this.path=function(nt,ze){switch(nt){case"https":case"http":case"file":ze?ze[0]!==g&&(ze=g+ze):ze=g}return ze}(this.scheme,K||l),this.query=xe||l,this.fragment=ce||l,c(this,ae))}get fsPath(){return p(this,!1)}with(O){if(!O)return this;let{scheme:Q,authority:K,path:xe,query:ce,fragment:ae}=O;return Q===void 0?Q=this.scheme:Q===null&&(Q=l),K===void 0?K=this.authority:K===null&&(K=l),xe===void 0?xe=this.path:xe===null&&(xe=l),ce===void 0?ce=this.query:ce===null&&(ce=l),ae===void 0?ae=this.fragment:ae===null&&(ae=l),Q===this.scheme&&K===this.authority&&xe===this.path&&ce===this.query&&ae===this.fragment?this:new N(Q,K,xe,ce,ae)}static parse(O,Q=!1){let K=v.exec(O);return K?new N(K[2]||l,Y(K[4]||l),Y(K[5]||l),Y(K[7]||l),Y(K[9]||l),Q):new N(l,l,l,l,l)}static file(O){let Q=l;if(i&&(O=O.replace(/\\/g,g)),O[0]===g&&O[1]===g){let K=O.indexOf(g,2);K===-1?(Q=O.substring(2),O=g):(Q=O.substring(2,K),O=O.substring(K)||g)}return new N("file",Q,O,l,l)}static from(O){let Q=new N(O.scheme,O.authority,O.path,O.query,O.fragment);return c(Q,!0),Q}toString(O=!1){return d(this,O)}toJSON(){return this}static revive(O){if(O){if(O instanceof x)return O;{let Q=new N(O);return Q._formatted=O.external,Q._fsPath=O._sep===k?O.fsPath:null,Q}}return O}}let k=i?1:void 0;class N extends x{_formatted=null;_fsPath=null;get fsPath(){return this._fsPath||(this._fsPath=p(this,!1)),this._fsPath}toString(O=!1){return O?d(this,!0):(this._formatted||(this._formatted=d(this,!1)),this._formatted)}toJSON(){let O={$mid:1};return this._fsPath&&(O.fsPath=this._fsPath,O._sep=k),this._formatted&&(O.external=this._formatted),this.path&&(O.path=this.path),this.scheme&&(O.scheme=this.scheme),this.authority&&(O.authority=this.authority),this.query&&(O.query=this.query),this.fragment&&(O.fragment=this.fragment),O}}let D={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function j(H,O,Q){let K,xe=-1;for(let ce=0;ce<H.length;ce++){let ae=H.charCodeAt(ce);if(ae>=97&&ae<=122||ae>=65&&ae<=90||ae>=48&&ae<=57||ae===45||ae===46||ae===95||ae===126||O&&ae===47||Q&&ae===91||Q&&ae===93||Q&&ae===58)xe!==-1&&(K+=encodeURIComponent(H.substring(xe,ce)),xe=-1),K!==void 0&&(K+=H.charAt(ce));else{K===void 0&&(K=H.substr(0,ce));let nt=D[ae];nt!==void 0?(xe!==-1&&(K+=encodeURIComponent(H.substring(xe,ce)),xe=-1),K+=nt):xe===-1&&(xe=ce)}}return xe!==-1&&(K+=encodeURIComponent(H.substring(xe))),K!==void 0?K:H}function A(H){let O;for(let Q=0;Q<H.length;Q++){let K=H.charCodeAt(Q);K===35||K===63?(O===void 0&&(O=H.substr(0,Q)),O+=D[K]):O!==void 0&&(O+=H[Q])}return O!==void 0?O:H}function p(H,O){let Q;return Q=H.authority&&H.path.length>1&&H.scheme==="file"?`//${H.authority}${H.path}`:H.path.charCodeAt(0)===47&&(H.path.charCodeAt(1)>=65&&H.path.charCodeAt(1)<=90||H.path.charCodeAt(1)>=97&&H.path.charCodeAt(1)<=122)&&H.path.charCodeAt(2)===58?O?H.path.substr(1):H.path[1].toLowerCase()+H.path.substr(2):H.path,i&&(Q=Q.replace(/\//g,"\\")),Q}function d(H,O){let Q=O?A:j,K="",{scheme:xe,authority:ce,path:ae,query:nt,fragment:ze}=H;if(xe&&(K+=xe,K+=":"),(ce||xe==="file")&&(K+=g,K+=g),ce){let Te=ce.indexOf("@");if(Te!==-1){let Qt=ce.substr(0,Te);ce=ce.substr(Te+1),Te=Qt.lastIndexOf(":"),Te===-1?K+=Q(Qt,!1,!1):(K+=Q(Qt.substr(0,Te),!1,!1),K+=":",K+=Q(Qt.substr(Te+1),!1,!0)),K+="@"}ce=ce.toLowerCase(),Te=ce.lastIndexOf(":"),Te===-1?K+=Q(ce,!1,!0):(K+=Q(ce.substr(0,Te),!1,!0),K+=ce.substr(Te))}if(ae){if(ae.length>=3&&ae.charCodeAt(0)===47&&ae.charCodeAt(2)===58){let Te=ae.charCodeAt(1);Te>=65&&Te<=90&&(ae=`/${String.fromCharCode(Te+32)}:${ae.substr(3)}`)}else if(ae.length>=2&&ae.charCodeAt(1)===58){let Te=ae.charCodeAt(0);Te>=65&&Te<=90&&(ae=`${String.fromCharCode(Te+32)}:${ae.substr(2)}`)}K+=Q(ae,!0,!1)}return nt&&(K+="?",K+=Q(nt,!1,!1)),ze&&(K+="#",K+=O?ze:j(ze,!1,!1)),K}function b(H){try{return decodeURIComponent(H)}catch{return H.length>3?H.substr(0,3)+b(H.substr(3)):H}}let F=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function Y(H){return H.match(F)?H.replace(F,O=>b(O)):H}var _e=r(470);let Oe=_e.posix||_e,qt="/";var bt;(function(H){H.joinPath=function(O,...Q){return O.with({path:Oe.join(O.path,...Q)})},H.resolvePath=function(O,...Q){let K=O.path,xe=!1;K[0]!==qt&&(K=qt+K,xe=!0);let ce=Oe.resolve(K,...Q);return xe&&ce[0]===qt&&!O.authority&&(ce=ce.substring(1)),O.with({path:ce})},H.dirname=function(O){if(O.path.length===0||O.path===qt)return O;let Q=Oe.dirname(O.path);return Q.length===1&&Q.charCodeAt(0)===46&&(Q=""),O.with({path:Q})},H.basename=function(O){return Oe.basename(O.path)},H.extname=function(O){return Oe.extname(O.path)}})(bt||(bt={}))})(),Db=n})();var{URI:zr,Utils:ps}=Db;var Cr;(function(e){e.basename=ps.basename,e.dirname=ps.dirname,e.extname=ps.extname,e.joinPath=ps.joinPath,e.resolvePath=ps.resolvePath;function t(n,i){return n?.toString()===i?.toString()}e.equals=t;function r(n,i){let o=typeof n=="string"?n:n.path,s=typeof i=="string"?i:i.path,a=o.split("/").filter(x=>x.length>0),c=s.split("/").filter(x=>x.length>0),l=0;for(;l<a.length&&a[l]===c[l];l++);let g="../".repeat(a.length-l),v=c.slice(l).join("/");return g+v}e.relative=r})(Cr||(Cr={}));var $2=Cr.equals,F2=Cr.relative;po();var r_=Pe(ni(),1);var WN=Symbol("OperationCancelled");function vl(e){return e===WN}var Ng;(function(e){e.all=["fast","slow","built-in"]})(Ng||(Ng={}));var Og;(function(e){e.GrammarNameUppercase="grammar-name-uppercase",e.RuleNameUppercase="rule-name-uppercase",e.HiddenGrammarTokens="hidden-grammar-tokens",e.UseRegexTokens="use-regex-tokens",e.EntryRuleTokenSyntax="entry-rule-token-syntax",e.CrossRefTokenSyntax="cross-ref-token-syntax",e.UnnecessaryFileExtension="unnecessary-file-extension",e.InvalidReturns="invalid-returns",e.InvalidInfers="invalid-infers",e.MissingInfer="missing-infer",e.MissingReturns="missing-returns",e.SuperfluousInfer="superfluous-infer",e.OptionalUnorderedGroup="optional-unordered-group"})(Og||(Og={}));var BV=/[\s\S]/.source;var ZN=Pe(ni(),1);var oI=Pe(Le(),1);var Sl=Pe(Le(),1);var $g;(function(e){e.LexingError="lexing-error",e.ParsingError="parsing-error",e.LinkingError="linking-error"})($g||($g={}));po();var Fg=Pe(Le(),1);var v_=Pe(Le(),1);var Rs;(function(e){function t(...g){return{options:{},moves:g.flatMap(v=>v.moves).sort(l)}}e.fit=t;function r(g){return i(0,g)}e.noSpace=r;function n(g){return i(1,g)}e.oneSpace=n;function i(g,v){return{options:v??{},moves:[{characters:g}]}}e.spaces=i;function o(g){return s(1,g)}e.newLine=o;function s(g,v){return{options:v??{},moves:[{lines:g}]}}e.newLines=s;function a(g){return{options:g??{},moves:[{tabs:1,lines:1}]}}e.indent=a;function c(g){return{options:g??{},moves:[{tabs:0}]}}e.noIndent=c;function l(g,v){var x,k,N,D,j,A;let p=(x=g.lines)!==null&&x!==void 0?x:0,d=(k=v.lines)!==null&&k!==void 0?k:0,b=(N=g.tabs)!==null&&N!==void 0?N:0,F=(D=v.tabs)!==null&&D!==void 0?D:0,Y=(j=g.characters)!==null&&j!==void 0?j:0,_e=(A=v.characters)!==null&&A!==void 0?A:0;return p<d?-1:p>d?1:b<F?-1:b>F?1:Y<_e?-1:Y>_e?1:0}})(Rs||(Rs={}));var c6=Rs.fit(Rs.oneSpace(),Rs.indent());var mI=Pe(Le(),1);var Se=Pe(Le(),1);var R_={[Se.SemanticTokenTypes.class]:0,[Se.SemanticTokenTypes.comment]:1,[Se.SemanticTokenTypes.enum]:2,[Se.SemanticTokenTypes.enumMember]:3,[Se.SemanticTokenTypes.event]:4,[Se.SemanticTokenTypes.function]:5,[Se.SemanticTokenTypes.interface]:6,[Se.SemanticTokenTypes.keyword]:7,[Se.SemanticTokenTypes.macro]:8,[Se.SemanticTokenTypes.method]:9,[Se.SemanticTokenTypes.modifier]:10,[Se.SemanticTokenTypes.namespace]:11,[Se.SemanticTokenTypes.number]:12,[Se.SemanticTokenTypes.operator]:13,[Se.SemanticTokenTypes.parameter]:14,[Se.SemanticTokenTypes.property]:15,[Se.SemanticTokenTypes.regexp]:16,[Se.SemanticTokenTypes.string]:17,[Se.SemanticTokenTypes.struct]:18,[Se.SemanticTokenTypes.type]:19,[Se.SemanticTokenTypes.typeParameter]:20,[Se.SemanticTokenTypes.variable]:21,[Se.SemanticTokenTypes.decorator]:22},dI={[Se.SemanticTokenModifiers.abstract]:1,[Se.SemanticTokenModifiers.async]:2,[Se.SemanticTokenModifiers.declaration]:4,[Se.SemanticTokenModifiers.defaultLibrary]:8,[Se.SemanticTokenModifiers.definition]:16,[Se.SemanticTokenModifiers.deprecated]:32,[Se.SemanticTokenModifiers.documentation]:64,[Se.SemanticTokenModifiers.modification]:128,[Se.SemanticTokenModifiers.readonly]:256,[Se.SemanticTokenModifiers.static]:512},pI={legend:{tokenTypes:Object.keys(R_),tokenModifiers:Object.keys(dI)},full:{delta:!0},range:!0};var T_;(function(e){function t(n,i){let o=new Map;Object.entries(R_).forEach(([c,l])=>o.set(l,c));let s=0,a=0;return r(n.data,5).map(c=>{s+=c[0],c[0]!==0&&(a=0),a+=c[1];let l=c[2];return{offset:i.textDocument.offsetAt({line:s,character:a}),tokenType:o.get(c[3]),tokenModifiers:c[4],text:i.textDocument.getText({start:{line:s,character:a},end:{line:s,character:a+l}})}})}e.decode=t;function r(n,i){let o=[];for(let s=0;s<n.length;s+=i){let a=n.slice(s,s+i);o.push(a)}return o}})(T_||(T_={}));var k_=Pe(Le(),1);var TI=Pe(Le(),1);var RI=Pe(Le(),1);var xI=Pe(Le(),1);var bI=Pe(Le(),1);var i8="a".charCodeAt(0),o8="z".charCodeAt(0),s8="A".charCodeAt(0),a8="Z".charCodeAt(0),c8="_".charCodeAt(0);var _I=Pe(Le(),1);var SI=Pe(Le(),1);var ai=Pe(Le(),1);var ko;(function(e){e[e.Changed=0]="Changed",e[e.Parsed=1]="Parsed",e[e.IndexedContent=2]="IndexedContent",e[e.ComputedScopes=3]="ComputedScopes",e[e.Linked=4]="Linked",e[e.IndexedReferences=5]="IndexedReferences",e[e.Validated=6]="Validated"})(ko||(ko={}));var kI=Pe(Le(),1);function __(e){let t=e.lsp.Connection;if(!t)throw new Error("Starting a language server requires the languageServer.Connection service to be set.");wI(t,e),CI(t,e),EI(t,e),PI(t,e),DI(t,e),NI(t,e),II(t,e),OI(t,e),MI(t,e),FI(t,e),qI(t,e),AI(t,e),jI(t,e),$I(t,e),UI(t,e),WI(t,e),GI(t,e),KI(t,e),XI(t,e),zI(t,e),BI(t,e),HI(t,e),LI(t,e),VI(t,e),t.onInitialize(n=>e.lsp.LanguageServer.initialize(n)),t.onInitialized(n=>e.lsp.LanguageServer.initialized(n)),e.workspace.TextDocuments.listen(t),t.listen()}function wI(e,t){let r=t.workspace.DocumentBuilder,n=t.workspace.MutexLock;function i(s,a){n.lock(c=>r.update(s,a,c))}t.workspace.TextDocuments.onDidChangeContent(s=>{i([zr.parse(s.document.uri)],[])}),e.onDidChangeWatchedFiles(s=>{let a=[],c=[];for(let l of s.changes){let g=zr.parse(l.uri);l.type===ai.FileChangeType.Deleted?c.push(g):a.push(g)}i(a,c)})}function CI(e,t){t.workspace.DocumentBuilder.onBuildPhase(ko.Validated,async(n,i)=>{for(let o of n)if(o.diagnostics&&e.sendDiagnostics({uri:o.uri.toString(),diagnostics:o.diagnostics}),i.isCancellationRequested)return})}function EI(e,t){e.onCompletion(or((r,n,i,o)=>{var s;return(s=r.lsp.CompletionProvider)===null||s===void 0?void 0:s.getCompletion(n,i,o)},t))}function PI(e,t){e.onReferences(or((r,n,i,o)=>{var s;return(s=r.lsp.ReferencesProvider)===null||s===void 0?void 0:s.findReferences(n,i,o)},t))}function AI(e,t){e.onCodeAction(or((r,n,i,o)=>{var s;return(s=r.lsp.CodeActionProvider)===null||s===void 0?void 0:s.getCodeActions(n,i,o)},t))}function DI(e,t){e.onDocumentSymbol(or((r,n,i,o)=>{var s;return(s=r.lsp.DocumentSymbolProvider)===null||s===void 0?void 0:s.getSymbols(n,i,o)},t))}function NI(e,t){e.onDefinition(or((r,n,i,o)=>{var s;return(s=r.lsp.DefinitionProvider)===null||s===void 0?void 0:s.getDefinition(n,i,o)},t))}function II(e,t){e.onTypeDefinition(or((r,n,i,o)=>{var s;return(s=r.lsp.TypeProvider)===null||s===void 0?void 0:s.getTypeDefinition(n,i,o)},t))}function OI(e,t){e.onImplementation(or((r,n,i,o)=>{var s;return(s=r.lsp.ImplementationProvider)===null||s===void 0?void 0:s.getImplementation(n,i,o)},t))}function LI(e,t){e.onDeclaration(or((r,n,i,o)=>{var s;return(s=r.lsp.DeclarationProvider)===null||s===void 0?void 0:s.getDeclaration(n,i,o)},t))}function MI(e,t){e.onDocumentHighlight(or((r,n,i,o)=>{var s;return(s=r.lsp.DocumentHighlightProvider)===null||s===void 0?void 0:s.getDocumentHighlight(n,i,o)},t))}function $I(e,t){e.onHover(or((r,n,i,o)=>{var s;return(s=r.lsp.HoverProvider)===null||s===void 0?void 0:s.getHoverContent(n,i,o)},t))}function FI(e,t){e.onFoldingRanges(or((r,n,i,o)=>{var s;return(s=r.lsp.FoldingRangeProvider)===null||s===void 0?void 0:s.getFoldingRanges(n,i,o)},t))}function qI(e,t){e.onDocumentFormatting(or((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocument(n,i,o)},t)),e.onDocumentRangeFormatting(or((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocumentRange(n,i,o)},t)),e.onDocumentOnTypeFormatting(or((r,n,i,o)=>{var s;return(s=r.lsp.Formatter)===null||s===void 0?void 0:s.formatDocumentOnType(n,i,o)},t))}function jI(e,t){e.onRenameRequest(or((r,n,i,o)=>{var s;return(s=r.lsp.RenameProvider)===null||s===void 0?void 0:s.rename(n,i,o)},t)),e.onPrepareRename(or((r,n,i,o)=>{var s;return(s=r.lsp.RenameProvider)===null||s===void 0?void 0:s.prepareRename(n,i,o)},t))}function UI(e,t){e.languages.inlayHint.on(Oi((r,n,i,o)=>{var s;return(s=r.lsp.InlayHintProvider)===null||s===void 0?void 0:s.getInlayHints(n,i,o)},t))}function WI(e,t){let r={data:[]};e.languages.semanticTokens.on(Oi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlight(i,o,s):r,t)),e.languages.semanticTokens.onDelta(Oi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlightDelta(i,o,s):r,t)),e.languages.semanticTokens.onRange(Oi((n,i,o,s)=>n.lsp.SemanticTokenProvider?n.lsp.SemanticTokenProvider.semanticHighlightRange(i,o,s):r,t))}function HI(e,t){e.onDidChangeConfiguration(r=>{r.settings&&t.workspace.ConfigurationProvider.updateConfiguration(r)})}function GI(e,t){let r=t.lsp.ExecuteCommandHandler;r&&e.onExecuteCommand(async(n,i)=>{var o;try{return await r.executeCommand(n.command,(o=n.arguments)!==null&&o!==void 0?o:[],i)}catch(s){return xs(s)}})}function BI(e,t){e.onDocumentLinks(Oi((r,n,i,o)=>{var s;return(s=r.lsp.DocumentLinkProvider)===null||s===void 0?void 0:s.getDocumentLinks(n,i,o)},t))}function KI(e,t){e.onSignatureHelp(Oi((r,n,i,o)=>{var s;return(s=r.lsp.SignatureHelp)===null||s===void 0?void 0:s.provideSignatureHelp(n,i,o)},t))}function zI(e,t){e.onCodeLens(Oi((r,n,i,o)=>{var s;return(s=r.lsp.CodeLensProvider)===null||s===void 0?void 0:s.provideCodeLens(n,i,o)},t))}function VI(e,t){var r;let n=t.lsp.WorkspaceSymbolProvider;if(n){e.onWorkspaceSymbol(async(o,s)=>{try{return await n.getSymbols(o,s)}catch(a){return xs(a)}});let i=(r=n.resolveSymbol)===null||r===void 0?void 0:r.bind(n);i&&e.onWorkspaceSymbolResolve(async(o,s)=>{try{return await i(o,s)}catch(a){return xs(a)}})}}function XI(e,t){e.languages.callHierarchy.onPrepare(Oi((r,n,i,o)=>{var s;return r.lsp.CallHierarchyProvider&&(s=r.lsp.CallHierarchyProvider.prepareCallHierarchy(n,i,o))!==null&&s!==void 0?s:null},t)),e.languages.callHierarchy.onIncomingCalls(b_((r,n,i)=>{var o;return r.lsp.CallHierarchyProvider&&(o=r.lsp.CallHierarchyProvider.incomingCalls(n,i))!==null&&o!==void 0?o:null},t)),e.languages.callHierarchy.onOutgoingCalls(b_((r,n,i)=>{var o;return r.lsp.CallHierarchyProvider&&(o=r.lsp.CallHierarchyProvider.outgoingCalls(n,i))!==null&&o!==void 0?o:null},t))}function b_(e,t){let r=t.ServiceRegistry;return async(n,i)=>{let o=zr.parse(n.item.uri),s=r.getServices(o);if(!s){let a=`Could not find service instance for uri: '${o.toString()}'`;throw console.error(a),new Error(a)}try{return await e(s,n,i)}catch(a){return xs(a)}}}function Oi(e,t){let r=t.workspace.LangiumDocuments,n=t.ServiceRegistry;return async(i,o)=>{let s=zr.parse(i.textDocument.uri),a=n.getServices(s);if(!a)throw console.error(`Could not find service instance for uri: '${s.toString()}'`),new Error;let c=r.getOrCreateDocument(s);if(!c)throw new Error;try{return await e(a,c,i,o)}catch(l){return xs(l)}}}function or(e,t){let r=t.workspace.LangiumDocuments,n=t.ServiceRegistry;return async(i,o)=>{let s=zr.parse(i.textDocument.uri),a=n.getServices(s);if(!a)return console.error(`Could not find service instance for uri: '${s.toString()}'`),null;let c=r.getOrCreateDocument(s);if(!c)return null;try{return await e(a,c,i,o)}catch(l){return xs(l)}}}function xs(e){if(vl(e))return new ai.ResponseError(ai.LSPErrorCodes.RequestCancelled,"The request has been cancelled.");if(e instanceof ai.ResponseError)return e;throw e}var S_=Pe(Le(),1);var YI=Pe(Le(),1);var JI=Pe(Le(),1);var QI=Pe(Le(),1);var ZI=Pe(Le(),1);var t0=Pe(Le(),1);var qg=class{readFile(){throw new Error("Method not implemented.")}readFileSync(){throw new Error("Method not implemented.")}async readDirectory(){return[]}},jg={fileSystemProvider:()=>new qg};var o0=typeof global=="object"&&global&&global.Object===Object&&global,kl=o0;var s0=typeof self=="object"&&self&&self.Object===Object&&self,a0=kl||s0||Function("return this")(),kt=a0;var c0=kt.Symbol,Wt=c0;var w_=Object.prototype,u0=w_.hasOwnProperty,l0=w_.toString,Va=Wt?Wt.toStringTag:void 0;function f0(e){var t=u0.call(e,Va),r=e[Va];try{e[Va]=void 0;var n=!0}catch{}var i=l0.call(e);return n&&(t?e[Va]=r:delete e[Va]),i}var C_=f0;var d0=Object.prototype,p0=d0.toString;function h0(e){return p0.call(e)}var E_=h0;var m0="[object Null]",g0="[object Undefined]",P_=Wt?Wt.toStringTag:void 0;function y0(e){return e==null?e===void 0?g0:m0:P_&&P_ in Object(e)?C_(e):E_(e)}var gr=y0;function v0(e){return e!=null&&typeof e=="object"}var Rt=v0;var T0="[object Symbol]";function R0(e){return typeof e=="symbol"||Rt(e)&&gr(e)==T0}var Li=R0;function x0(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Nn=x0;var b0=Array.isArray,te=b0;var _0=1/0,A_=Wt?Wt.prototype:void 0,D_=A_?A_.toString:void 0;function N_(e){if(typeof e=="string")return e;if(te(e))return Nn(e,N_)+"";if(Li(e))return D_?D_.call(e):"";var t=e+"";return t=="0"&&1/e==-_0?"-0":t}var I_=N_;var S0=/\s/;function k0(e){for(var t=e.length;t--&&S0.test(e.charAt(t)););return t}var O_=k0;var w0=/^\s+/;function C0(e){return e&&e.slice(0,O_(e)+1).replace(w0,"")}var L_=C0;function E0(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var at=E0;var M_=0/0,P0=/^[-+]0x[0-9a-f]+$/i,A0=/^0b[01]+$/i,D0=/^0o[0-7]+$/i,N0=parseInt;function I0(e){if(typeof e=="number")return e;if(Li(e))return M_;if(at(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=at(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=L_(e);var r=A0.test(e);return r||D0.test(e)?N0(e.slice(2),r?2:8):P0.test(e)?M_:+e}var $_=I0;var F_=1/0,O0=17976931348623157e292;function L0(e){if(!e)return e===0?e:0;if(e=$_(e),e===F_||e===-F_){var t=e<0?-1:1;return t*O0}return e===e?e:0}var q_=L0;function M0(e){var t=q_(e),r=t%1;return t===t?r?t-r:t:0}var In=M0;function $0(e){return e}var Xr=$0;var F0="[object AsyncFunction]",q0="[object Function]",j0="[object GeneratorFunction]",U0="[object Proxy]";function W0(e){if(!at(e))return!1;var t=gr(e);return t==q0||t==j0||t==F0||t==U0}var yr=W0;var H0=kt["__core-js_shared__"],wl=H0;var j_=function(){var e=/[^.]+$/.exec(wl&&wl.keys&&wl.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function G0(e){return!!j_&&j_ in e}var U_=G0;var B0=Function.prototype,K0=B0.toString;function z0(e){if(e!=null){try{return K0.call(e)}catch{}try{return e+""}catch{}}return""}var ci=z0;var V0=/[\\^$.*+?()[\]{}|]/g,X0=/^\[object .+?Constructor\]$/,Y0=Function.prototype,J0=Object.prototype,Q0=Y0.toString,Z0=J0.hasOwnProperty,eO=RegExp("^"+Q0.call(Z0).replace(V0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tO(e){if(!at(e)||U_(e))return!1;var t=yr(e)?eO:X0;return t.test(ci(e))}var W_=tO;function rO(e,t){return e?.[t]}var H_=rO;function nO(e,t){var r=H_(e,t);return W_(r)?r:void 0}var Pr=nO;var iO=Pr(kt,"WeakMap"),Cl=iO;var G_=Object.create,oO=function(){function e(){}return function(t){if(!at(t))return{};if(G_)return G_(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),B_=oO;function sO(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var K_=sO;function aO(){}var ct=aO;function cO(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var z_=cO;var uO=800,lO=16,fO=Date.now;function dO(e){var t=0,r=0;return function(){var n=fO(),i=lO-(n-r);if(r=n,i>0){if(++t>=uO)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var V_=dO;function pO(e){return function(){return e}}var X_=pO;var hO=function(){try{var e=Pr(Object,"defineProperty");return e({},"",{}),e}catch{}}(),bs=hO;var mO=bs?function(e,t){return bs(e,"toString",{configurable:!0,enumerable:!1,value:X_(t),writable:!0})}:Xr,Y_=mO;var gO=V_(Y_),J_=gO;function yO(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var El=yO;function vO(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}var Pl=vO;function TO(e){return e!==e}var Q_=TO;function RO(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var Z_=RO;function xO(e,t,r){return t===t?Z_(e,t,r):Pl(e,Q_,r)}var _s=xO;function bO(e,t){var r=e==null?0:e.length;return!!r&&_s(e,t,0)>-1}var Al=bO;var _O=9007199254740991,SO=/^(?:0|[1-9]\d*)$/;function kO(e,t){var r=typeof e;return t=t??_O,!!t&&(r=="number"||r!="symbol"&&SO.test(e))&&e>-1&&e%1==0&&e<t}var Mi=kO;function wO(e,t,r){t=="__proto__"&&bs?bs(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ss=wO;function CO(e,t){return e===t||e!==e&&t!==t}var On=CO;var EO=Object.prototype,PO=EO.hasOwnProperty;function AO(e,t,r){var n=e[t];(!(PO.call(e,t)&&On(n,r))||r===void 0&&!(t in e))&&Ss(e,t,r)}var $i=AO;function DO(e,t,r,n){var i=!r;r||(r={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=n?n(r[a],e[a],a,r,e):void 0;c===void 0&&(c=e[a]),i?Ss(r,a,c):$i(r,a,c)}return r}var Ln=DO;var eS=Math.max;function NO(e,t,r){return t=eS(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=eS(n.length-t,0),s=Array(o);++i<o;)s[i]=n[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=n[i];return a[t]=r(s),K_(e,this,a)}}var tS=NO;function IO(e,t){return J_(tS(e,t,Xr),e+"")}var ks=IO;var OO=9007199254740991;function LO(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=OO}var ws=LO;function MO(e){return e!=null&&ws(e.length)&&!yr(e)}var wt=MO;function $O(e,t,r){if(!at(r))return!1;var n=typeof t;return(n=="number"?wt(r)&&Mi(t,r.length):n=="string"&&t in r)?On(r[t],e):!1}var Fi=$O;function FO(e){return ks(function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,s&&Fi(r[0],r[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var a=r[n];a&&e(t,a,n,o)}return t})}var rS=FO;var qO=Object.prototype;function jO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||qO;return e===r}var Mn=jO;function UO(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var nS=UO;var WO="[object Arguments]";function HO(e){return Rt(e)&&gr(e)==WO}var Ug=HO;var iS=Object.prototype,GO=iS.hasOwnProperty,BO=iS.propertyIsEnumerable,KO=Ug(function(){return arguments}())?Ug:function(e){return Rt(e)&&GO.call(e,"callee")&&!BO.call(e,"callee")},qi=KO;function zO(){return!1}var oS=zO;var cS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,sS=cS&&typeof module=="object"&&module&&!module.nodeType&&module,VO=sS&&sS.exports===cS,aS=VO?kt.Buffer:void 0,XO=aS?aS.isBuffer:void 0,YO=XO||oS,ui=YO;var JO="[object Arguments]",QO="[object Array]",ZO="[object Boolean]",eL="[object Date]",tL="[object Error]",rL="[object Function]",nL="[object Map]",iL="[object Number]",oL="[object Object]",sL="[object RegExp]",aL="[object Set]",cL="[object String]",uL="[object WeakMap]",lL="[object ArrayBuffer]",fL="[object DataView]",dL="[object Float32Array]",pL="[object Float64Array]",hL="[object Int8Array]",mL="[object Int16Array]",gL="[object Int32Array]",yL="[object Uint8Array]",vL="[object Uint8ClampedArray]",TL="[object Uint16Array]",RL="[object Uint32Array]",Ye={};Ye[dL]=Ye[pL]=Ye[hL]=Ye[mL]=Ye[gL]=Ye[yL]=Ye[vL]=Ye[TL]=Ye[RL]=!0;Ye[JO]=Ye[QO]=Ye[lL]=Ye[ZO]=Ye[fL]=Ye[eL]=Ye[tL]=Ye[rL]=Ye[nL]=Ye[iL]=Ye[oL]=Ye[sL]=Ye[aL]=Ye[cL]=Ye[uL]=!1;function xL(e){return Rt(e)&&ws(e.length)&&!!Ye[gr(e)]}var uS=xL;function bL(e){return function(t){return e(t)}}var $n=bL;var lS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Xa=lS&&typeof module=="object"&&module&&!module.nodeType&&module,_L=Xa&&Xa.exports===lS,Wg=_L&&kl.process,SL=function(){try{var e=Xa&&Xa.require&&Xa.require("util").types;return e||Wg&&Wg.binding&&Wg.binding("util")}catch{}}(),Yr=SL;var fS=Yr&&Yr.isTypedArray,kL=fS?$n(fS):uS,Cs=kL;var wL=Object.prototype,CL=wL.hasOwnProperty;function EL(e,t){var r=te(e),n=!r&&qi(e),i=!r&&!n&&ui(e),o=!r&&!n&&!i&&Cs(e),s=r||n||i||o,a=s?nS(e.length,String):[],c=a.length;for(var l in e)(t||CL.call(e,l))&&!(s&&(l=="length"||i&&(l=="offset"||l=="parent")||o&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Mi(l,c)))&&a.push(l);return a}var Dl=EL;function PL(e,t){return function(r){return e(t(r))}}var Nl=PL;var AL=Nl(Object.keys,Object),dS=AL;var DL=Object.prototype,NL=DL.hasOwnProperty;function IL(e){if(!Mn(e))return dS(e);var t=[];for(var r in Object(e))NL.call(e,r)&&r!="constructor"&&t.push(r);return t}var Il=IL;function OL(e){return wt(e)?Dl(e):Il(e)}var Ge=OL;var LL=Object.prototype,ML=LL.hasOwnProperty,$L=rS(function(e,t){if(Mn(t)||wt(t)){Ln(t,Ge(t),e);return}for(var r in t)ML.call(t,r)&&$i(e,r,t[r])}),Vt=$L;function FL(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var pS=FL;var qL=Object.prototype,jL=qL.hasOwnProperty;function UL(e){if(!at(e))return pS(e);var t=Mn(e),r=[];for(var n in e)n=="constructor"&&(t||!jL.call(e,n))||r.push(n);return r}var hS=UL;function WL(e){return wt(e)?Dl(e,!0):hS(e)}var ji=WL;var HL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,GL=/^\w*$/;function BL(e,t){if(te(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Li(e)?!0:GL.test(e)||!HL.test(e)||t!=null&&e in Object(t)}var Es=BL;var KL=Pr(Object,"create"),li=KL;function zL(){this.__data__=li?li(null):{},this.size=0}var mS=zL;function VL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var gS=VL;var XL="__lodash_hash_undefined__",YL=Object.prototype,JL=YL.hasOwnProperty;function QL(e){var t=this.__data__;if(li){var r=t[e];return r===XL?void 0:r}return JL.call(t,e)?t[e]:void 0}var yS=QL;var ZL=Object.prototype,eM=ZL.hasOwnProperty;function tM(e){var t=this.__data__;return li?t[e]!==void 0:eM.call(t,e)}var vS=tM;var rM="__lodash_hash_undefined__";function nM(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=li&&t===void 0?rM:t,this}var TS=nM;function Ps(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ps.prototype.clear=mS;Ps.prototype.delete=gS;Ps.prototype.get=yS;Ps.prototype.has=vS;Ps.prototype.set=TS;var Hg=Ps;function iM(){this.__data__=[],this.size=0}var RS=iM;function oM(e,t){for(var r=e.length;r--;)if(On(e[r][0],t))return r;return-1}var Ui=oM;var sM=Array.prototype,aM=sM.splice;function cM(e){var t=this.__data__,r=Ui(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():aM.call(t,r,1),--this.size,!0}var xS=cM;function uM(e){var t=this.__data__,r=Ui(t,e);return r<0?void 0:t[r][1]}var bS=uM;function lM(e){return Ui(this.__data__,e)>-1}var _S=lM;function fM(e,t){var r=this.__data__,n=Ui(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var SS=fM;function As(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}As.prototype.clear=RS;As.prototype.delete=xS;As.prototype.get=bS;As.prototype.has=_S;As.prototype.set=SS;var Wi=As;var dM=Pr(kt,"Map"),Hi=dM;function pM(){this.size=0,this.__data__={hash:new Hg,map:new(Hi||Wi),string:new Hg}}var kS=pM;function hM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var wS=hM;function mM(e,t){var r=e.__data__;return wS(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Gi=mM;function gM(e){var t=Gi(this,e).delete(e);return this.size-=t?1:0,t}var CS=gM;function yM(e){return Gi(this,e).get(e)}var ES=yM;function vM(e){return Gi(this,e).has(e)}var PS=vM;function TM(e,t){var r=Gi(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var AS=TM;function Ds(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ds.prototype.clear=kS;Ds.prototype.delete=CS;Ds.prototype.get=ES;Ds.prototype.has=PS;Ds.prototype.set=AS;var wo=Ds;var RM="Expected a function";function Gg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(RM);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var s=e.apply(this,n);return r.cache=o.set(i,s)||o,s};return r.cache=new(Gg.Cache||wo),r}Gg.Cache=wo;var DS=Gg;var xM=500;function bM(e){var t=DS(e,function(n){return r.size===xM&&r.clear(),n}),r=t.cache;return t}var NS=bM;var _M=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,SM=/\\(\\)?/g,kM=NS(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(_M,function(r,n,i,o){t.push(i?o.replace(SM,"$1"):n||r)}),t}),IS=kM;function wM(e){return e==null?"":I_(e)}var OS=wM;function CM(e,t){return te(e)?e:Es(e,t)?[e]:IS(OS(e))}var Bi=CM;var EM=1/0;function PM(e){if(typeof e=="string"||Li(e))return e;var t=e+"";return t=="0"&&1/e==-EM?"-0":t}var Fn=PM;function AM(e,t){t=Bi(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Fn(t[r++])];return r&&r==n?e:void 0}var Ns=AM;function DM(e,t,r){var n=e==null?void 0:Ns(e,t);return n===void 0?r:n}var LS=DM;function NM(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var Is=NM;var MS=Wt?Wt.isConcatSpreadable:void 0;function IM(e){return te(e)||qi(e)||!!(MS&&e&&e[MS])}var $S=IM;function FS(e,t,r,n,i){var o=-1,s=e.length;for(r||(r=$S),i||(i=[]);++o<s;){var a=e[o];t>0&&r(a)?t>1?FS(a,t-1,r,n,i):Is(i,a):n||(i[i.length]=a)}return i}var Os=FS;function OM(e){var t=e==null?0:e.length;return t?Os(e,1):[]}var Lt=OM;var LM=Nl(Object.getPrototypeOf,Object),Ol=LM;function MM(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var Ll=MM;function $M(e,t,r,n){var i=-1,o=e==null?0:e.length;for(n&&o&&(r=e[++i]);++i<o;)r=t(r,e[i],i,e);return r}var qS=$M;function FM(){this.__data__=new Wi,this.size=0}var jS=FM;function qM(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var US=qM;function jM(e){return this.__data__.get(e)}var WS=jM;function UM(e){return this.__data__.has(e)}var HS=UM;var WM=200;function HM(e,t){var r=this.__data__;if(r instanceof Wi){var n=r.__data__;if(!Hi||n.length<WM-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new wo(n)}return r.set(e,t),this.size=r.size,this}var GS=HM;function Ls(e){var t=this.__data__=new Wi(e);this.size=t.size}Ls.prototype.clear=jS;Ls.prototype.delete=US;Ls.prototype.get=WS;Ls.prototype.has=HS;Ls.prototype.set=GS;var Ki=Ls;function GM(e,t){return e&&Ln(t,Ge(t),e)}var BS=GM;function BM(e,t){return e&&Ln(t,ji(t),e)}var KS=BM;var YS=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zS=YS&&typeof module=="object"&&module&&!module.nodeType&&module,KM=zS&&zS.exports===YS,VS=KM?kt.Buffer:void 0,XS=VS?VS.allocUnsafe:void 0;function zM(e,t){if(t)return e.slice();var r=e.length,n=XS?XS(r):new e.constructor(r);return e.copy(n),n}var JS=zM;function VM(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var s=e[r];t(s,r,e)&&(o[i++]=s)}return o}var Ms=VM;function XM(){return[]}var Ml=XM;var YM=Object.prototype,JM=YM.propertyIsEnumerable,QS=Object.getOwnPropertySymbols,QM=QS?function(e){return e==null?[]:(e=Object(e),Ms(QS(e),function(t){return JM.call(e,t)}))}:Ml,$s=QM;function ZM(e,t){return Ln(e,$s(e),t)}var ZS=ZM;var e$=Object.getOwnPropertySymbols,t$=e$?function(e){for(var t=[];e;)Is(t,$s(e)),e=Ol(e);return t}:Ml,$l=t$;function r$(e,t){return Ln(e,$l(e),t)}var ek=r$;function n$(e,t,r){var n=t(e);return te(e)?n:Is(n,r(e))}var Fl=n$;function i$(e){return Fl(e,Ge,$s)}var Ya=i$;function o$(e){return Fl(e,ji,$l)}var ql=o$;var s$=Pr(kt,"DataView"),jl=s$;var a$=Pr(kt,"Promise"),Ul=a$;var c$=Pr(kt,"Set"),zi=c$;var tk="[object Map]",u$="[object Object]",rk="[object Promise]",nk="[object Set]",ik="[object WeakMap]",ok="[object DataView]",l$=ci(jl),f$=ci(Hi),d$=ci(Ul),p$=ci(zi),h$=ci(Cl),Co=gr;(jl&&Co(new jl(new ArrayBuffer(1)))!=ok||Hi&&Co(new Hi)!=tk||Ul&&Co(Ul.resolve())!=rk||zi&&Co(new zi)!=nk||Cl&&Co(new Cl)!=ik)&&(Co=function(e){var t=gr(e),r=t==u$?e.constructor:void 0,n=r?ci(r):"";if(n)switch(n){case l$:return ok;case f$:return tk;case d$:return rk;case p$:return nk;case h$:return ik}return t});var pn=Co;var m$=Object.prototype,g$=m$.hasOwnProperty;function y$(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&g$.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var sk=y$;var v$=kt.Uint8Array,Fs=v$;function T$(e){var t=new e.constructor(e.byteLength);return new Fs(t).set(new Fs(e)),t}var qs=T$;function R$(e,t){var r=t?qs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var ak=R$;var x$=/\w*$/;function b$(e){var t=new e.constructor(e.source,x$.exec(e));return t.lastIndex=e.lastIndex,t}var ck=b$;var uk=Wt?Wt.prototype:void 0,lk=uk?uk.valueOf:void 0;function _$(e){return lk?Object(lk.call(e)):{}}var fk=_$;function S$(e,t){var r=t?qs(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var dk=S$;var k$="[object Boolean]",w$="[object Date]",C$="[object Map]",E$="[object Number]",P$="[object RegExp]",A$="[object Set]",D$="[object String]",N$="[object Symbol]",I$="[object ArrayBuffer]",O$="[object DataView]",L$="[object Float32Array]",M$="[object Float64Array]",$$="[object Int8Array]",F$="[object Int16Array]",q$="[object Int32Array]",j$="[object Uint8Array]",U$="[object Uint8ClampedArray]",W$="[object Uint16Array]",H$="[object Uint32Array]";function G$(e,t,r){var n=e.constructor;switch(t){case I$:return qs(e);case k$:case w$:return new n(+e);case O$:return ak(e,r);case L$:case M$:case $$:case F$:case q$:case j$:case U$:case W$:case H$:return dk(e,r);case C$:return new n;case E$:case D$:return new n(e);case P$:return ck(e);case A$:return new n;case N$:return fk(e)}}var pk=G$;function B$(e){return typeof e.constructor=="function"&&!Mn(e)?B_(Ol(e)):{}}var hk=B$;var K$="[object Map]";function z$(e){return Rt(e)&&pn(e)==K$}var mk=z$;var gk=Yr&&Yr.isMap,V$=gk?$n(gk):mk,yk=V$;var X$="[object Set]";function Y$(e){return Rt(e)&&pn(e)==X$}var vk=Y$;var Tk=Yr&&Yr.isSet,J$=Tk?$n(Tk):vk,Rk=J$;var Q$=1,Z$=2,eF=4,xk="[object Arguments]",tF="[object Array]",rF="[object Boolean]",nF="[object Date]",iF="[object Error]",bk="[object Function]",oF="[object GeneratorFunction]",sF="[object Map]",aF="[object Number]",_k="[object Object]",cF="[object RegExp]",uF="[object Set]",lF="[object String]",fF="[object Symbol]",dF="[object WeakMap]",pF="[object ArrayBuffer]",hF="[object DataView]",mF="[object Float32Array]",gF="[object Float64Array]",yF="[object Int8Array]",vF="[object Int16Array]",TF="[object Int32Array]",RF="[object Uint8Array]",xF="[object Uint8ClampedArray]",bF="[object Uint16Array]",_F="[object Uint32Array]",Be={};Be[xk]=Be[tF]=Be[pF]=Be[hF]=Be[rF]=Be[nF]=Be[mF]=Be[gF]=Be[yF]=Be[vF]=Be[TF]=Be[sF]=Be[aF]=Be[_k]=Be[cF]=Be[uF]=Be[lF]=Be[fF]=Be[RF]=Be[xF]=Be[bF]=Be[_F]=!0;Be[iF]=Be[bk]=Be[dF]=!1;function Wl(e,t,r,n,i,o){var s,a=t&Q$,c=t&Z$,l=t&eF;if(r&&(s=i?r(e,n,i,o):r(e)),s!==void 0)return s;if(!at(e))return e;var g=te(e);if(g){if(s=sk(e),!a)return z_(e,s)}else{var v=pn(e),x=v==bk||v==oF;if(ui(e))return JS(e,a);if(v==_k||v==xk||x&&!i){if(s=c||x?{}:hk(e),!a)return c?ek(e,KS(s,e)):ZS(e,BS(s,e))}else{if(!Be[v])return i?e:{};s=pk(e,v,a)}}o||(o=new Ki);var k=o.get(e);if(k)return k;o.set(e,s),Rk(e)?e.forEach(function(j){s.add(Wl(j,t,r,j,e,o))}):yk(e)&&e.forEach(function(j,A){s.set(A,Wl(j,t,r,A,e,o))});var N=l?c?ql:Ya:c?ji:Ge,D=g?void 0:N(e);return El(D||e,function(j,A){D&&(A=j,j=e[A]),$i(s,A,Wl(j,t,r,A,e,o))}),s}var Sk=Wl;var SF=4;function kF(e){return Sk(e,SF)}var Je=kF;function wF(e){for(var t=-1,r=e==null?0:e.length,n=0,i=[];++t<r;){var o=e[t];o&&(i[n++]=o)}return i}var qn=wF;var CF="__lodash_hash_undefined__";function EF(e){return this.__data__.set(e,CF),this}var kk=EF;function PF(e){return this.__data__.has(e)}var wk=PF;function Hl(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new wo;++t<r;)this.add(e[t])}Hl.prototype.add=Hl.prototype.push=kk;Hl.prototype.has=wk;var js=Hl;function AF(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Gl=AF;function DF(e,t){return e.has(t)}var Us=DF;var NF=1,IF=2;function OF(e,t,r,n,i,o){var s=r&NF,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var l=o.get(e),g=o.get(t);if(l&&g)return l==t&&g==e;var v=-1,x=!0,k=r&IF?new js:void 0;for(o.set(e,t),o.set(t,e);++v<a;){var N=e[v],D=t[v];if(n)var j=s?n(D,N,v,t,e,o):n(N,D,v,e,t,o);if(j!==void 0){if(j)continue;x=!1;break}if(k){if(!Gl(t,function(A,p){if(!Us(k,p)&&(N===A||i(N,A,r,n,o)))return k.push(p)})){x=!1;break}}else if(!(N===D||i(N,D,r,n,o))){x=!1;break}}return o.delete(e),o.delete(t),x}var Bl=OF;function LF(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var Ck=LF;function MF(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Ws=MF;var $F=1,FF=2,qF="[object Boolean]",jF="[object Date]",UF="[object Error]",WF="[object Map]",HF="[object Number]",GF="[object RegExp]",BF="[object Set]",KF="[object String]",zF="[object Symbol]",VF="[object ArrayBuffer]",XF="[object DataView]",Ek=Wt?Wt.prototype:void 0,Bg=Ek?Ek.valueOf:void 0;function YF(e,t,r,n,i,o,s){switch(r){case XF:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case VF:return!(e.byteLength!=t.byteLength||!o(new Fs(e),new Fs(t)));case qF:case jF:case HF:return On(+e,+t);case UF:return e.name==t.name&&e.message==t.message;case GF:case KF:return e==t+"";case WF:var a=Ck;case BF:var c=n&$F;if(a||(a=Ws),e.size!=t.size&&!c)return!1;var l=s.get(e);if(l)return l==t;n|=FF,s.set(e,t);var g=Bl(a(e),a(t),n,i,o,s);return s.delete(e),g;case zF:if(Bg)return Bg.call(e)==Bg.call(t)}return!1}var Pk=YF;var JF=1,QF=Object.prototype,ZF=QF.hasOwnProperty;function eq(e,t,r,n,i,o){var s=r&JF,a=Ya(e),c=a.length,l=Ya(t),g=l.length;if(c!=g&&!s)return!1;for(var v=c;v--;){var x=a[v];if(!(s?x in t:ZF.call(t,x)))return!1}var k=o.get(e),N=o.get(t);if(k&&N)return k==t&&N==e;var D=!0;o.set(e,t),o.set(t,e);for(var j=s;++v<c;){x=a[v];var A=e[x],p=t[x];if(n)var d=s?n(p,A,x,t,e,o):n(A,p,x,e,t,o);if(!(d===void 0?A===p||i(A,p,r,n,o):d)){D=!1;break}j||(j=x=="constructor")}if(D&&!j){var b=e.constructor,F=t.constructor;b!=F&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof F=="function"&&F instanceof F)&&(D=!1)}return o.delete(e),o.delete(t),D}var Ak=eq;var tq=1,Dk="[object Arguments]",Nk="[object Array]",Kl="[object Object]",rq=Object.prototype,Ik=rq.hasOwnProperty;function nq(e,t,r,n,i,o){var s=te(e),a=te(t),c=s?Nk:pn(e),l=a?Nk:pn(t);c=c==Dk?Kl:c,l=l==Dk?Kl:l;var g=c==Kl,v=l==Kl,x=c==l;if(x&&ui(e)){if(!ui(t))return!1;s=!0,g=!1}if(x&&!g)return o||(o=new Ki),s||Cs(e)?Bl(e,t,r,n,i,o):Pk(e,t,c,r,n,i,o);if(!(r&tq)){var k=g&&Ik.call(e,"__wrapped__"),N=v&&Ik.call(t,"__wrapped__");if(k||N){var D=k?e.value():e,j=N?t.value():t;return o||(o=new Ki),i(D,j,r,n,o)}}return x?(o||(o=new Ki),Ak(e,t,r,n,i,o)):!1}var Ok=nq;function Lk(e,t,r,n,i){return e===t?!0:e==null||t==null||!Rt(e)&&!Rt(t)?e!==e&&t!==t:Ok(e,t,r,n,Lk,i)}var zl=Lk;var iq=1,oq=2;function sq(e,t,r,n){var i=r.length,o=i,s=!n;if(e==null)return!o;for(e=Object(e);i--;){var a=r[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){a=r[i];var c=a[0],l=e[c],g=a[1];if(s&&a[2]){if(l===void 0&&!(c in e))return!1}else{var v=new Ki;if(n)var x=n(l,g,c,e,t,v);if(!(x===void 0?zl(g,l,iq|oq,n,v):x))return!1}}return!0}var Mk=sq;function aq(e){return e===e&&!at(e)}var Vl=aq;function cq(e){for(var t=Ge(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Vl(i)]}return t}var $k=cq;function uq(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var Xl=uq;function lq(e){var t=$k(e);return t.length==1&&t[0][2]?Xl(t[0][0],t[0][1]):function(r){return r===e||Mk(r,e,t)}}var Fk=lq;function fq(e,t){return e!=null&&t in Object(e)}var qk=fq;function dq(e,t,r){t=Bi(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var s=Fn(t[n]);if(!(o=e!=null&&r(e,s)))break;e=e[s]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&ws(i)&&Mi(s,i)&&(te(e)||qi(e)))}var Yl=dq;function pq(e,t){return e!=null&&Yl(e,t,qk)}var jk=pq;var hq=1,mq=2;function gq(e,t){return Es(e)&&Vl(t)?Xl(Fn(e),t):function(r){var n=LS(r,e);return n===void 0&&n===t?jk(r,e):zl(t,n,hq|mq)}}var Uk=gq;function yq(e){return function(t){return t?.[e]}}var Wk=yq;function vq(e){return function(t){return Ns(t,e)}}var Hk=vq;function Tq(e){return Es(e)?Wk(Fn(e)):Hk(e)}var Gk=Tq;function Rq(e){return typeof e=="function"?e:e==null?Xr:typeof e=="object"?te(e)?Uk(e[0],e[1]):Fk(e):Gk(e)}var Ct=Rq;function xq(e,t,r,n){for(var i=-1,o=e==null?0:e.length;++i<o;){var s=e[i];t(n,s,r(s),e)}return n}var Bk=xq;function bq(e){return function(t,r,n){for(var i=-1,o=Object(t),s=n(t),a=s.length;a--;){var c=s[e?a:++i];if(r(o[c],c,o)===!1)break}return t}}var Kk=bq;var _q=Kk(),zk=_q;function Sq(e,t){return e&&zk(e,t,Ge)}var Vk=Sq;function kq(e,t){return function(r,n){if(r==null)return r;if(!wt(r))return e(r,n);for(var i=r.length,o=t?i:-1,s=Object(r);(t?o--:++o<i)&&n(s[o],o,s)!==!1;);return r}}var Xk=kq;var wq=Xk(Vk),Ar=wq;function Cq(e,t,r,n){return Ar(e,function(i,o,s){t(n,i,r(i),s)}),n}var Yk=Cq;function Eq(e,t){return function(r,n){var i=te(r)?Bk:Yk,o=t?t():{};return i(r,e,Ct(n,2),o)}}var Jk=Eq;var Qk=Object.prototype,Pq=Qk.hasOwnProperty,Aq=ks(function(e,t){e=Object(e);var r=-1,n=t.length,i=n>2?t[2]:void 0;for(i&&Fi(t[0],t[1],i)&&(n=1);++r<n;)for(var o=t[r],s=ji(o),a=-1,c=s.length;++a<c;){var l=s[a],g=e[l];(g===void 0||On(g,Qk[l])&&!Pq.call(e,l))&&(e[l]=o[l])}return e}),Hs=Aq;function Dq(e){return Rt(e)&&wt(e)}var Kg=Dq;function Nq(e,t,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}var Jl=Nq;var Iq=200;function Oq(e,t,r,n){var i=-1,o=Al,s=!0,a=e.length,c=[],l=t.length;if(!a)return c;r&&(t=Nn(t,$n(r))),n?(o=Jl,s=!1):t.length>=Iq&&(o=Us,s=!1,t=new js(t));e:for(;++i<a;){var g=e[i],v=r==null?g:r(g);if(g=n||g!==0?g:0,s&&v===v){for(var x=l;x--;)if(t[x]===v)continue e;c.push(g)}else o(t,v,n)||c.push(g)}return c}var Zk=Oq;var Lq=ks(function(e,t){return Kg(e)?Zk(e,Os(t,1,Kg,!0)):[]}),Vi=Lq;function Mq(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jn=Mq;function $q(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:In(t),Ll(e,t<0?0:t,n)):[]}var xt=$q;function Fq(e,t,r){var n=e==null?0:e.length;return n?(t=r||t===void 0?1:In(t),t=n-t,Ll(e,0,t<0?0:t)):[]}var fi=Fq;function qq(e){return typeof e=="function"?e:Xr}var ew=qq;function jq(e,t){var r=te(e)?El:Ar;return r(e,ew(t))}var J=jq;function Uq(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var tw=Uq;function Wq(e,t){var r=!0;return Ar(e,function(n,i,o){return r=!!t(n,i,o),r}),r}var rw=Wq;function Hq(e,t,r){var n=te(e)?tw:rw;return r&&Fi(e,t,r)&&(t=void 0),n(e,Ct(t,3))}var sr=Hq;function Gq(e,t){var r=[];return Ar(e,function(n,i,o){t(n,i,o)&&r.push(n)}),r}var Ql=Gq;function Bq(e,t){var r=te(e)?Ms:Ql;return r(e,Ct(t,3))}var ar=Bq;function Kq(e){return function(t,r,n){var i=Object(t);if(!wt(t)){var o=Ct(r,3);t=Ge(t),r=function(a){return o(i[a],a,i)}}var s=e(t,r,n);return s>-1?i[o?t[s]:s]:void 0}}var nw=Kq;var zq=Math.max;function Vq(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:In(r);return i<0&&(i=zq(n+i,0)),Pl(e,Ct(t,3),i)}var iw=Vq;var Xq=nw(iw),Un=Xq;function Yq(e){return e&&e.length?e[0]:void 0}var Ht=Yq;function Jq(e,t){var r=-1,n=wt(e)?Array(e.length):[];return Ar(e,function(i,o,s){n[++r]=t(i,o,s)}),n}var ow=Jq;function Qq(e,t){var r=te(e)?Nn:ow;return r(e,Ct(t,3))}var V=Qq;function Zq(e,t){return Os(V(e,t),1)}var vr=Zq;var e1=Object.prototype,t1=e1.hasOwnProperty,r1=Jk(function(e,t,r){t1.call(e,r)?e[r].push(t):Ss(e,r,[t])}),zg=r1;var n1=Object.prototype,i1=n1.hasOwnProperty;function o1(e,t){return e!=null&&i1.call(e,t)}var sw=o1;function s1(e,t){return e!=null&&Yl(e,t,sw)}var Z=s1;var a1="[object String]";function c1(e){return typeof e=="string"||!te(e)&&Rt(e)&&gr(e)==a1}var Mt=c1;function u1(e,t){return Nn(t,function(r){return e[r]})}var aw=u1;function l1(e){return e==null?[]:aw(e,Ge(e))}var Fe=l1;var f1=Math.max;function d1(e,t,r,n){e=wt(e)?e:Fe(e),r=r&&!n?In(r):0;var i=e.length;return r<0&&(r=f1(i+r,0)),Mt(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&_s(e,t,r)>-1}var Ze=d1;var p1=Math.max;function h1(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var i=r==null?0:In(r);return i<0&&(i=p1(n+i,0)),_s(e,t,i)}var Zl=h1;var m1="[object Map]",g1="[object Set]",y1=Object.prototype,v1=y1.hasOwnProperty;function T1(e){if(e==null)return!0;if(wt(e)&&(te(e)||typeof e=="string"||typeof e.splice=="function"||ui(e)||Cs(e)||qi(e)))return!e.length;var t=pn(e);if(t==m1||t==g1)return!e.size;if(Mn(e))return!Il(e).length;for(var r in e)if(v1.call(e,r))return!1;return!0}var be=T1;var R1="[object RegExp]";function x1(e){return Rt(e)&&gr(e)==R1}var cw=x1;var uw=Yr&&Yr.isRegExp,b1=uw?$n(uw):cw,Jr=b1;function _1(e){return e===void 0}var cr=_1;var S1="Expected a function";function k1(e){if(typeof e!="function")throw new TypeError(S1);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}var lw=k1;function w1(e,t,r,n){if(!at(e))return e;t=Bi(t,e);for(var i=-1,o=t.length,s=o-1,a=e;a!=null&&++i<o;){var c=Fn(t[i]),l=r;if(c==="__proto__"||c==="constructor"||c==="prototype")return e;if(i!=s){var g=a[c];l=n?n(g,c,a):void 0,l===void 0&&(l=at(g)?g:Mi(t[i+1])?[]:{})}$i(a,c,l),a=a[c]}return e}var fw=w1;function C1(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var s=t[n],a=Ns(e,s);r(a,s)&&fw(o,Bi(s,e),a)}return o}var dw=C1;function E1(e,t){if(e==null)return{};var r=Nn(ql(e),function(n){return[n]});return t=Ct(t),dw(e,r,function(n,i){return t(n,i[0])})}var Dr=E1;function P1(e,t,r,n,i){return i(e,function(o,s,a){r=n?(n=!1,o):t(r,o,s,a)}),r}var pw=P1;function A1(e,t,r){var n=te(e)?qS:pw,i=arguments.length<3;return n(e,Ct(t,4),r,i,Ar)}var Et=A1;function D1(e,t){var r=te(e)?Ms:Ql;return r(e,lw(Ct(t,3)))}var Xi=D1;function N1(e,t){var r;return Ar(e,function(n,i,o){return r=t(n,i,o),!r}),!!r}var hw=N1;function I1(e,t,r){var n=te(e)?Gl:hw;return r&&Fi(e,t,r)&&(t=void 0),n(e,Ct(t,3))}var Ja=I1;var O1=1/0,L1=zi&&1/Ws(new zi([,-0]))[1]==O1?function(e){return new zi(e)}:ct,mw=L1;var M1=200;function $1(e,t,r){var n=-1,i=Al,o=e.length,s=!0,a=[],c=a;if(r)s=!1,i=Jl;else if(o>=M1){var l=t?null:mw(e);if(l)return Ws(l);s=!1,i=Us,c=new js}else c=t?[]:a;e:for(;++n<o;){var g=e[n],v=t?t(g):g;if(g=r||g!==0?g:0,s&&v===v){for(var x=c.length;x--;)if(c[x]===v)continue e;t&&c.push(v),a.push(g)}else i(c,v,r)||(c!==a&&c.push(v),a.push(g))}return a}var gw=$1;function F1(e){return e&&e.length?gw(e):[]}var Gs=F1;function Bs(e){console&&console.error&&console.error(`Error: ${e}`)}function Qa(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function Za(e){let t=new Date().getTime(),r=e();return{time:new Date().getTime()-t,value:r}}function ec(e){function t(){}t.prototype=e;let r=new t;function n(){return typeof r.bar}return n(),n(),e;(0,eval)(e)}function q1(e){return j1(e)?e.LABEL:e.name}function j1(e){return Mt(e.LABEL)&&e.LABEL!==""}var jr=class{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){this._definition=t}accept(t){t.visit(this),J(this.definition,r=>{r.accept(t)})}},qe=class extends jr{constructor(t){super([]),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}set definition(t){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(t){t.visit(this)}},Tr=class extends jr{constructor(t){super(t.definition),this.orgText="",Vt(this,Dr(t,r=>r!==void 0))}},Ke=class extends jr{constructor(t){super(t.definition),this.ignoreAmbiguities=!1,Vt(this,Dr(t,r=>r!==void 0))}},je=class extends jr{constructor(t){super(t.definition),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}},ut=class extends jr{constructor(t){super(t.definition),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}},lt=class extends jr{constructor(t){super(t.definition),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}},De=class extends jr{constructor(t){super(t.definition),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}},et=class extends jr{constructor(t){super(t.definition),this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}},tt=class extends jr{get definition(){return this._definition}set definition(t){this._definition=t}constructor(t){super(t.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Vt(this,Dr(t,r=>r!==void 0))}},ke=class{constructor(t){this.idx=1,Vt(this,Dr(t,r=>r!==void 0))}accept(t){t.visit(this)}};function ef(e){return V(e,Ks)}function Ks(e){function t(r){return V(r,Ks)}if(e instanceof qe){let r={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return Mt(e.label)&&(r.label=e.label),r}else{if(e instanceof Ke)return{type:"Alternative",definition:t(e.definition)};if(e instanceof je)return{type:"Option",idx:e.idx,definition:t(e.definition)};if(e instanceof ut)return{type:"RepetitionMandatory",idx:e.idx,definition:t(e.definition)};if(e instanceof lt)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Ks(new ke({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof et)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Ks(new ke({terminalType:e.separator})),definition:t(e.definition)};if(e instanceof De)return{type:"Repetition",idx:e.idx,definition:t(e.definition)};if(e instanceof tt)return{type:"Alternation",idx:e.idx,definition:t(e.definition)};if(e instanceof ke){let r={type:"Terminal",name:e.terminalType.name,label:q1(e.terminalType),idx:e.idx};Mt(e.label)&&(r.terminalLabel=e.label);let n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(r.pattern=Jr(n)?n.source:n),r}else{if(e instanceof Tr)return{type:"Rule",name:e.name,orgText:e.orgText,definition:t(e.definition)};throw Error("non exhaustive match")}}}var Rr=class{visit(t){let r=t;switch(r.constructor){case qe:return this.visitNonTerminal(r);case Ke:return this.visitAlternative(r);case je:return this.visitOption(r);case ut:return this.visitRepetitionMandatory(r);case lt:return this.visitRepetitionMandatoryWithSeparator(r);case et:return this.visitRepetitionWithSeparator(r);case De:return this.visitRepetition(r);case tt:return this.visitAlternation(r);case ke:return this.visitTerminal(r);case Tr:return this.visitRule(r);default:throw Error("non exhaustive match")}}visitNonTerminal(t){}visitAlternative(t){}visitOption(t){}visitRepetition(t){}visitRepetitionMandatory(t){}visitRepetitionMandatoryWithSeparator(t){}visitRepetitionWithSeparator(t){}visitAlternation(t){}visitTerminal(t){}visitRule(t){}};function Vg(e){return e instanceof Ke||e instanceof je||e instanceof De||e instanceof ut||e instanceof lt||e instanceof et||e instanceof ke||e instanceof Tr}function Eo(e,t=[]){return e instanceof je||e instanceof De||e instanceof et?!0:e instanceof tt?Ja(e.definition,n=>Eo(n,t)):e instanceof qe&&Ze(t,e)?!1:e instanceof jr?(e instanceof qe&&t.push(e),sr(e.definition,n=>Eo(n,t))):!1}function Xg(e){return e instanceof tt}function Nr(e){if(e instanceof qe)return"SUBRULE";if(e instanceof je)return"OPTION";if(e instanceof tt)return"OR";if(e instanceof ut)return"AT_LEAST_ONE";if(e instanceof lt)return"AT_LEAST_ONE_SEP";if(e instanceof et)return"MANY_SEP";if(e instanceof De)return"MANY";if(e instanceof ke)return"CONSUME";throw Error("non exhaustive match")}var di=class{walk(t,r=[]){J(t.definition,(n,i)=>{let o=xt(t.definition,i+1);if(n instanceof qe)this.walkProdRef(n,o,r);else if(n instanceof ke)this.walkTerminal(n,o,r);else if(n instanceof Ke)this.walkFlat(n,o,r);else if(n instanceof je)this.walkOption(n,o,r);else if(n instanceof ut)this.walkAtLeastOne(n,o,r);else if(n instanceof lt)this.walkAtLeastOneSep(n,o,r);else if(n instanceof et)this.walkManySep(n,o,r);else if(n instanceof De)this.walkMany(n,o,r);else if(n instanceof tt)this.walkOr(n,o,r);else throw Error("non exhaustive match")})}walkTerminal(t,r,n){}walkProdRef(t,r,n){}walkFlat(t,r,n){let i=r.concat(n);this.walk(t,i)}walkOption(t,r,n){let i=r.concat(n);this.walk(t,i)}walkAtLeastOne(t,r,n){let i=[new je({definition:t.definition})].concat(r,n);this.walk(t,i)}walkAtLeastOneSep(t,r,n){let i=yw(t,r,n);this.walk(t,i)}walkMany(t,r,n){let i=[new je({definition:t.definition})].concat(r,n);this.walk(t,i)}walkManySep(t,r,n){let i=yw(t,r,n);this.walk(t,i)}walkOr(t,r,n){let i=r.concat(n);J(t.definition,o=>{let s=new Ke({definition:[o]});this.walk(s,i)})}};function yw(e,t,r){return[new je({definition:[new ke({terminalType:e.separator})].concat(e.definition)})].concat(t,r)}function Po(e){if(e instanceof qe)return Po(e.referencedRule);if(e instanceof ke)return H1(e);if(Vg(e))return U1(e);if(Xg(e))return W1(e);throw Error("non exhaustive match")}function U1(e){let t=[],r=e.definition,n=0,i=r.length>n,o,s=!0;for(;i&&s;)o=r[n],s=Eo(o),t=t.concat(Po(o)),n=n+1,i=r.length>n;return Gs(t)}function W1(e){let t=V(e.definition,r=>Po(r));return Gs(Lt(t))}function H1(e){return[e.terminalType]}var tf="_~IN~_";var Yg=class extends di{constructor(t){super(),this.topProd=t,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(t,r,n){}walkProdRef(t,r,n){let i=G1(t.referencedRule,t.idx)+this.topProd.name,o=r.concat(n),s=new Ke({definition:o}),a=Po(s);this.follows[i]=a}};function vw(e){let t={};return J(e,r=>{let n=new Yg(r).startWalking();Vt(t,n)}),t}function G1(e,t){return e.name+t+tf}var rf={},B1=new To;function zs(e){let t=e.toString();if(rf.hasOwnProperty(t))return rf[t];{let r=B1.pattern(t);return rf[t]=r,r}}function Tw(){rf={}}var xw="Complement Sets are not supported for first char optimization",tc=`Unable to use "first char" lexer optimizations:
`;function bw(e,t=!1){try{let r=zs(e);return Jg(r.value,{},r.flags.ignoreCase)}catch(r){if(r.message===xw)t&&Qa(`${tc}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";t&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),Bs(`${tc}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Jg(e,t,r){switch(e.type){case"Disjunction":for(let i=0;i<e.value.length;i++)Jg(e.value[i],t,r);break;case"Alternative":let n=e.value;for(let i=0;i<n.length;i++){let o=n[i];switch(o.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}let s=o;switch(s.type){case"Character":nf(s.value,t,r);break;case"Set":if(s.complement===!0)throw Error(xw);J(s.value,c=>{if(typeof c=="number")nf(c,t,r);else{let l=c;if(r===!0)for(let g=l.from;g<=l.to;g++)nf(g,t,r);else{for(let g=l.from;g<=l.to&&g<Vs;g++)nf(g,t,r);if(l.to>=Vs){let g=l.from>=Vs?l.from:Vs,v=l.to,x=Wn(g),k=Wn(v);for(let N=x;N<=k;N++)t[N]=N}}}});break;case"Group":Jg(s.value,t,r);break;default:throw Error("Non Exhaustive Match")}let a=s.quantifier!==void 0&&s.quantifier.atLeast===0;if(s.type==="Group"&&Qg(s)===!1||s.type!=="Group"&&a===!1)break}break;default:throw Error("non exhaustive match!")}return Fe(t)}function nf(e,t,r){let n=Wn(e);t[n]=n,r===!0&&K1(e,t)}function K1(e,t){let r=String.fromCharCode(e),n=r.toUpperCase();if(n!==r){let i=Wn(n.charCodeAt(0));t[i]=i}else{let i=r.toLowerCase();if(i!==r){let o=Wn(i.charCodeAt(0));t[o]=o}}}function Rw(e,t){return Un(e.value,r=>{if(typeof r=="number")return Ze(t,r);{let n=r;return Un(t,i=>n.from<=i&&i<=n.to)!==void 0}})}function Qg(e){let t=e.quantifier;return t&&t.atLeast===0?!0:e.value?te(e.value)?sr(e.value,Qg):Qg(e.value):!1}var Zg=class extends En{constructor(t){super(),this.targetCharCodes=t,this.found=!1}visitChildren(t){if(this.found!==!0){switch(t.type){case"Lookahead":this.visitLookahead(t);return;case"NegativeLookahead":this.visitNegativeLookahead(t);return}super.visitChildren(t)}}visitCharacter(t){Ze(this.targetCharCodes,t.value)&&(this.found=!0)}visitSet(t){t.complement?Rw(t,this.targetCharCodes)===void 0&&(this.found=!0):Rw(t,this.targetCharCodes)!==void 0&&(this.found=!0)}};function of(e,t){if(t instanceof RegExp){let r=zs(t),n=new Zg(e);return n.visit(r),n.found}else return Un(t,r=>Ze(e,r.charCodeAt(0)))!==void 0}var Ao="PATTERN",Xs="defaultMode",sf="modes",ty=typeof new RegExp("(?:)").sticky=="boolean";function kw(e,t){t=Hs(t,{useSticky:ty,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(p,d)=>d()});let r=t.tracer;r("initCharCodeToOptimizedIndexMap",()=>{lj()});let n;r("Reject Lexer.NA",()=>{n=Xi(e,p=>p[Ao]===Pt.NA)});let i=!1,o;r("Transform Patterns",()=>{i=!1,o=V(n,p=>{let d=p[Ao];if(Jr(d)){let b=d.source;return b.length===1&&b!=="^"&&b!=="$"&&b!=="."&&!d.ignoreCase?b:b.length===2&&b[0]==="\\"&&!Ze(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],b[1])?b[1]:t.useSticky?Sw(d):_w(d)}else{if(yr(d))return i=!0,{exec:d};if(typeof d=="object")return i=!0,d;if(typeof d=="string"){if(d.length===1)return d;{let b=d.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),F=new RegExp(b);return t.useSticky?Sw(F):_w(F)}}else throw Error("non exhaustive match")}})});let s,a,c,l,g;r("misc mapping",()=>{s=V(n,p=>p.tokenTypeIdx),a=V(n,p=>{let d=p.GROUP;if(d!==Pt.SKIPPED){if(Mt(d))return d;if(cr(d))return!1;throw Error("non exhaustive match")}}),c=V(n,p=>{let d=p.LONGER_ALT;if(d)return te(d)?V(d,F=>Zl(n,F)):[Zl(n,d)]}),l=V(n,p=>p.PUSH_MODE),g=V(n,p=>Z(p,"POP_MODE"))});let v;r("Line Terminator Handling",()=>{let p=Iw(t.lineTerminatorCharacters);v=V(n,d=>!1),t.positionTracking!=="onlyOffset"&&(v=V(n,d=>Z(d,"LINE_BREAKS")?!!d.LINE_BREAKS:Nw(d,p)===!1&&of(p,d.PATTERN)))});let x,k,N,D;r("Misc Mapping #2",()=>{x=V(n,Aw),k=V(o,cj),N=Et(n,(p,d)=>{let b=d.GROUP;return Mt(b)&&b!==Pt.SKIPPED&&(p[b]=[]),p},{}),D=V(o,(p,d)=>({pattern:o[d],longerAlt:c[d],canLineTerminator:v[d],isCustom:x[d],short:k[d],group:a[d],push:l[d],pop:g[d],tokenTypeIdx:s[d],tokenType:n[d]}))});let j=!0,A=[];return t.safeMode||r("First Char Optimization",()=>{A=Et(n,(p,d,b)=>{if(typeof d.PATTERN=="string"){let F=d.PATTERN.charCodeAt(0),Y=Wn(F);ey(p,Y,D[b])}else if(te(d.START_CHARS_HINT)){let F;J(d.START_CHARS_HINT,Y=>{let _e=typeof Y=="string"?Y.charCodeAt(0):Y,Oe=Wn(_e);F!==Oe&&(F=Oe,ey(p,Oe,D[b]))})}else if(Jr(d.PATTERN))if(d.PATTERN.unicode)j=!1,t.ensureOptimizations&&Bs(`${tc}	Unable to analyze < ${d.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{let F=bw(d.PATTERN,t.ensureOptimizations);be(F)&&(j=!1),J(F,Y=>{ey(p,Y,D[b])})}else t.ensureOptimizations&&Bs(`${tc}	TokenType: <${d.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),j=!1;return p},[])}),{emptyGroups:N,patternIdxToConfig:D,charCodeToPatternIdxToConfig:A,hasCustom:i,canBeOptimized:j}}function ww(e,t){let r=[],n=V1(e);r=r.concat(n.errors);let i=X1(n.valid),o=i.valid;return r=r.concat(i.errors),r=r.concat(z1(o)),r=r.concat(nj(o)),r=r.concat(ij(o,t)),r=r.concat(oj(o)),r}function z1(e){let t=[],r=ar(e,n=>Jr(n[Ao]));return t=t.concat(J1(r)),t=t.concat(ej(r)),t=t.concat(tj(r)),t=t.concat(rj(r)),t=t.concat(Q1(r)),t}function V1(e){let t=ar(e,i=>!Z(i,Ao)),r=V(t,i=>({message:"Token Type: ->"+i.name+"<- missing static 'PATTERN' property",type:rt.MISSING_PATTERN,tokenTypes:[i]})),n=Vi(e,t);return{errors:r,valid:n}}function X1(e){let t=ar(e,i=>{let o=i[Ao];return!Jr(o)&&!yr(o)&&!Z(o,"exec")&&!Mt(o)}),r=V(t,i=>({message:"Token Type: ->"+i.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:rt.INVALID_PATTERN,tokenTypes:[i]})),n=Vi(e,t);return{errors:r,valid:n}}var Y1=/[^\\][$]/;function J1(e){class t extends En{constructor(){super(...arguments),this.found=!1}visitEndAnchor(o){this.found=!0}}let r=ar(e,i=>{let o=i.PATTERN;try{let s=zs(o),a=new t;return a.visit(s),a.found}catch{return Y1.test(o.source)}});return V(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:rt.EOI_ANCHOR_FOUND,tokenTypes:[i]}))}function Q1(e){let t=ar(e,n=>n.PATTERN.test(""));return V(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:rt.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}var Z1=/[^\\[][\^]|^\^/;function ej(e){class t extends En{constructor(){super(...arguments),this.found=!1}visitStartAnchor(o){this.found=!0}}let r=ar(e,i=>{let o=i.PATTERN;try{let s=zs(o),a=new t;return a.visit(s),a.found}catch{return Z1.test(o.source)}});return V(r,i=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+i.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:rt.SOI_ANCHOR_FOUND,tokenTypes:[i]}))}function tj(e){let t=ar(e,n=>{let i=n[Ao];return i instanceof RegExp&&(i.multiline||i.global)});return V(t,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:rt.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function rj(e){let t=[],r=V(e,o=>Et(e,(s,a)=>(o.PATTERN.source===a.PATTERN.source&&!Ze(t,a)&&a.PATTERN!==Pt.NA&&(t.push(a),s.push(a)),s),[]));r=qn(r);let n=ar(r,o=>o.length>1);return V(n,o=>{let s=V(o,c=>c.name);return{message:`The same RegExp pattern ->${Ht(o).PATTERN}<-has been used in all of the following Token Types: ${s.join(", ")} <-`,type:rt.DUPLICATE_PATTERNS_FOUND,tokenTypes:o}})}function nj(e){let t=ar(e,n=>{if(!Z(n,"GROUP"))return!1;let i=n.GROUP;return i!==Pt.SKIPPED&&i!==Pt.NA&&!Mt(i)});return V(t,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:rt.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function ij(e,t){let r=ar(e,i=>i.PUSH_MODE!==void 0&&!Ze(t,i.PUSH_MODE));return V(r,i=>({message:`Token Type: ->${i.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${i.PUSH_MODE}<-which does not exist`,type:rt.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[i]}))}function oj(e){let t=[],r=Et(e,(n,i,o)=>{let s=i.PATTERN;return s===Pt.NA||(Mt(s)?n.push({str:s,idx:o,tokenType:i}):Jr(s)&&aj(s)&&n.push({str:s.source,idx:o,tokenType:i})),n},[]);return J(e,(n,i)=>{J(r,({str:o,idx:s,tokenType:a})=>{if(i<s&&sj(o,n.PATTERN)){let c=`Token: ->${a.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;t.push({message:c,type:rt.UNREACHABLE_PATTERN,tokenTypes:[n,a]})}})}),t}function sj(e,t){if(Jr(t)){let r=t.exec(e);return r!==null&&r.index===0}else{if(yr(t))return t(e,0,[],{});if(Z(t,"exec"))return t.exec(e,0,[],{});if(typeof t=="string")return t===e;throw Error("non exhaustive match")}}function aj(e){return Un([".","\\","[","]","|","^","$","(",")","?","*","+","{"],r=>e.source.indexOf(r)!==-1)===void 0}function _w(e){let t=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,t)}function Sw(e){let t=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,t)}function Cw(e,t,r){let n=[];return Z(e,Xs)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Xs+`> property in its definition
`,type:rt.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),Z(e,sf)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+sf+`> property in its definition
`,type:rt.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),Z(e,sf)&&Z(e,Xs)&&!Z(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Xs}: <${e.defaultMode}>which does not exist
`,type:rt.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),Z(e,sf)&&J(e.modes,(i,o)=>{J(i,(s,a)=>{if(cr(s))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${o}> at index: <${a}>
`,type:rt.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(Z(s,"LONGER_ALT")){let c=te(s.LONGER_ALT)?s.LONGER_ALT:[s.LONGER_ALT];J(c,l=>{!cr(l)&&!Ze(i,l)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${l.name}> on token <${s.name}> outside of mode <${o}>
`,type:rt.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function Ew(e,t,r){let n=[],i=!1,o=qn(Lt(Fe(e.modes))),s=Xi(o,c=>c[Ao]===Pt.NA),a=Iw(r);return t&&J(s,c=>{let l=Nw(c,a);if(l!==!1){let v={message:uj(c,l),type:l.issue,tokenType:c};n.push(v)}else Z(c,"LINE_BREAKS")?c.LINE_BREAKS===!0&&(i=!0):of(a,c.PATTERN)&&(i=!0)}),t&&!i&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:rt.NO_LINE_BREAKS_FLAGS}),n}function Pw(e){let t={},r=Ge(e);return J(r,n=>{let i=e[n];if(te(i))t[n]=[];else throw Error("non exhaustive match")}),t}function Aw(e){let t=e.PATTERN;if(Jr(t))return!1;if(yr(t))return!0;if(Z(t,"exec"))return!0;if(Mt(t))return!1;throw Error("non exhaustive match")}function cj(e){return Mt(e)&&e.length===1?e.charCodeAt(0):!1}var Dw={test:function(e){let t=e.length;for(let r=this.lastIndex;r<t;r++){let n=e.charCodeAt(r);if(n===10)return this.lastIndex=r+1,!0;if(n===13)return e.charCodeAt(r+1)===10?this.lastIndex=r+2:this.lastIndex=r+1,!0}return!1},lastIndex:0};function Nw(e,t){if(Z(e,"LINE_BREAKS"))return!1;if(Jr(e.PATTERN)){try{of(t,e.PATTERN)}catch(r){return{issue:rt.IDENTIFY_TERMINATOR,errMsg:r.message}}return!1}else{if(Mt(e.PATTERN))return!1;if(Aw(e))return{issue:rt.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function uj(e,t){if(t.issue===rt.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${t.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(t.issue===rt.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function Iw(e){return V(e,r=>Mt(r)?r.charCodeAt(0):r)}function ey(e,t,r){e[t]===void 0?e[t]=[r]:e[t].push(r)}var Vs=256,af=[];function Wn(e){return e<Vs?e:af[e]}function lj(){if(be(af)){af=new Array(65536);for(let e=0;e<65536;e++)af[e]=e>255?255+~~(e/255):e}}function pi(e,t){let r=e.tokenTypeIdx;return r===t.tokenTypeIdx?!0:t.isParent===!0&&t.categoryMatchesMap[r]===!0}function Ys(e,t){return e.tokenTypeIdx===t.tokenTypeIdx}var Ow=1,Mw={};function hi(e){let t=fj(e);dj(t),hj(t),pj(t),J(t,r=>{r.isParent=r.categoryMatches.length>0})}function fj(e){let t=Je(e),r=e,n=!0;for(;n;){r=qn(Lt(V(r,o=>o.CATEGORIES)));let i=Vi(r,t);t=t.concat(i),be(i)?n=!1:r=i}return t}function dj(e){J(e,t=>{ry(t)||(Mw[Ow]=t,t.tokenTypeIdx=Ow++),Lw(t)&&!te(t.CATEGORIES)&&(t.CATEGORIES=[t.CATEGORIES]),Lw(t)||(t.CATEGORIES=[]),mj(t)||(t.categoryMatches=[]),gj(t)||(t.categoryMatchesMap={})})}function pj(e){J(e,t=>{t.categoryMatches=[],J(t.categoryMatchesMap,(r,n)=>{t.categoryMatches.push(Mw[n].tokenTypeIdx)})})}function hj(e){J(e,t=>{$w([],t)})}function $w(e,t){J(e,r=>{t.categoryMatchesMap[r.tokenTypeIdx]=!0}),J(t.CATEGORIES,r=>{let n=e.concat(t);Ze(n,r)||$w(n,r)})}function ry(e){return Z(e,"tokenTypeIdx")}function Lw(e){return Z(e,"CATEGORIES")}function mj(e){return Z(e,"categoryMatches")}function gj(e){return Z(e,"categoryMatchesMap")}function Fw(e){return Z(e,"tokenTypeIdx")}var ny={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,t,r,n,i){return`unexpected character: ->${e.charAt(t)}<- at offset: ${t}, skipped ${r} characters.`}};var rt;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(rt||(rt={}));var rc={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:ny,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(rc);var Pt=class{constructor(t,r=rc){if(this.lexerDefinition=t,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(i,o)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;let s=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${s}--> <${i}>`);let{time:a,value:c}=Za(o),l=a>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&l(`${s}<-- <${i}> time: ${a}ms`),this.traceInitIndent--,c}else return o()},typeof r=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Vt({},rc,r);let n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let i,o=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===rc.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Dw;else if(this.config.lineTerminatorCharacters===rc.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(r.safeMode&&r.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),te(t)?i={modes:{defaultMode:Je(t)},defaultMode:Xs}:(o=!1,i=Je(t))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Cw(i,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Ew(i,this.trackStartLines,this.config.lineTerminatorCharacters))})),i.modes=i.modes?i.modes:{},J(i.modes,(a,c)=>{i.modes[c]=Xi(a,l=>cr(l))});let s=Ge(i.modes);if(J(i.modes,(a,c)=>{this.TRACE_INIT(`Mode: <${c}> processing`,()=>{if(this.modes.push(c),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(ww(a,s))}),be(this.lexerDefinitionErrors)){hi(a);let l;this.TRACE_INIT("analyzeTokenTypes",()=>{l=kw(a,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:r.positionTracking,ensureOptimizations:r.ensureOptimizations,safeMode:r.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[c]=l.patternIdxToConfig,this.charCodeToPatternIdxToConfig[c]=l.charCodeToPatternIdxToConfig,this.emptyGroups=Vt({},this.emptyGroups,l.emptyGroups),this.hasCustom=l.hasCustom||this.hasCustom,this.canModeBeOptimized[c]=l.canBeOptimized}})}),this.defaultMode=i.defaultMode,!be(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){let c=V(this.lexerDefinitionErrors,l=>l.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+c)}J(this.lexerDefinitionWarning,a=>{Qa(a.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(ty?(this.chopInput=Xr,this.match=this.matchWithTest):(this.updateLastIndex=ct,this.match=this.matchWithExec),o&&(this.handleModes=ct),this.trackStartLines===!1&&(this.computeNewColumn=Xr),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=ct),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{let a=Et(this.canModeBeOptimized,(c,l,g)=>(l===!1&&c.push(g),c),[]);if(r.ensureOptimizations&&!be(a))throw Error(`Lexer Modes: < ${a.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{Tw()}),this.TRACE_INIT("toFastProperties",()=>{ec(this)})})}tokenize(t,r=this.defaultMode){if(!be(this.lexerDefinitionErrors)){let i=V(this.lexerDefinitionErrors,o=>o.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+i)}return this.tokenizeInternal(t,r)}tokenizeInternal(t,r){let n,i,o,s,a,c,l,g,v,x,k,N,D,j,A,p,d=t,b=d.length,F=0,Y=0,_e=this.hasCustom?0:Math.floor(t.length/10),Oe=new Array(_e),qt=[],bt=this.trackStartLines?1:void 0,H=this.trackStartLines?1:void 0,O=Pw(this.emptyGroups),Q=this.trackStartLines,K=this.config.lineTerminatorsPattern,xe=0,ce=[],ae=[],nt=[],ze=[];Object.freeze(ze);let Te;function Qt(){return ce}function nn(ht){let jt=Wn(ht),Ur=ae[jt];return Ur===void 0?ze:Ur}let io=ht=>{if(nt.length===1&&ht.tokenType.PUSH_MODE===void 0){let jt=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(ht);qt.push({offset:ht.startOffset,line:ht.startLine,column:ht.startColumn,length:ht.image.length,message:jt})}else{nt.pop();let jt=jn(nt);ce=this.patternIdxToConfig[jt],ae=this.charCodeToPatternIdxToConfig[jt],xe=ce.length;let Ur=this.canModeBeOptimized[jt]&&this.config.safeMode===!1;ae&&Ur?Te=nn:Te=Qt}};function xn(ht){nt.push(ht),ae=this.charCodeToPatternIdxToConfig[ht],ce=this.patternIdxToConfig[ht],xe=ce.length,xe=ce.length;let jt=this.canModeBeOptimized[ht]&&this.config.safeMode===!1;ae&&jt?Te=nn:Te=Qt}xn.call(this,r);let It,yi=this.config.recoveryEnabled;for(;F<b;){c=null;let ht=d.charCodeAt(F),jt=Te(ht),Ur=jt.length;for(n=0;n<Ur;n++){It=jt[n];let Ot=It.pattern;l=null;let Gt=It.short;if(Gt!==!1?ht===Gt&&(c=Ot):It.isCustom===!0?(p=Ot.exec(d,F,Oe,O),p!==null?(c=p[0],p.payload!==void 0&&(l=p.payload)):c=null):(this.updateLastIndex(Ot,F),c=this.match(Ot,t,F)),c!==null){if(a=It.longerAlt,a!==void 0){let $e=a.length;for(o=0;o<$e;o++){let ur=ce[a[o]],Or=ur.pattern;if(g=null,ur.isCustom===!0?(p=Or.exec(d,F,Oe,O),p!==null?(s=p[0],p.payload!==void 0&&(g=p.payload)):s=null):(this.updateLastIndex(Or,F),s=this.match(Or,t,F)),s&&s.length>c.length){c=s,l=g,It=ur;break}}}break}}if(c!==null){if(v=c.length,x=It.group,x!==void 0&&(k=It.tokenTypeIdx,N=this.createTokenInstance(c,F,k,It.tokenType,bt,H,v),this.handlePayload(N,l),x===!1?Y=this.addToken(Oe,Y,N):O[x].push(N)),t=this.chopInput(t,v),F=F+v,H=this.computeNewColumn(H,v),Q===!0&&It.canLineTerminator===!0){let Ot=0,Gt,$e;K.lastIndex=0;do Gt=K.test(c),Gt===!0&&($e=K.lastIndex-1,Ot++);while(Gt===!0);Ot!==0&&(bt=bt+Ot,H=v-$e,this.updateTokenEndLineColumnLocation(N,x,$e,Ot,bt,H,v))}this.handleModes(It,io,xn,N)}else{let Ot=F,Gt=bt,$e=H,ur=yi===!1;for(;ur===!1&&F<b;)for(t=this.chopInput(t,1),F++,i=0;i<xe;i++){let Or=ce[i],lr=Or.pattern,vi=Or.short;if(vi!==!1?d.charCodeAt(F)===vi&&(ur=!0):Or.isCustom===!0?ur=lr.exec(d,F,Oe,O)!==null:(this.updateLastIndex(lr,F),ur=lr.exec(t)!==null),ur===!0)break}if(D=F-Ot,H=this.computeNewColumn(H,D),A=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(d,Ot,D,Gt,$e),qt.push({offset:Ot,line:Gt,column:$e,length:D,message:A}),yi===!1)break}}return this.hasCustom||(Oe.length=Y),{tokens:Oe,groups:O,errors:qt}}handleModes(t,r,n,i){if(t.pop===!0){let o=t.push;r(i),o!==void 0&&n.call(this,o)}else t.push!==void 0&&n.call(this,t.push)}chopInput(t,r){return t.substring(r)}updateLastIndex(t,r){t.lastIndex=r}updateTokenEndLineColumnLocation(t,r,n,i,o,s,a){let c,l;r!==void 0&&(c=n===a-1,l=c?-1:0,i===1&&c===!0||(t.endLine=o+l,t.endColumn=s-1+-l))}computeNewColumn(t,r){return t+r}createOffsetOnlyToken(t,r,n,i){return{image:t,startOffset:r,tokenTypeIdx:n,tokenType:i}}createStartOnlyToken(t,r,n,i,o,s){return{image:t,startOffset:r,startLine:o,startColumn:s,tokenTypeIdx:n,tokenType:i}}createFullToken(t,r,n,i,o,s,a){return{image:t,startOffset:r,endOffset:r+a-1,startLine:o,endLine:o,startColumn:s,endColumn:s+a-1,tokenTypeIdx:n,tokenType:i}}addTokenUsingPush(t,r,n){return t.push(n),r}addTokenUsingMemberAccess(t,r,n){return t[r]=n,r++,r}handlePayloadNoCustom(t,r){}handlePayloadWithCustom(t,r){r!==null&&(t.payload=r)}matchWithTest(t,r,n){return t.test(r)===!0?r.substring(n,t.lastIndex):null}matchWithExec(t,r){let n=t.exec(r);return n!==null?n[0]:null}};Pt.SKIPPED="This marks a skipped Token pattern, this means each token identified by it willbe consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.";Pt.NA=/NOT_APPLICABLE/;function Yi(e){return iy(e)?e.LABEL:e.name}function iy(e){return Mt(e.LABEL)&&e.LABEL!==""}var yj="parent",qw="categories",jw="label",Uw="group",Ww="push_mode",Hw="pop_mode",Gw="longer_alt",Bw="line_breaks",Kw="start_chars_hint";function cf(e){return vj(e)}function vj(e){let t=e.pattern,r={};if(r.name=e.name,cr(t)||(r.PATTERN=t),Z(e,yj))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return Z(e,qw)&&(r.CATEGORIES=e[qw]),hi([r]),Z(e,jw)&&(r.LABEL=e[jw]),Z(e,Uw)&&(r.GROUP=e[Uw]),Z(e,Hw)&&(r.POP_MODE=e[Hw]),Z(e,Ww)&&(r.PUSH_MODE=e[Ww]),Z(e,Gw)&&(r.LONGER_ALT=e[Gw]),Z(e,Bw)&&(r.LINE_BREAKS=e[Bw]),Z(e,Kw)&&(r.START_CHARS_HINT=e[Kw]),r}var Qr=cf({name:"EOF",pattern:Pt.NA});hi([Qr]);function Do(e,t,r,n,i,o,s,a){return{image:t,startOffset:r,endOffset:n,startLine:i,endLine:o,startColumn:s,endColumn:a,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function uf(e,t){return pi(e,t)}var mi={buildMismatchTokenMessage({expected:e,actual:t,previous:r,ruleName:n}){return`Expecting ${iy(e)?`--> ${Yi(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${t.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:t}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:t,previous:r,customUserDescription:n,ruleName:i}){let o="Expecting: ",a=`
but found: '`+Ht(t).image+"'";if(n)return o+n+a;{let c=Et(e,(x,k)=>x.concat(k),[]),l=V(c,x=>`[${V(x,k=>Yi(k)).join(", ")}]`),v=`one of these possible Token sequences:
${V(l,(x,k)=>`  ${k+1}. ${x}`).join(`
`)}`;return o+v+a}},buildEarlyExitMessage({expectedIterationPaths:e,actual:t,customUserDescription:r,ruleName:n}){let i="Expecting: ",s=`
but found: '`+Ht(t).image+"'";if(r)return i+r+s;{let c=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${V(e,l=>`[${V(l,g=>Yi(g)).join(",")}]`).join(" ,")}>`;return i+c+s}}};Object.freeze(mi);var zw={buildRuleNotFoundError(e,t){return"Invalid grammar, reference to a rule which is not defined: ->"+t.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},hn={buildDuplicateFoundError(e,t){function r(g){return g instanceof ke?g.terminalType.name:g instanceof qe?g.nonTerminalName:""}let n=e.name,i=Ht(t),o=i.idx,s=Nr(i),a=r(i),c=o>0,l=`->${s}${c?o:""}<- ${a?`with argument: ->${a}<-`:""}
                  appears more than once (${t.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return l=l.replace(/[ \t]+/g," "),l=l.replace(/\s\s+/g,`
`),l},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){let t=V(e.prefixPath,i=>Yi(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){let t=V(e.prefixPath,i=>Yi(i)).join(", "),r=e.alternation.idx===0?"":e.alternation.idx,n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${r}> inside <${e.topLevelRule.name}> Rule,
<${t}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let t=Nr(e.repetition);return e.repetition.idx!==0&&(t+=e.repetition.idx),`The repetition <${t}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){let t=e.topLevelRule.name,r=V(e.leftRecursionPath,o=>o.name),n=`${t} --> ${r.concat([t]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${t}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let t;return e.topLevelRule instanceof Tr?t=e.topLevelRule.name:t=e.topLevelRule,`Duplicate definition, rule: ->${t}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Vw(e,t){let r=new oy(e,t);return r.resolveRefs(),r.errors}var oy=class extends Rr{constructor(t,r){super(),this.nameToTopRule=t,this.errMsgProvider=r,this.errors=[]}resolveRefs(){J(Fe(this.nameToTopRule),t=>{this.currTopLevel=t,t.accept(this)})}visitNonTerminal(t){let r=this.nameToTopRule[t.nonTerminalName];if(r)t.referencedRule=r;else{let n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,t);this.errors.push({message:n,type:$t.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:t.nonTerminalName})}}};var sy=class extends di{constructor(t,r){super(),this.topProd=t,this.path=r,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Je(this.path.ruleStack).reverse(),this.occurrenceStack=Je(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(t,r=[]){this.found||super.walk(t,r)}walkProdRef(t,r,n){if(t.referencedRule.name===this.nextProductionName&&t.idx===this.nextProductionOccurrence){let i=r.concat(n);this.updateExpectedNext(),this.walk(t.referencedRule,i)}}updateExpectedNext(){be(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}},lf=class extends sy{constructor(t,r){super(t,r),this.path=r,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(t,r,n){if(this.isAtEndOfPath&&t.terminalType.name===this.nextTerminalName&&t.idx===this.nextTerminalOccurrence&&!this.found){let i=r.concat(n),o=new Ke({definition:i});this.possibleTokTypes=Po(o),this.found=!0}}},Js=class extends di{constructor(t,r){super(),this.topRule=t,this.occurrence=r,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}},ff=class extends Js{walkMany(t,r,n){if(t.idx===this.occurrence){let i=Ht(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ke&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkMany(t,r,n)}},nc=class extends Js{walkManySep(t,r,n){if(t.idx===this.occurrence){let i=Ht(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ke&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkManySep(t,r,n)}},df=class extends Js{walkAtLeastOne(t,r,n){if(t.idx===this.occurrence){let i=Ht(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ke&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOne(t,r,n)}},ic=class extends Js{walkAtLeastOneSep(t,r,n){if(t.idx===this.occurrence){let i=Ht(r.concat(n));this.result.isEndOfRule=i===void 0,i instanceof ke&&(this.result.token=i.terminalType,this.result.occurrence=i.idx)}else super.walkAtLeastOneSep(t,r,n)}};function pf(e,t,r=[]){r=Je(r);let n=[],i=0;function o(a){return a.concat(xt(e,i+1))}function s(a){let c=pf(o(a),t,r);return n.concat(c)}for(;r.length<t&&i<e.length;){let a=e[i];if(a instanceof Ke)return s(a.definition);if(a instanceof qe)return s(a.definition);if(a instanceof je)n=s(a.definition);else if(a instanceof ut){let c=a.definition.concat([new De({definition:a.definition})]);return s(c)}else if(a instanceof lt){let c=[new Ke({definition:a.definition}),new De({definition:[new ke({terminalType:a.separator})].concat(a.definition)})];return s(c)}else if(a instanceof et){let c=a.definition.concat([new De({definition:[new ke({terminalType:a.separator})].concat(a.definition)})]);n=s(c)}else if(a instanceof De){let c=a.definition.concat([new De({definition:a.definition})]);n=s(c)}else{if(a instanceof tt)return J(a.definition,c=>{be(c.definition)===!1&&(n=s(c.definition))}),n;if(a instanceof ke)r.push(a.terminalType);else throw Error("non exhaustive match")}i++}return n.push({partialPath:r,suffixDef:xt(e,i)}),n}function hf(e,t,r,n){let i="EXIT_NONE_TERMINAL",o=[i],s="EXIT_ALTERNATIVE",a=!1,c=t.length,l=c-n-1,g=[],v=[];for(v.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!be(v);){let x=v.pop();if(x===s){a&&jn(v).idx<=l&&v.pop();continue}let k=x.def,N=x.idx,D=x.ruleStack,j=x.occurrenceStack;if(be(k))continue;let A=k[0];if(A===i){let p={idx:N,def:xt(k),ruleStack:fi(D),occurrenceStack:fi(j)};v.push(p)}else if(A instanceof ke)if(N<c-1){let p=N+1,d=t[p];if(r(d,A.terminalType)){let b={idx:p,def:xt(k),ruleStack:D,occurrenceStack:j};v.push(b)}}else if(N===c-1)g.push({nextTokenType:A.terminalType,nextTokenOccurrence:A.idx,ruleStack:D,occurrenceStack:j}),a=!0;else throw Error("non exhaustive match");else if(A instanceof qe){let p=Je(D);p.push(A.nonTerminalName);let d=Je(j);d.push(A.idx);let b={idx:N,def:A.definition.concat(o,xt(k)),ruleStack:p,occurrenceStack:d};v.push(b)}else if(A instanceof je){let p={idx:N,def:xt(k),ruleStack:D,occurrenceStack:j};v.push(p),v.push(s);let d={idx:N,def:A.definition.concat(xt(k)),ruleStack:D,occurrenceStack:j};v.push(d)}else if(A instanceof ut){let p=new De({definition:A.definition,idx:A.idx}),d=A.definition.concat([p],xt(k)),b={idx:N,def:d,ruleStack:D,occurrenceStack:j};v.push(b)}else if(A instanceof lt){let p=new ke({terminalType:A.separator}),d=new De({definition:[p].concat(A.definition),idx:A.idx}),b=A.definition.concat([d],xt(k)),F={idx:N,def:b,ruleStack:D,occurrenceStack:j};v.push(F)}else if(A instanceof et){let p={idx:N,def:xt(k),ruleStack:D,occurrenceStack:j};v.push(p),v.push(s);let d=new ke({terminalType:A.separator}),b=new De({definition:[d].concat(A.definition),idx:A.idx}),F=A.definition.concat([b],xt(k)),Y={idx:N,def:F,ruleStack:D,occurrenceStack:j};v.push(Y)}else if(A instanceof De){let p={idx:N,def:xt(k),ruleStack:D,occurrenceStack:j};v.push(p),v.push(s);let d=new De({definition:A.definition,idx:A.idx}),b=A.definition.concat([d],xt(k)),F={idx:N,def:b,ruleStack:D,occurrenceStack:j};v.push(F)}else if(A instanceof tt)for(let p=A.definition.length-1;p>=0;p--){let d=A.definition[p],b={idx:N,def:d.definition.concat(xt(k)),ruleStack:D,occurrenceStack:j};v.push(b),v.push(s)}else if(A instanceof Ke)v.push({idx:N,def:A.definition.concat(xt(k)),ruleStack:D,occurrenceStack:j});else if(A instanceof Tr)v.push(Tj(A,N,D,j));else throw Error("non exhaustive match")}return g}function Tj(e,t,r,n){let i=Je(r);i.push(e.name);let o=Je(n);return o.push(1),{idx:t,def:e.definition,ruleStack:i,occurrenceStack:o}}var ft;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(ft||(ft={}));function gf(e){if(e instanceof je||e==="Option")return ft.OPTION;if(e instanceof De||e==="Repetition")return ft.REPETITION;if(e instanceof ut||e==="RepetitionMandatory")return ft.REPETITION_MANDATORY;if(e instanceof lt||e==="RepetitionMandatoryWithSeparator")return ft.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof et||e==="RepetitionWithSeparator")return ft.REPETITION_WITH_SEPARATOR;if(e instanceof tt||e==="Alternation")return ft.ALTERNATION;throw Error("non exhaustive match")}function Yw(e,t,r,n,i,o){let s=oc(e,t,r),a=rC(s)?Ys:pi;return o(s,n,a,i)}function Jw(e,t,r,n,i,o){let s=sc(e,t,i,r),a=rC(s)?Ys:pi;return o(s[0],a,n)}function Qw(e,t,r,n){let i=e.length,o=sr(e,s=>sr(s,a=>a.length===1));if(t)return function(s){let a=V(s,c=>c.GATE);for(let c=0;c<i;c++){let l=e[c],g=l.length,v=a[c];if(!(v!==void 0&&v.call(this)===!1))e:for(let x=0;x<g;x++){let k=l[x],N=k.length;for(let D=0;D<N;D++){let j=this.LA(D+1);if(r(j,k[D])===!1)continue e}return c}}};if(o&&!n){let s=V(e,c=>Lt(c)),a=Et(s,(c,l,g)=>(J(l,v=>{Z(c,v.tokenTypeIdx)||(c[v.tokenTypeIdx]=g),J(v.categoryMatches,x=>{Z(c,x)||(c[x]=g)})}),c),{});return function(){let c=this.LA(1);return a[c.tokenTypeIdx]}}else return function(){for(let s=0;s<i;s++){let a=e[s],c=a.length;e:for(let l=0;l<c;l++){let g=a[l],v=g.length;for(let x=0;x<v;x++){let k=this.LA(x+1);if(r(k,g[x])===!1)continue e}return s}}}}function Zw(e,t,r){let n=sr(e,o=>o.length===1),i=e.length;if(n&&!r){let o=Lt(e);if(o.length===1&&be(o[0].categoryMatches)){let a=o[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===a}}else{let s=Et(o,(a,c,l)=>(a[c.tokenTypeIdx]=!0,J(c.categoryMatches,g=>{a[g]=!0}),a),[]);return function(){let a=this.LA(1);return s[a.tokenTypeIdx]===!0}}}else return function(){e:for(let o=0;o<i;o++){let s=e[o],a=s.length;for(let c=0;c<a;c++){let l=this.LA(c+1);if(t(l,s[c])===!1)continue e}return!0}return!1}}var cy=class extends di{constructor(t,r,n){super(),this.topProd=t,this.targetOccurrence=r,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(t,r,n,i){return t.idx===this.targetOccurrence&&this.targetProdType===r?(this.restDef=n.concat(i),!0):!1}walkOption(t,r,n){this.checkIsTarget(t,ft.OPTION,r,n)||super.walkOption(t,r,n)}walkAtLeastOne(t,r,n){this.checkIsTarget(t,ft.REPETITION_MANDATORY,r,n)||super.walkOption(t,r,n)}walkAtLeastOneSep(t,r,n){this.checkIsTarget(t,ft.REPETITION_MANDATORY_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}walkMany(t,r,n){this.checkIsTarget(t,ft.REPETITION,r,n)||super.walkOption(t,r,n)}walkManySep(t,r,n){this.checkIsTarget(t,ft.REPETITION_WITH_SEPARATOR,r,n)||super.walkOption(t,r,n)}},mf=class extends Rr{constructor(t,r,n){super(),this.targetOccurrence=t,this.targetProdType=r,this.targetRef=n,this.result=[]}checkIsTarget(t,r){t.idx===this.targetOccurrence&&this.targetProdType===r&&(this.targetRef===void 0||t===this.targetRef)&&(this.result=t.definition)}visitOption(t){this.checkIsTarget(t,ft.OPTION)}visitRepetition(t){this.checkIsTarget(t,ft.REPETITION)}visitRepetitionMandatory(t){this.checkIsTarget(t,ft.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(t){this.checkIsTarget(t,ft.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(t){this.checkIsTarget(t,ft.REPETITION_WITH_SEPARATOR)}visitAlternation(t){this.checkIsTarget(t,ft.ALTERNATION)}};function Xw(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=[];return t}function ay(e){let t=[""];for(let r=0;r<e.length;r++){let n=e[r],i=[];for(let o=0;o<t.length;o++){let s=t[o];i.push(s+"_"+n.tokenTypeIdx);for(let a=0;a<n.categoryMatches.length;a++){let c="_"+n.categoryMatches[a];i.push(s+c)}}t=i}return t}function Rj(e,t,r){for(let n=0;n<e.length;n++){if(n===r)continue;let i=e[n];for(let o=0;o<t.length;o++){let s=t[o];if(i[s]===!0)return!1}}return!0}function eC(e,t){let r=V(e,s=>pf([s],1)),n=Xw(r.length),i=V(r,s=>{let a={};return J(s,c=>{let l=ay(c.partialPath);J(l,g=>{a[g]=!0})}),a}),o=r;for(let s=1;s<=t;s++){let a=o;o=Xw(a.length);for(let c=0;c<a.length;c++){let l=a[c];for(let g=0;g<l.length;g++){let v=l[g].partialPath,x=l[g].suffixDef,k=ay(v);if(Rj(i,k,c)||be(x)||v.length===t){let D=n[c];if(yf(D,v)===!1){D.push(v);for(let j=0;j<k.length;j++){let A=k[j];i[c][A]=!0}}}else{let D=pf(x,s+1,v);o[c]=o[c].concat(D),J(D,j=>{let A=ay(j.partialPath);J(A,p=>{i[c][p]=!0})})}}}}return n}function oc(e,t,r,n){let i=new mf(e,ft.ALTERNATION,n);return t.accept(i),eC(i.result,r)}function sc(e,t,r,n){let i=new mf(e,r);t.accept(i);let o=i.result,a=new cy(t,e,r).startWalking(),c=new Ke({definition:o}),l=new Ke({definition:a});return eC([c,l],n)}function yf(e,t){e:for(let r=0;r<e.length;r++){let n=e[r];if(n.length===t.length){for(let i=0;i<n.length;i++){let o=t[i],s=n[i];if((o===s||s.categoryMatchesMap[o.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function tC(e,t){return e.length<t.length&&sr(e,(r,n)=>{let i=t[n];return r===i||i.categoryMatchesMap[r.tokenTypeIdx]})}function rC(e){return sr(e,t=>sr(t,r=>sr(r,n=>be(n.categoryMatches))))}function nC(e){let t=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return V(t,r=>Object.assign({type:$t.CUSTOM_LOOKAHEAD_VALIDATION},r))}function iC(e,t,r,n){let i=vr(e,c=>xj(c,r)),o=Cj(e,t,r),s=vr(e,c=>Sj(c,r)),a=vr(e,c=>_j(c,e,n,r));return i.concat(o,s,a)}function xj(e,t){let r=new uy;e.accept(r);let n=r.allProductions,i=zg(n,bj),o=Dr(i,a=>a.length>1);return V(Fe(o),a=>{let c=Ht(a),l=t.buildDuplicateFoundError(e,a),g=Nr(c),v={message:l,type:$t.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:g,occurrence:c.idx},x=oC(c);return x&&(v.parameter=x),v})}function bj(e){return`${Nr(e)}_#_${e.idx}_#_${oC(e)}`}function oC(e){return e instanceof ke?e.terminalType.name:e instanceof qe?e.nonTerminalName:""}var uy=class extends Rr{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(t){this.allProductions.push(t)}visitOption(t){this.allProductions.push(t)}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}visitAlternation(t){this.allProductions.push(t)}visitTerminal(t){this.allProductions.push(t)}};function _j(e,t,r,n){let i=[];if(Et(t,(s,a)=>a.name===e.name?s+1:s,0)>1){let s=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:r});i.push({message:s,type:$t.DUPLICATE_RULE_NAME,ruleName:e.name})}return i}function sC(e,t,r){let n=[],i;return Ze(t,e)||(i=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${r}<-as it is not defined in any of the super grammars `,n.push({message:i,type:$t.INVALID_RULE_OVERRIDE,ruleName:e})),n}function fy(e,t,r,n=[]){let i=[],o=vf(t.definition);if(be(o))return[];{let s=e.name;Ze(o,e)&&i.push({message:r.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:$t.LEFT_RECURSION,ruleName:s});let c=Vi(o,n.concat([e])),l=vr(c,g=>{let v=Je(n);return v.push(g),fy(e,g,r,v)});return i.concat(l)}}function vf(e){let t=[];if(be(e))return t;let r=Ht(e);if(r instanceof qe)t.push(r.referencedRule);else if(r instanceof Ke||r instanceof je||r instanceof ut||r instanceof lt||r instanceof et||r instanceof De)t=t.concat(vf(r.definition));else if(r instanceof tt)t=Lt(V(r.definition,o=>vf(o.definition)));else if(!(r instanceof ke))throw Error("non exhaustive match");let n=Eo(r),i=e.length>1;if(n&&i){let o=xt(e);return t.concat(vf(o))}else return t}var ac=class extends Rr{constructor(){super(...arguments),this.alternations=[]}visitAlternation(t){this.alternations.push(t)}};function aC(e,t){let r=new ac;e.accept(r);let n=r.alternations;return vr(n,o=>{let s=fi(o.definition);return vr(s,(a,c)=>{let l=hf([a],[],pi,1);return be(l)?[{message:t.buildEmptyAlternationError({topLevelRule:e,alternation:o,emptyChoiceIdx:c}),type:$t.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:o.idx,alternative:c+1}]:[]})})}function cC(e,t,r){let n=new ac;e.accept(n);let i=n.alternations;return i=Xi(i,s=>s.ignoreAmbiguities===!0),vr(i,s=>{let a=s.idx,c=s.maxLookahead||t,l=oc(a,e,c,s),g=kj(l,s,e,r),v=wj(l,s,e,r);return g.concat(v)})}var ly=class extends Rr{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(t){this.allProductions.push(t)}visitRepetitionMandatory(t){this.allProductions.push(t)}visitRepetitionMandatoryWithSeparator(t){this.allProductions.push(t)}visitRepetition(t){this.allProductions.push(t)}};function Sj(e,t){let r=new ac;e.accept(r);let n=r.alternations;return vr(n,o=>o.definition.length>255?[{message:t.buildTooManyAlternativesError({topLevelRule:e,alternation:o}),type:$t.TOO_MANY_ALTS,ruleName:e.name,occurrence:o.idx}]:[])}function uC(e,t,r){let n=[];return J(e,i=>{let o=new ly;i.accept(o);let s=o.allProductions;J(s,a=>{let c=gf(a),l=a.maxLookahead||t,g=a.idx,x=sc(g,i,c,l)[0];if(be(Lt(x))){let k=r.buildEmptyRepetitionError({topLevelRule:i,repetition:a});n.push({message:k,type:$t.NO_NON_EMPTY_LOOKAHEAD,ruleName:i.name})}})}),n}function kj(e,t,r,n){let i=[],o=Et(e,(a,c,l)=>(t.definition[l].ignoreAmbiguities===!0||J(c,g=>{let v=[l];J(e,(x,k)=>{l!==k&&yf(x,g)&&t.definition[k].ignoreAmbiguities!==!0&&v.push(k)}),v.length>1&&!yf(i,g)&&(i.push(g),a.push({alts:v,path:g}))}),a),[]);return V(o,a=>{let c=V(a.alts,g=>g+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:c,prefixPath:a.path}),type:$t.AMBIGUOUS_ALTS,ruleName:r.name,occurrence:t.idx,alternatives:a.alts}})}function wj(e,t,r,n){let i=Et(e,(s,a,c)=>{let l=V(a,g=>({idx:c,path:g}));return s.concat(l)},[]);return qn(vr(i,s=>{if(t.definition[s.idx].ignoreAmbiguities===!0)return[];let c=s.idx,l=s.path,g=ar(i,x=>t.definition[x.idx].ignoreAmbiguities!==!0&&x.idx<c&&tC(x.path,l));return V(g,x=>{let k=[x.idx+1,c+1],N=t.idx===0?"":t.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:r,alternation:t,ambiguityIndices:k,prefixPath:x.path}),type:$t.AMBIGUOUS_PREFIX_ALTS,ruleName:r.name,occurrence:N,alternatives:k}})}))}function Cj(e,t,r){let n=[],i=V(t,o=>o.name);return J(e,o=>{let s=o.name;if(Ze(i,s)){let a=r.buildNamespaceConflictError(o);n.push({message:a,type:$t.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:s})}}),n}function lC(e){let t=Hs(e,{errMsgProvider:zw}),r={};return J(e.rules,n=>{r[n.name]=n}),Vw(r,t.errMsgProvider)}function fC(e){return e=Hs(e,{errMsgProvider:hn}),iC(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}var dC="MismatchedTokenException",pC="NoViableAltException",hC="EarlyExitException",mC="NotAllInputParsedException",gC=[dC,pC,hC,mC];Object.freeze(gC);function Ji(e){return Ze(gC,e.name)}var Qs=class extends Error{constructor(t,r){super(t),this.token=r,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}},No=class extends Qs{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=dC}},cc=class extends Qs{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=pC}},uc=class extends Qs{constructor(t,r){super(t,r),this.name=mC}},lc=class extends Qs{constructor(t,r,n){super(t,r),this.previousToken=n,this.name=hC}};var dy={},hy="InRuleRecoveryException",py=class extends Error{constructor(t){super(t),this.name=hy}},Tf=class{initRecoverable(t){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=Z(t,"recoveryEnabled")?t.recoveryEnabled:Ir.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=Ej)}getTokenToInsert(t){let r=Do(t,"",NaN,NaN,NaN,NaN,NaN,NaN);return r.isInsertedInRecovery=!0,r}canTokenTypeBeInsertedInRecovery(t){return!0}canTokenTypeBeDeletedInRecovery(t){return!0}tryInRepetitionRecovery(t,r,n,i){let o=this.findReSyncTokenType(),s=this.exportLexerState(),a=[],c=!1,l=this.LA(1),g=this.LA(1),v=()=>{let x=this.LA(0),k=this.errorMessageProvider.buildMismatchTokenMessage({expected:i,actual:l,previous:x,ruleName:this.getCurrRuleFullName()}),N=new No(k,l,this.LA(0));N.resyncedTokens=fi(a),this.SAVE_ERROR(N)};for(;!c;)if(this.tokenMatcher(g,i)){v();return}else if(n.call(this)){v(),t.apply(this,r);return}else this.tokenMatcher(g,o)?c=!0:(g=this.SKIP_TOKEN(),this.addToResyncTokens(g,a));this.importLexerState(s)}shouldInRepetitionRecoveryBeTried(t,r,n){return!(n===!1||this.tokenMatcher(this.LA(1),t)||this.isBackTracking()||this.canPerformInRuleRecovery(t,this.getFollowsForInRuleRecovery(t,r)))}getFollowsForInRuleRecovery(t,r){let n=this.getCurrentGrammarPath(t,r);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(t,r){if(this.canRecoverWithSingleTokenInsertion(t,r))return this.getTokenToInsert(t);if(this.canRecoverWithSingleTokenDeletion(t)){let n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new py("sad sad panda")}canPerformInRuleRecovery(t,r){return this.canRecoverWithSingleTokenInsertion(t,r)||this.canRecoverWithSingleTokenDeletion(t)}canRecoverWithSingleTokenInsertion(t,r){if(!this.canTokenTypeBeInsertedInRecovery(t)||be(r))return!1;let n=this.LA(1);return Un(r,o=>this.tokenMatcher(n,o))!==void 0}canRecoverWithSingleTokenDeletion(t){return this.canTokenTypeBeDeletedInRecovery(t)?this.tokenMatcher(this.LA(2),t):!1}isInCurrentRuleReSyncSet(t){let r=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(r);return Ze(n,t)}findReSyncTokenType(){let t=this.flattenFollowSet(),r=this.LA(1),n=2;for(;;){let i=Un(t,o=>uf(r,o));if(i!==void 0)return i;r=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return dy;let t=this.getLastExplicitRuleShortName(),r=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(t),idxInCallingRule:r,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){let t=this.RULE_STACK,r=this.RULE_OCCURRENCE_STACK;return V(t,(n,i)=>i===0?dy:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:r[i],inRule:this.shortRuleNameToFullName(t[i-1])})}flattenFollowSet(){let t=V(this.buildFullFollowKeyStack(),r=>this.getFollowSetFromFollowKey(r));return Lt(t)}getFollowSetFromFollowKey(t){if(t===dy)return[Qr];let r=t.ruleName+t.idxInCallingRule+tf+t.inRule;return this.resyncFollows[r]}addToResyncTokens(t,r){return this.tokenMatcher(t,Qr)||r.push(t),r}reSyncTo(t){let r=[],n=this.LA(1);for(;this.tokenMatcher(n,t)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,r);return fi(r)}attemptInRepetitionRecovery(t,r,n,i,o,s,a){}getCurrentGrammarPath(t,r){let n=this.getHumanReadableRuleStack(),i=Je(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:i,lastTok:t,lastTokOccurrence:r}}getHumanReadableRuleStack(){return V(this.RULE_STACK,t=>this.shortRuleNameToFullName(t))}};function Ej(e,t,r,n,i,o,s){let a=this.getKeyForAutomaticLookahead(n,i),c=this.firstAfterRepMap[a];if(c===void 0){let x=this.getCurrRuleFullName(),k=this.getGAstProductions()[x];c=new o(k,i).startWalking(),this.firstAfterRepMap[a]=c}let l=c.token,g=c.occurrence,v=c.isEndOfRule;this.RULE_STACK.length===1&&v&&l===void 0&&(l=Qr,g=1),!(l===void 0||g===void 0)&&this.shouldInRepetitionRecoveryBeTried(l,g,s)&&this.tryInRepetitionRecovery(e,t,r,l)}function Rf(e,t,r){return r|t|e}var Hce=32-8;var Io=class{constructor(t){var r;this.maxLookahead=(r=t?.maxLookahead)!==null&&r!==void 0?r:Ir.maxLookahead}validate(t){let r=this.validateNoLeftRecursion(t.rules);if(be(r)){let n=this.validateEmptyOrAlternatives(t.rules),i=this.validateAmbiguousAlternationAlternatives(t.rules,this.maxLookahead),o=this.validateSomeNonEmptyLookaheadPath(t.rules,this.maxLookahead);return[...r,...n,...i,...o]}return r}validateNoLeftRecursion(t){return vr(t,r=>fy(r,r,hn))}validateEmptyOrAlternatives(t){return vr(t,r=>aC(r,hn))}validateAmbiguousAlternationAlternatives(t,r){return vr(t,n=>cC(n,r,hn))}validateSomeNonEmptyLookaheadPath(t,r){return uC(t,r,hn)}buildLookaheadForAlternation(t){return Yw(t.prodOccurrence,t.rule,t.maxLookahead,t.hasPredicates,t.dynamicTokensEnabled,Qw)}buildLookaheadForOptional(t){return Jw(t.prodOccurrence,t.rule,t.maxLookahead,t.dynamicTokensEnabled,gf(t.prodType),Zw)}};var bf=class{initLooksAhead(t){this.dynamicTokensEnabled=Z(t,"dynamicTokensEnabled")?t.dynamicTokensEnabled:Ir.dynamicTokensEnabled,this.maxLookahead=Z(t,"maxLookahead")?t.maxLookahead:Ir.maxLookahead,this.lookaheadStrategy=Z(t,"lookaheadStrategy")?t.lookaheadStrategy:new Io({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(t){J(t,r=>{this.TRACE_INIT(`${r.name} Rule Lookahead`,()=>{let{alternation:n,repetition:i,option:o,repetitionMandatory:s,repetitionMandatoryWithSeparator:a,repetitionWithSeparator:c}=Pj(r);J(n,l=>{let g=l.idx===0?"":l.idx;this.TRACE_INIT(`${Nr(l)}${g}`,()=>{let v=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:l.idx,rule:r,maxLookahead:l.maxLookahead||this.maxLookahead,hasPredicates:l.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),x=Rf(this.fullRuleNameToShort[r.name],256,l.idx);this.setLaFuncCache(x,v)})}),J(i,l=>{this.computeLookaheadFunc(r,l.idx,768,"Repetition",l.maxLookahead,Nr(l))}),J(o,l=>{this.computeLookaheadFunc(r,l.idx,512,"Option",l.maxLookahead,Nr(l))}),J(s,l=>{this.computeLookaheadFunc(r,l.idx,1024,"RepetitionMandatory",l.maxLookahead,Nr(l))}),J(a,l=>{this.computeLookaheadFunc(r,l.idx,1536,"RepetitionMandatoryWithSeparator",l.maxLookahead,Nr(l))}),J(c,l=>{this.computeLookaheadFunc(r,l.idx,1280,"RepetitionWithSeparator",l.maxLookahead,Nr(l))})})})}computeLookaheadFunc(t,r,n,i,o,s){this.TRACE_INIT(`${s}${r===0?"":r}`,()=>{let a=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:r,rule:t,maxLookahead:o||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:i}),c=Rf(this.fullRuleNameToShort[t.name],n,r);this.setLaFuncCache(c,a)})}getKeyForAutomaticLookahead(t,r){let n=this.getLastExplicitRuleShortName();return Rf(n,t,r)}getLaFuncFromCache(t){return this.lookAheadFuncsCache.get(t)}setLaFuncCache(t,r){this.lookAheadFuncsCache.set(t,r)}},my=class extends Rr{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(t){this.dslMethods.option.push(t)}visitRepetitionWithSeparator(t){this.dslMethods.repetitionWithSeparator.push(t)}visitRepetitionMandatory(t){this.dslMethods.repetitionMandatory.push(t)}visitRepetitionMandatoryWithSeparator(t){this.dslMethods.repetitionMandatoryWithSeparator.push(t)}visitRepetition(t){this.dslMethods.repetition.push(t)}visitAlternation(t){this.dslMethods.alternation.push(t)}},xf=new my;function Pj(e){xf.reset(),e.accept(xf);let t=xf.dslMethods;return xf.reset(),t}function vy(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.endOffset=t.endOffset):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset)}function Ty(e,t){isNaN(e.startOffset)===!0?(e.startOffset=t.startOffset,e.startColumn=t.startColumn,e.startLine=t.startLine,e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine):e.endOffset<t.endOffset&&(e.endOffset=t.endOffset,e.endColumn=t.endColumn,e.endLine=t.endLine)}function yC(e,t,r){e.children[r]===void 0?e.children[r]=[t]:e.children[r].push(t)}function vC(e,t,r){e.children[t]===void 0?e.children[t]=[r]:e.children[t].push(r)}var Aj="name";function Ry(e,t){Object.defineProperty(e,Aj,{enumerable:!1,configurable:!0,writable:!1,value:t})}function Dj(e,t){let r=Ge(e),n=r.length;for(let i=0;i<n;i++){let o=r[i],s=e[o],a=s.length;for(let c=0;c<a;c++){let l=s[c];l.tokenTypeIdx===void 0&&this[l.name](l.children,t)}}}function TC(e,t){let r=function(){};Ry(r,e+"BaseSemantics");let n={visit:function(i,o){if(te(i)&&(i=i[0]),!cr(i))return this[i.name](i.children,o)},validateVisitor:function(){let i=Nj(this,t);if(!be(i)){let o=V(i,s=>s.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${o.join(`

`).replace(/\n/g,`
	`)}`)}}};return r.prototype=n,r.prototype.constructor=r,r._RULE_NAMES=t,r}function RC(e,t,r){let n=function(){};Ry(n,e+"BaseSemanticsWithDefaults");let i=Object.create(r.prototype);return J(t,o=>{i[o]=Dj}),n.prototype=i,n.prototype.constructor=n,n}var xy;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(xy||(xy={}));function Nj(e,t){return Ij(e,t)}function Ij(e,t){let r=ar(t,i=>yr(e[i])===!1),n=V(r,i=>({msg:`Missing visitor method: <${i}> on ${e.constructor.name} CST Visitor.`,type:xy.MISSING_METHOD,methodName:i}));return qn(n)}var wf=class{initTreeBuilder(t){if(this.CST_STACK=[],this.outputCst=t.outputCst,this.nodeLocationTracking=Z(t,"nodeLocationTracking")?t.nodeLocationTracking:Ir.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=ct,this.cstFinallyStateUpdate=ct,this.cstPostTerminal=ct,this.cstPostNonTerminal=ct,this.cstPostRule=ct;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=Ty,this.setNodeLocationFromNode=Ty,this.cstPostRule=ct,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=ct,this.setNodeLocationFromNode=ct,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=vy,this.setNodeLocationFromNode=vy,this.cstPostRule=ct,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=ct,this.setNodeLocationFromNode=ct,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=ct,this.setNodeLocationFromNode=ct,this.cstPostRule=ct,this.setInitialNodeLocation=ct;else throw Error(`Invalid <nodeLocationTracking> config option: "${t.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(t){t.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(t){t.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(t){t.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(t){let r=this.LA(1);t.location={startOffset:r.startOffset,startLine:r.startLine,startColumn:r.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(t){let r={name:t,children:Object.create(null)};this.setInitialNodeLocation(r),this.CST_STACK.push(r)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?(n.endOffset=r.endOffset,n.endLine=r.endLine,n.endColumn=r.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(t){let r=this.LA(0),n=t.location;n.startOffset<=r.startOffset?n.endOffset=r.endOffset:n.startOffset=NaN}cstPostTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];yC(n,r,t),this.setNodeLocationFromToken(n.location,r)}cstPostNonTerminal(t,r){let n=this.CST_STACK[this.CST_STACK.length-1];vC(n,r,t),this.setNodeLocationFromNode(n.location,t.location)}getBaseCstVisitorConstructor(){if(cr(this.baseCstVisitorConstructor)){let t=TC(this.className,Ge(this.gastProductionsCache));return this.baseCstVisitorConstructor=t,t}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(cr(this.baseCstVisitorWithDefaultsConstructor)){let t=RC(this.className,Ge(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=t,t}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-1]}getPreviousExplicitRuleShortName(){let t=this.RULE_STACK;return t[t.length-2]}getLastExplicitRuleOccurrenceIndex(){let t=this.RULE_OCCURRENCE_STACK;return t[t.length-1]}};var Cf=class{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(t){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=t,this.tokVectorLength=t.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):Zs}LA(t){let r=this.currIdx+t;return r<0||this.tokVectorLength<=r?Zs:this.tokVector[r]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(t){this.currIdx=t}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}};var Ef=class{ACTION(t){return t.call(this)}consume(t,r,n){return this.consumeInternal(r,t,n)}subrule(t,r,n){return this.subruleInternal(r,t,n)}option(t,r){return this.optionInternal(r,t)}or(t,r){return this.orInternal(r,t)}many(t,r){return this.manyInternal(t,r)}atLeastOne(t,r){return this.atLeastOneInternal(t,r)}CONSUME(t,r){return this.consumeInternal(t,0,r)}CONSUME1(t,r){return this.consumeInternal(t,1,r)}CONSUME2(t,r){return this.consumeInternal(t,2,r)}CONSUME3(t,r){return this.consumeInternal(t,3,r)}CONSUME4(t,r){return this.consumeInternal(t,4,r)}CONSUME5(t,r){return this.consumeInternal(t,5,r)}CONSUME6(t,r){return this.consumeInternal(t,6,r)}CONSUME7(t,r){return this.consumeInternal(t,7,r)}CONSUME8(t,r){return this.consumeInternal(t,8,r)}CONSUME9(t,r){return this.consumeInternal(t,9,r)}SUBRULE(t,r){return this.subruleInternal(t,0,r)}SUBRULE1(t,r){return this.subruleInternal(t,1,r)}SUBRULE2(t,r){return this.subruleInternal(t,2,r)}SUBRULE3(t,r){return this.subruleInternal(t,3,r)}SUBRULE4(t,r){return this.subruleInternal(t,4,r)}SUBRULE5(t,r){return this.subruleInternal(t,5,r)}SUBRULE6(t,r){return this.subruleInternal(t,6,r)}SUBRULE7(t,r){return this.subruleInternal(t,7,r)}SUBRULE8(t,r){return this.subruleInternal(t,8,r)}SUBRULE9(t,r){return this.subruleInternal(t,9,r)}OPTION(t){return this.optionInternal(t,0)}OPTION1(t){return this.optionInternal(t,1)}OPTION2(t){return this.optionInternal(t,2)}OPTION3(t){return this.optionInternal(t,3)}OPTION4(t){return this.optionInternal(t,4)}OPTION5(t){return this.optionInternal(t,5)}OPTION6(t){return this.optionInternal(t,6)}OPTION7(t){return this.optionInternal(t,7)}OPTION8(t){return this.optionInternal(t,8)}OPTION9(t){return this.optionInternal(t,9)}OR(t){return this.orInternal(t,0)}OR1(t){return this.orInternal(t,1)}OR2(t){return this.orInternal(t,2)}OR3(t){return this.orInternal(t,3)}OR4(t){return this.orInternal(t,4)}OR5(t){return this.orInternal(t,5)}OR6(t){return this.orInternal(t,6)}OR7(t){return this.orInternal(t,7)}OR8(t){return this.orInternal(t,8)}OR9(t){return this.orInternal(t,9)}MANY(t){this.manyInternal(0,t)}MANY1(t){this.manyInternal(1,t)}MANY2(t){this.manyInternal(2,t)}MANY3(t){this.manyInternal(3,t)}MANY4(t){this.manyInternal(4,t)}MANY5(t){this.manyInternal(5,t)}MANY6(t){this.manyInternal(6,t)}MANY7(t){this.manyInternal(7,t)}MANY8(t){this.manyInternal(8,t)}MANY9(t){this.manyInternal(9,t)}MANY_SEP(t){this.manySepFirstInternal(0,t)}MANY_SEP1(t){this.manySepFirstInternal(1,t)}MANY_SEP2(t){this.manySepFirstInternal(2,t)}MANY_SEP3(t){this.manySepFirstInternal(3,t)}MANY_SEP4(t){this.manySepFirstInternal(4,t)}MANY_SEP5(t){this.manySepFirstInternal(5,t)}MANY_SEP6(t){this.manySepFirstInternal(6,t)}MANY_SEP7(t){this.manySepFirstInternal(7,t)}MANY_SEP8(t){this.manySepFirstInternal(8,t)}MANY_SEP9(t){this.manySepFirstInternal(9,t)}AT_LEAST_ONE(t){this.atLeastOneInternal(0,t)}AT_LEAST_ONE1(t){return this.atLeastOneInternal(1,t)}AT_LEAST_ONE2(t){this.atLeastOneInternal(2,t)}AT_LEAST_ONE3(t){this.atLeastOneInternal(3,t)}AT_LEAST_ONE4(t){this.atLeastOneInternal(4,t)}AT_LEAST_ONE5(t){this.atLeastOneInternal(5,t)}AT_LEAST_ONE6(t){this.atLeastOneInternal(6,t)}AT_LEAST_ONE7(t){this.atLeastOneInternal(7,t)}AT_LEAST_ONE8(t){this.atLeastOneInternal(8,t)}AT_LEAST_ONE9(t){this.atLeastOneInternal(9,t)}AT_LEAST_ONE_SEP(t){this.atLeastOneSepFirstInternal(0,t)}AT_LEAST_ONE_SEP1(t){this.atLeastOneSepFirstInternal(1,t)}AT_LEAST_ONE_SEP2(t){this.atLeastOneSepFirstInternal(2,t)}AT_LEAST_ONE_SEP3(t){this.atLeastOneSepFirstInternal(3,t)}AT_LEAST_ONE_SEP4(t){this.atLeastOneSepFirstInternal(4,t)}AT_LEAST_ONE_SEP5(t){this.atLeastOneSepFirstInternal(5,t)}AT_LEAST_ONE_SEP6(t){this.atLeastOneSepFirstInternal(6,t)}AT_LEAST_ONE_SEP7(t){this.atLeastOneSepFirstInternal(7,t)}AT_LEAST_ONE_SEP8(t){this.atLeastOneSepFirstInternal(8,t)}AT_LEAST_ONE_SEP9(t){this.atLeastOneSepFirstInternal(9,t)}RULE(t,r,n=ea){if(Ze(this.definedRulesNames,t)){let s={message:hn.buildDuplicateRuleNameError({topLevelRule:t,grammarName:this.className}),type:$t.DUPLICATE_RULE_NAME,ruleName:t};this.definitionErrors.push(s)}this.definedRulesNames.push(t);let i=this.defineRule(t,r,n);return this[t]=i,i}OVERRIDE_RULE(t,r,n=ea){let i=sC(t,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(i);let o=this.defineRule(t,r,n);return this[t]=o,o}BACKTRACK(t,r){return function(){this.isBackTrackingStack.push(1);let n=this.saveRecogState();try{return t.apply(this,r),!0}catch(i){if(Ji(i))return!1;throw i}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return ef(Fe(this.gastProductionsCache))}};var Pf=class{initRecognizerEngine(t,r){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=Ys,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},Z(r,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(te(t)){if(be(t))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof t[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(te(t))this.tokensMap=Et(t,(o,s)=>(o[s.name]=s,o),{});else if(Z(t,"modes")&&sr(Lt(Fe(t.modes)),Fw)){let o=Lt(Fe(t.modes)),s=Gs(o);this.tokensMap=Et(s,(a,c)=>(a[c.name]=c,a),{})}else if(at(t))this.tokensMap=Je(t);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=Qr;let n=Z(t,"modes")?Lt(Fe(t.modes)):Fe(t),i=sr(n,o=>be(o.categoryMatches));this.tokenMatcher=i?Ys:pi,hi(Fe(this.tokensMap))}defineRule(t,r,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${t}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);let i=Z(n,"resyncEnabled")?n.resyncEnabled:ea.resyncEnabled,o=Z(n,"recoveryValueFunc")?n.recoveryValueFunc:ea.recoveryValueFunc,s=this.ruleShortNameIdx<<4+8;this.ruleShortNameIdx++,this.shortRuleNameToFull[s]=t,this.fullRuleNameToShort[t]=s;let a;return this.outputCst===!0?a=function(...g){try{this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,g);let v=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(v),v}catch(v){return this.invokeRuleCatch(v,i,o)}finally{this.ruleFinallyStateUpdate()}}:a=function(...g){try{return this.ruleInvocationStateUpdate(s,t,this.subruleIdx),r.apply(this,g)}catch(v){return this.invokeRuleCatch(v,i,o)}finally{this.ruleFinallyStateUpdate()}},Object.assign(a,{ruleName:t,originalGrammarAction:r})}invokeRuleCatch(t,r,n){let i=this.RULE_STACK.length===1,o=r&&!this.isBackTracking()&&this.recoveryEnabled;if(Ji(t)){let s=t;if(o){let a=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(a))if(s.resyncedTokens=this.reSyncTo(a),this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];return c.recoveredNode=!0,c}else return n(t);else{if(this.outputCst){let c=this.CST_STACK[this.CST_STACK.length-1];c.recoveredNode=!0,s.partialCstResult=c}throw s}}else{if(i)return this.moveToTerminatedState(),n(t);throw s}}else throw t}optionInternal(t,r){let n=this.getKeyForAutomaticLookahead(512,r);return this.optionInternalLogic(t,r,n)}optionInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof t!="function"){o=t.DEF;let s=t.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else o=t;if(i.call(this)===!0)return o.call(this)}atLeastOneInternal(t,r){let n=this.getKeyForAutomaticLookahead(1024,t);return this.atLeastOneInternalLogic(t,r,n)}atLeastOneInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;let s=r.GATE;if(s!==void 0){let a=i;i=()=>s.call(this)&&a.call(this)}}else o=r;if(i.call(this)===!0){let s=this.doSingleRepetition(o);for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(o)}else throw this.raiseEarlyExitException(t,ft.REPETITION_MANDATORY,r.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[t,r],i,1024,t,df)}atLeastOneSepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1536,t);this.atLeastOneSepFirstInternalLogic(t,r,n)}atLeastOneSepFirstInternalLogic(t,r,n){let i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,ic],a,1536,t,ic)}else throw this.raiseEarlyExitException(t,ft.REPETITION_MANDATORY_WITH_SEPARATOR,r.ERR_MSG)}manyInternal(t,r){let n=this.getKeyForAutomaticLookahead(768,t);return this.manyInternalLogic(t,r,n)}manyInternalLogic(t,r,n){let i=this.getLaFuncFromCache(n),o;if(typeof r!="function"){o=r.DEF;let a=r.GATE;if(a!==void 0){let c=i;i=()=>a.call(this)&&c.call(this)}}else o=r;let s=!0;for(;i.call(this)===!0&&s===!0;)s=this.doSingleRepetition(o);this.attemptInRepetitionRecovery(this.manyInternal,[t,r],i,768,t,ff,s)}manySepFirstInternal(t,r){let n=this.getKeyForAutomaticLookahead(1280,t);this.manySepFirstInternalLogic(t,r,n)}manySepFirstInternalLogic(t,r,n){let i=r.DEF,o=r.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){i.call(this);let a=()=>this.tokenMatcher(this.LA(1),o);for(;this.tokenMatcher(this.LA(1),o)===!0;)this.CONSUME(o),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,o,a,i,nc],a,1280,t,nc)}}repetitionSepSecondInternal(t,r,n,i,o){for(;n();)this.CONSUME(r),i.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[t,r,n,i,o],n,1536,t,o)}doSingleRepetition(t){let r=this.getLexerPosition();return t.call(this),this.getLexerPosition()>r}orInternal(t,r){let n=this.getKeyForAutomaticLookahead(256,r),i=te(t)?t:t.DEF,s=this.getLaFuncFromCache(n).call(this,i);if(s!==void 0)return i[s].ALT.call(this);this.raiseNoAltException(r,t.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){let t=this.LA(1),r=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:t,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new uc(r,t))}}subruleInternal(t,r,n){let i;try{let o=n!==void 0?n.ARGS:void 0;return this.subruleIdx=r,i=t.apply(this,o),this.cstPostNonTerminal(i,n!==void 0&&n.LABEL!==void 0?n.LABEL:t.ruleName),i}catch(o){throw this.subruleInternalError(o,n,t.ruleName)}}subruleInternalError(t,r,n){throw Ji(t)&&t.partialCstResult!==void 0&&(this.cstPostNonTerminal(t.partialCstResult,r!==void 0&&r.LABEL!==void 0?r.LABEL:n),delete t.partialCstResult),t}consumeInternal(t,r,n){let i;try{let o=this.LA(1);this.tokenMatcher(o,t)===!0?(this.consumeToken(),i=o):this.consumeInternalError(t,o,n)}catch(o){i=this.consumeInternalRecovery(t,r,o)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:t.name,i),i}consumeInternalError(t,r,n){let i,o=this.LA(0);throw n!==void 0&&n.ERR_MSG?i=n.ERR_MSG:i=this.errorMessageProvider.buildMismatchTokenMessage({expected:t,actual:r,previous:o,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new No(i,r,o))}consumeInternalRecovery(t,r,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){let i=this.getFollowsForInRuleRecovery(t,r);try{return this.tryInRuleRecovery(t,i)}catch(o){throw o.name===hy?n:o}}else throw n}saveRecogState(){let t=this.errors,r=Je(this.RULE_STACK);return{errors:t,lexerState:this.exportLexerState(),RULE_STACK:r,CST_STACK:this.CST_STACK}}reloadRecogState(t){this.errors=t.errors,this.importLexerState(t.lexerState),this.RULE_STACK=t.RULE_STACK}ruleInvocationStateUpdate(t,r,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(t),this.cstInvocationStateUpdate(r)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){let t=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[t]}shortRuleNameToFullName(t){return this.shortRuleNameToFull[t]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),Qr)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}};var Af=class{initErrorHandler(t){this._errors=[],this.errorMessageProvider=Z(t,"errorMessageProvider")?t.errorMessageProvider:Ir.errorMessageProvider}SAVE_ERROR(t){if(Ji(t))return t.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Je(this.RULE_OCCURRENCE_STACK)},this._errors.push(t),t;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Je(this._errors)}set errors(t){this._errors=t}raiseEarlyExitException(t,r,n){let i=this.getCurrRuleFullName(),o=this.getGAstProductions()[i],a=sc(t,o,r,this.maxLookahead)[0],c=[];for(let g=1;g<=this.maxLookahead;g++)c.push(this.LA(g));let l=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:a,actual:c,previous:this.LA(0),customUserDescription:n,ruleName:i});throw this.SAVE_ERROR(new lc(l,this.LA(1),this.LA(0)))}raiseNoAltException(t,r){let n=this.getCurrRuleFullName(),i=this.getGAstProductions()[n],o=oc(t,i,this.maxLookahead),s=[];for(let l=1;l<=this.maxLookahead;l++)s.push(this.LA(l));let a=this.LA(0),c=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:o,actual:s,previous:a,customUserDescription:r,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new cc(c,this.LA(1),a))}};var Df=class{initContentAssist(){}computeContentAssist(t,r){let n=this.gastProductionsCache[t];if(cr(n))throw Error(`Rule ->${t}<- does not exist in this grammar.`);return hf([n],r,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(t){let r=Ht(t.ruleStack),i=this.getGAstProductions()[r];return new lf(i,t).startWalking()}};var Of={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(Of);var xC=!0,bC=Math.pow(2,8)-1,SC=cf({name:"RECORDING_PHASE_TOKEN",pattern:Pt.NA});hi([SC]);var kC=Do(SC,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(kC);var Lj={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}},Nf=class{initGastRecorder(t){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let t=0;t<10;t++){let r=t>0?t:"";this[`CONSUME${r}`]=function(n,i){return this.consumeInternalRecord(n,t,i)},this[`SUBRULE${r}`]=function(n,i){return this.subruleInternalRecord(n,t,i)},this[`OPTION${r}`]=function(n){return this.optionInternalRecord(n,t)},this[`OR${r}`]=function(n){return this.orInternalRecord(n,t)},this[`MANY${r}`]=function(n){this.manyInternalRecord(t,n)},this[`MANY_SEP${r}`]=function(n){this.manySepFirstInternalRecord(t,n)},this[`AT_LEAST_ONE${r}`]=function(n){this.atLeastOneInternalRecord(t,n)},this[`AT_LEAST_ONE_SEP${r}`]=function(n){this.atLeastOneSepFirstInternalRecord(t,n)}}this.consume=function(t,r,n){return this.consumeInternalRecord(r,t,n)},this.subrule=function(t,r,n){return this.subruleInternalRecord(r,t,n)},this.option=function(t,r){return this.optionInternalRecord(r,t)},this.or=function(t,r){return this.orInternalRecord(r,t)},this.many=function(t,r){this.manyInternalRecord(t,r)},this.atLeastOne=function(t,r){this.atLeastOneInternalRecord(t,r)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{let t=this;for(let r=0;r<10;r++){let n=r>0?r:"";delete t[`CONSUME${n}`],delete t[`SUBRULE${n}`],delete t[`OPTION${n}`],delete t[`OR${n}`],delete t[`MANY${n}`],delete t[`MANY_SEP${n}`],delete t[`AT_LEAST_ONE${n}`],delete t[`AT_LEAST_ONE_SEP${n}`]}delete t.consume,delete t.subrule,delete t.option,delete t.or,delete t.many,delete t.atLeastOne,delete t.ACTION,delete t.BACKTRACK,delete t.LA})}ACTION_RECORD(t){}BACKTRACK_RECORD(t,r){return()=>!0}LA_RECORD(t){return Zs}topLevelRuleRecord(t,r){try{let n=new Tr({definition:[],name:t});return n.name=t,this.recordingProdStack.push(n),r.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(t,r){return dc.call(this,je,t,r)}atLeastOneInternalRecord(t,r){dc.call(this,ut,r,t)}atLeastOneSepFirstInternalRecord(t,r){dc.call(this,lt,r,t,xC)}manyInternalRecord(t,r){dc.call(this,De,r,t)}manySepFirstInternalRecord(t,r){dc.call(this,et,r,t,xC)}orInternalRecord(t,r){return Mj.call(this,t,r)}subruleInternalRecord(t,r,n){if(If(r),!t||Z(t,"ruleName")===!1){let a=new Error(`<SUBRULE${_C(r)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw a.KNOWN_RECORDER_ERROR=!0,a}let i=jn(this.recordingProdStack),o=t.ruleName,s=new qe({idx:r,nonTerminalName:o,label:n?.LABEL,referencedRule:void 0});return i.definition.push(s),this.outputCst?Lj:Of}consumeInternalRecord(t,r,n){if(If(r),!ry(t)){let s=new Error(`<CONSUME${_C(r)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(t)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw s.KNOWN_RECORDER_ERROR=!0,s}let i=jn(this.recordingProdStack),o=new ke({idx:r,terminalType:t,label:n?.LABEL});return i.definition.push(o),kC}};function dc(e,t,r,n=!1){If(r);let i=jn(this.recordingProdStack),o=yr(t)?t:t.DEF,s=new e({definition:[],idx:r});return n&&(s.separator=t.SEP),Z(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD),this.recordingProdStack.push(s),o.call(this),i.definition.push(s),this.recordingProdStack.pop(),Of}function Mj(e,t){If(t);let r=jn(this.recordingProdStack),n=te(e)===!1,i=n===!1?e:e.DEF,o=new tt({definition:[],idx:t,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});Z(e,"MAX_LOOKAHEAD")&&(o.maxLookahead=e.MAX_LOOKAHEAD);let s=Ja(i,a=>yr(a.GATE));return o.hasPredicates=s,r.definition.push(o),J(i,a=>{let c=new Ke({definition:[]});o.definition.push(c),Z(a,"IGNORE_AMBIGUITIES")?c.ignoreAmbiguities=a.IGNORE_AMBIGUITIES:Z(a,"GATE")&&(c.ignoreAmbiguities=!0),this.recordingProdStack.push(c),a.ALT.call(this),this.recordingProdStack.pop()}),Of}function _C(e){return e===0?"":`${e}`}function If(e){if(e<0||e>bC){let t=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${bC+1}`);throw t.KNOWN_RECORDER_ERROR=!0,t}}var Lf=class{initPerformanceTracer(t){if(Z(t,"traceInitPerf")){let r=t.traceInitPerf,n=typeof r=="number";this.traceInitMaxIdent=n?r:1/0,this.traceInitPerf=n?r>0:r}else this.traceInitMaxIdent=0,this.traceInitPerf=Ir.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(t,r){if(this.traceInitPerf===!0){this.traceInitIndent++;let n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${t}>`);let{time:i,value:o}=Za(r),s=i>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&s(`${n}<-- <${t}> time: ${i}ms`),this.traceInitIndent--,o}else return r()}};function wC(e,t){t.forEach(r=>{let n=r.prototype;Object.getOwnPropertyNames(n).forEach(i=>{if(i==="constructor")return;let o=Object.getOwnPropertyDescriptor(n,i);o&&(o.get||o.set)?Object.defineProperty(e.prototype,i,o):e.prototype[i]=r.prototype[i]})})}var Zs=Do(Qr,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(Zs);var Ir=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:mi,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),ea=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0}),$t;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})($t||($t={}));var Mf=class e{static performSelfAnalysis(t){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let t;this.selfAnalysisDone=!0;let r=this.className;this.TRACE_INIT("toFastProps",()=>{ec(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),J(this.definedRulesNames,i=>{let s=this[i].originalGrammarAction,a;this.TRACE_INIT(`${i} Rule`,()=>{a=this.topLevelRuleRecord(i,s)}),this.gastProductionsCache[i]=a})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=lC({rules:Fe(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(be(n)&&this.skipValidations===!1){let i=fC({rules:Fe(this.gastProductionsCache),tokenTypes:Fe(this.tokensMap),errMsgProvider:hn,grammarName:r}),o=nC({lookaheadStrategy:this.lookaheadStrategy,rules:Fe(this.gastProductionsCache),tokenTypes:Fe(this.tokensMap),grammarName:r});this.definitionErrors=this.definitionErrors.concat(i,o)}}),be(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{let i=vw(Fe(this.gastProductionsCache));this.resyncFollows=i}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var i,o;(o=(i=this.lookaheadStrategy).initialize)===null||o===void 0||o.call(i,{rules:Fe(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(Fe(this.gastProductionsCache))})),!e.DEFER_DEFINITION_ERRORS_HANDLING&&!be(this.definitionErrors))throw t=V(this.definitionErrors,i=>i.message),new Error(`Parser Definition Errors detected:
 ${t.join(`
-------------------------------
`)}`)})}constructor(t,r){this.definitionErrors=[],this.selfAnalysisDone=!1;let n=this;if(n.initErrorHandler(r),n.initLexerAdapter(),n.initLooksAhead(r),n.initRecognizerEngine(t,r),n.initRecoverable(r),n.initTreeBuilder(r),n.initContentAssist(),n.initGastRecorder(r),n.initPerformanceTracer(r),Z(r,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=Z(r,"skipValidations")?r.skipValidations:Ir.skipValidations}};Mf.DEFER_DEFINITION_ERRORS_HANDLING=!1;wC(Mf,[Tf,bf,wf,Cf,Pf,Ef,Af,Df,Nf,Lf]);var _y=class{constructor(){this.predicates=[]}is(t){return t>=this.predicates.length||this.predicates[t]}set(t,r){this.predicates[t]=r}toString(){let t="",r=this.predicates.length;for(let n=0;n<r;n++)t+=this.predicates[n]===!0?"1":"0";return t}},afe=new _y;po();var _fe=Symbol("Datatype");var Sy=class{buildMismatchTokenMessage(t){return mi.buildMismatchTokenMessage(t)}buildNotAllInputParsedMessage(t){return mi.buildNotAllInputParsedMessage(t)}buildNoViableAltMessage(t){return mi.buildNoViableAltMessage(t)}buildEarlyExitMessage(t){return mi.buildEarlyExitMessage(t)}},$f=class extends Sy{buildMismatchTokenMessage({expected:t,actual:r}){return`Expecting ${t.LABEL?"`"+t.LABEL+"`":t.name.endsWith(":KW")?`keyword '${t.name.substring(0,t.name.length-3)}'`:`token of type '${t.name}'`} but found \`${r.image}\`.`}buildNotAllInputParsedMessage({firstRedundant:t}){return`Expecting end of file but found \`${t.image}\`.`}};var Sfe={recoveryEnabled:!0,nodeLocationTracking:"full",skipValidations:!0,errorMessageProvider:new $f};var Bj=Pe(Le(),1);var Kj=Pe(Le(),1);var zj=Pe(vt(),1);var CC=Pe(Le(),1);var Vj=Pe(Le(),1);var Xj=Pe(Le(),1);var EC=Pe(Le(),1);var PC;(function(e){function t(r){return{dispose:async()=>await r()}}e.create=t})(PC||(PC={}));var ua=Pe(lP(),1),EG=new ua.BrowserMessageReader(self),PG=new ua.BrowserMessageWriter(self),AG=(0,ua.createConnection)(EG,PG),{shared:DG}=ov.createAomServices({connection:AG,...jg});__(DG);})();
/*! Bundled license information:

lodash-es/lodash.js:
  (**
   * @license
   * Lodash (Custom Build) <https://lodash.com/>
   * Build: `lodash modularize exports="es" -o ./`
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
